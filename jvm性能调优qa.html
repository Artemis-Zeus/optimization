<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-10T01:07:32.5320614"><title>JVM性能调优QA | 技术知识库</title><script type="application/json" id="virtual-toc-data">[{"id":"d99o10_4","level":0,"title":"📋 知识结构","anchor":"#d99o10_4"},{"id":"jvm","level":0,"title":"⚙️ JVM参数配置详解","anchor":"#jvm"},{"id":"d99o10_6","level":0,"title":"🔍 监控工具详解","anchor":"#d99o10_6"},{"id":"d99o10_7","level":0,"title":"📊 性能分析实践","anchor":"#d99o10_7"},{"id":"d99o10_8","level":0,"title":"💡 面试技巧","anchor":"#d99o10_8"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="JVM性能调优QA | 技术知识库"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="技术知识库 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/jvm性能调优qa.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="JVM性能调优QA | 技术知识库"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/jvm性能调优qa.html#webpage",
    "url": "writerside-documentation/jvm性能调优qa.html",
    "name": "JVM性能调优QA | 技术知识库",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "技术知识库 Help"
}</script><!-- End Schema.org --></head><body data-id="JVM性能调优QA" data-main-title="JVM性能调优QA" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="JVM面试大纲.md|JVM面试大纲"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>技术知识库  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="JVM性能调优QA" id="JVM性能调优QA.md">JVM性能调优QA</h1><p id="d99o10_3">本文档深入解析JVM性能调优的方法和实践，涵盖JVM参数配置、监控工具使用、性能分析技巧、调优实战经验等核心内容。</p><section class="chapter"><h2 id="d99o10_4" data-toc="d99o10_4">📋 知识结构</h2><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="5 5 737.7222290039062 440.746337890625" style="max-width: 737.7222290039062px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 433.5129544820291,122.4998257100496 L 497.18452728780824,100.55206847899129 L560.8561000935874,78.60431124793297"></path><path class="edge section-edge-0 edge-depth-1" d="M 407.76392408632097,117.83907418808138 L 373.56337730869313,89.6073065095841 L339.3628305310653,61.375538831086814"></path><path class="edge section-edge-0 edge-depth-1" d="M 423.7589497923117,113.05630284410987 L 433.77119255563105,80.6440509736988 L443.7834353189504,48.23179910328771"></path><path class="edge section-edge-0 edge-depth-1" d="M 434.04753396054997,130.29457328000152 L 493.28126926283176,141.99370522139034 L552.5150045651135,153.69283716277917"></path><path class="edge section-edge-0 edge-depth-0" d="M 380.20273881425396,210.64495653903612 L 396.5771776511268,175.8042586911302 L412.9516164879997,140.96356084322434"></path><path class="edge section-edge-1 edge-depth-1" d="M 311.80814946642874,327.8329478813417 L 251.1334411214919,344.1612129124527 L190.45873277655505,360.4894779435637"></path><path class="edge section-edge-1 edge-depth-1" d="M 321.4237457589189,338.1227014312904 L 310.34975257492124,370.3906468559991 L299.27575939092355,402.65859228070775"></path><path class="edge section-edge-1 edge-depth-1" d="M 338.60772948711644,332.49900783340865 L 377.65678513532384,359.65455619394095 L416.70584078353124,386.81010455447324"></path><path class="edge section-edge-1 edge-depth-1" d="M 311.9862198934667,319.42705004757676 L 257.0274482384759,302.1099391083382 L202.06867658348517,284.79282816909966"></path><path class="edge section-edge-1 edge-depth-0" d="M 367.3683792994832,237.76086551102821 L 350.05768044871195,274.07768566444804 L332.7469815979407,310.39450581786787"></path><path class="edge section-edge-2 edge-depth-1" d="M 559.3904681641177,241.33784208483294 L 617.264709389107,223.1127314992419 L675.1389506140963,204.88762091365086"></path><path class="edge section-edge-2 edge-depth-1" d="M 559.5673381252209,249.74300482746526 L 617.6253300825477,265.37421110501066 L675.6833220398746,281.005417382556"></path><path class="edge section-edge-2 edge-depth-1" d="M 549.3772318571282,260.215569054287 L 558.8759883083852,292.0074756191126 L568.3747447596422,323.7993821839382"></path><path class="edge section-edge-2 edge-depth-1" d="M 532.2567236244302,253.62048027342485 L 494.4820867531812,276.5246711572091 L456.70744988193223,299.4288620409934"></path><path class="edge section-edge-2 edge-depth-0" d="M 388.7043950736696,226.0993616500129 L 459.45282822930733,235.0318848366126 L530.201261384945,243.9644080232123"></path><path class="edge section-edge-3 edge-depth-1" d="M 186.3516494960458,198.0926255745852 L 129.686727712218,217.39281981798757 L73.02180592839018,236.69301406138987"></path><path class="edge section-edge-3 edge-depth-1" d="M 212.10650981255,183.69285985400992 L 241.8626798472559,159.06686552140778 L271.61884988196175,134.44087118880563"></path><path class="edge section-edge-3 edge-depth-1" d="M 194.39590539134778,179.57726453371112 L 180.26595138526335,148.17281042287678 L166.13599737917892,116.76835631204244"></path><path class="edge section-edge-3 edge-depth-1" d="M 185.97172185505787,189.72720690882505 L 129.0526601743042,175.9484293381079 L72.13359849355055,162.16965176739075"></path><path class="edge section-edge-3 edge-depth-0" d="M 359.05646116631567,221.58169094224854 L 287.1865872527146,208.73841836907877 L215.3167133391136,195.89514579590895"></path></g><g class="mindmap-nodes"><g transform="translate(317.5491041568208, 205.32041543486287)" class="mindmap-node section--1 section-root"><g transform="translate(56.2734375, 18.9)"><circle r="56.2734375" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(56.2734375, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JVM性能调优</tspan></tspan></text></g></g></g><g transform="translate(362.57231123454415, 108.48810194739758)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h103.51900482177734 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-1"></path><line y2="37.8" x2="113.51900482177734" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(56.75950241088867, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JVM参数配置</tspan></tspan></text></g></g></g><g transform="translate(284.2381317406031, 305.03495589403326)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h74.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-6"></path><line y2="37.8" x2="84.109375" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(42.0546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">监控工具</tspan></tspan></text></g></g></g><g transform="translate(502.04711550369814, 226.9433542383623)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-11"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">性能分析</tspan></tspan></text></g></g></g><g transform="translate(157.5146335505127, 174.3564213032946)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-16"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">调优实践</tspan></tspan></text></g></g></g><g transform="translate(532.501241632088, 54.81603501058499)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-2"></path><line y2="37.8" x2="85.0719985961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(42.5359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">内存参数</tspan></tspan></text></g></g></g><g transform="translate(291.06362917385775, 32.92651107177062)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h63.462623596191406 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-3"></path><line y2="37.8" x2="73.4626235961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(36.7313117980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">GC参数</tspan></tspan></text></g></g></g><g transform="translate(397.1625711301359, 15)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-4"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">编译器参数</tspan></tspan></text></g></g></g><g transform="translate(524.194725582135, 137.6993084953831)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-5"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">诊断参数</tspan></tspan></text></g></g></g><g transform="translate(125.41156300238072, 345.4874699308722)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h91.125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-7"></path><line y2="37.8" x2="101.125" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(50.5625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">命令行工具</tspan></tspan></text></g></g></g><g transform="translate(244.3441859092394, 397.94633781796495)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h90.125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-8"></path><line y2="37.8" x2="100.125" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(50.0625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">可视化工具</tspan></tspan></text></g></g></g><g transform="translate(377.97275069435125, 376.4741564938487)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-9"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">性能分析器</tspan></tspan></text></g></g></g><g transform="translate(137.19957723634877, 261.3849223226432)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h91.125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-10"></path><line y2="37.8" x2="101.125" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(50.5625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">第三方工具</tspan></tspan></text></g></g></g><g transform="translate(646.4103046783245, 181.4821087601215)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-12"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">性能指标</tspan></tspan></text></g></g></g><g transform="translate(647.6128578633017, 266.00506797165895)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-13"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">瓶颈识别</tspan></tspan></text></g></g></g><g transform="translate(530.1328625168809, 319.27159699986294)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-14"></path><line y2="37.8" x2="85.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(42.5359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">问题诊断</tspan></tspan></text></g></g></g><g transform="translate(400.84505940647284, 288.305988076056)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-15"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">优化策略</tspan></tspan></text></g></g></g><g transform="translate(15.786823277731855, 222.62921833268047)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-17"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">调优流程</tspan></tspan></text></g></g></g><g transform="translate(240.13872754780766, 105.97730973952093)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-18"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">最佳实践</tspan></tspan></text></g></g></g><g transform="translate(116.94527062382258, 84.18919954245894)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-19"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">案例分析</tspan></tspan></text></g></g></g><g transform="translate(15, 139.74043737292118)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-20"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">经验总结</tspan></tspan></text></g></g></g></g></svg></section><section class="chapter"><h2 id="jvm" data-toc="jvm">⚙️ JVM参数配置详解</h2><section class="chapter"><h3 id="q1-jvm" data-toc="q1-jvm">Q1: JVM参数有哪些类型？如何正确配置内存参数？</h3><p id="d99o10_13"><span class="control" id="d99o10_20">答案：</span></p><p id="d99o10_14"><span class="control" id="d99o10_21">JVM参数分类：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 776.15625 786"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="776.15625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="JVM参数分类" class="cluster"><rect height="770" width="760.15625" y="8" x="8" style=""></rect><g transform="translate(341.8046875, 8)" class="cluster-label"><foreignObject height="24" width="92.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM参数分类</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M184.43,120.667L192.168,116.223C199.906,111.778,215.383,102.889,230.326,98.445C245.268,94,259.677,94,273.419,94C287.161,94,300.237,94,306.775,94L313.313,94"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M187.332,375L194.587,370.833C201.841,366.667,216.35,358.333,231.686,354.167C247.021,350,263.182,350,278.677,350C294.172,350,309,350,316.414,350L323.828,350"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M193.359,613.519L199.609,610.266C205.859,607.013,218.359,600.506,227.734,597.253C237.109,594,243.359,594,248.943,594C254.526,594,259.443,594,261.901,594L264.359,594"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M437.977,222L451.811,222C465.646,222,493.315,222,510.424,222C527.534,222,534.083,222,539.966,222C545.849,222,551.065,222,553.673,222L556.281,222"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M437.977,478L451.811,478C465.646,478,493.315,478,511.092,478C528.87,478,536.755,478,543.974,478C551.193,478,557.745,478,561.021,478L564.297,478"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M445.984,710L458.484,710C470.984,710,495.984,710,511.609,710C527.234,710,533.484,710,539.068,710C544.651,710,549.568,710,552.026,710L554.484,710"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_G_6" d="M184.43,195.333L192.168,199.777C199.906,204.222,215.383,213.111,230.038,217.555C244.694,222,258.529,222,271.697,222C284.865,222,297.366,222,303.617,222L309.867,222"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_I_7" d="M187.332,453L194.587,457.167C201.841,461.333,216.35,469.667,230.522,473.833C244.694,478,258.529,478,271.697,478C284.865,478,297.366,478,303.617,478L309.867,478"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_K_8" d="M193.359,690.481L199.609,693.734C205.859,696.987,218.359,703.494,230.859,706.747C243.359,710,255.859,710,267.693,710C279.526,710,290.693,710,296.276,710L301.859,710"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(119.4296875, 158)" id="flowchart-A-6069" class="node default"><rect height="78" width="130" y="-39" x="-65" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-35, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="70"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>标准参数<br>-符号开头</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 94)" id="flowchart-B-6070" class="node default"><rect height="102" width="117.21875" y="-51" x="-58.609375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-28.609375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="57.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-version<br>-cp<br>-D</p></span></div></foreignObject></g></g><g transform="translate(119.4296875, 414)" id="flowchart-C-6071" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>非标准参数<br>-X符号开头</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 350)" id="flowchart-D-6072" class="node default"><rect height="102" width="96.1875" y="-51" x="-48.09375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-18.09375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="36.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-Xms<br>-Xmx<br>-Xss</p></span></div></foreignObject></g></g><g transform="translate(119.4296875, 652)" id="flowchart-E-6073" class="node default"><rect height="78" width="147.859375" y="-39" x="-73.9296875" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-43.9296875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="87.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>高级参数<br>-XX符号开头</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 594)" id="flowchart-F-6074" class="node default"><rect height="78" width="215.125" y="-39" x="-107.5625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-77.5625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="155.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+UseG1GC<br>-XX:MaxGCPauseMillis</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 222)" id="flowchart-G-6075" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>可移植性</p></span></div></foreignObject></g></g><g transform="translate(644.5703125, 222)" id="flowchart-H-6076" class="node default"><rect height="54" width="168.578125" y="-27" x="-84.2890625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-54.2890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="108.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>所有JVM都支持</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 478)" id="flowchart-I-6077" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>特定实现</p></span></div></foreignObject></g></g><g transform="translate(644.5703125, 478)" id="flowchart-J-6078" class="node default"><rect height="54" width="152.546875" y="-27" x="-76.2734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-46.2734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="92.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>特定JVM支持</p></span></div></foreignObject></g></g><g transform="translate(375.921875, 710)" id="flowchart-K-6079" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>不稳定参数</p></span></div></foreignObject></g></g><g transform="translate(644.5703125, 710)" id="flowchart-L-6080" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>版本间可能变化</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="d99o10_16"><span class="control" id="d99o10_22">核心内存参数配置：</span></p><div class="code-block" data-lang="bash">
# 堆内存配置
-Xms4g                      # 初始堆大小4GB
-Xmx8g                      # 最大堆大小8GB
-Xmn2g                      # 新生代大小2GB

# 或者使用比例配置
-XX:NewRatio=3              # 老年代:新生代 = 3:1
-XX:SurvivorRatio=8         # Eden:Survivor = 8:1:1

# 方法区配置
-XX:MetaspaceSize=256m      # 元空间初始大小
-XX:MaxMetaspaceSize=512m   # 元空间最大大小

# 栈内存配置
-Xss256k                    # 每个线程栈大小256KB

# 直接内存配置
-XX:MaxDirectMemorySize=1g  # 直接内存最大1GB
</div><p id="d99o10_18"><span class="control" id="d99o10_23">内存配置最佳实践：</span></p><div class="table-wrapper"><table class="wide" id="d99o10_19"><thead><tr class="ijRowHead" id="d99o10_24"><th id="d99o10_29"><p>参数</p></th><th id="d99o10_30"><p>推荐配置</p></th><th id="d99o10_31"><p>说明</p></th></tr></thead><tbody><tr id="d99o10_25"><td id="d99o10_32"><p><span class="control" id="d99o10_35">-Xms/-Xmx</span></p></td><td id="d99o10_33"><p>设置相等</p></td><td id="d99o10_34"><p>避免动态扩容开销</p></td></tr><tr id="d99o10_26"><td id="d99o10_36"><p><span class="control" id="d99o10_39">新生代大小</span></p></td><td id="d99o10_37"><p>堆的1/3到1/4</p></td><td id="d99o10_38"><p>根据应用特性调整</p></td></tr><tr id="d99o10_27"><td id="d99o10_40"><p><span class="control" id="d99o10_43">元空间</span></p></td><td id="d99o10_41"><p>256m起步</p></td><td id="d99o10_42"><p>根据类数量调整</p></td></tr><tr id="d99o10_28"><td id="d99o10_44"><p><span class="control" id="d99o10_47">栈大小</span></p></td><td id="d99o10_45"><p>256k-1m</p></td><td id="d99o10_46"><p>根据递归深度调整</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="q2-gc" data-toc="q2-gc">Q2: 如何选择和配置垃圾收集器？各种GC参数的作用是什么？</h3><p id="d99o10_48"><span class="control" id="d99o10_53">答案：</span></p><p id="d99o10_49"><span class="control" id="d99o10_54">垃圾收集器选择指南：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 644.93359375 1182.03125" height="1182.03125" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="644.93359375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M202.48,62L202.48,66.167C202.48,70.333,202.48,78.667,202.522,84.958C202.564,91.25,202.647,95.5,202.717,99.083C202.788,102.667,202.845,105.584,202.873,107.042L202.902,108.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M171.493,205.013L159.631,216.344C147.769,227.675,124.045,250.338,112.183,266.669C100.32,283,100.32,293,100.32,302.333C100.32,311.667,100.32,320.333,100.32,324.667L100.32,329"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M234.467,205.013L246.163,216.344C257.859,227.675,281.25,250.338,292.987,264.794C304.724,279.25,304.807,285.5,304.882,291.083C304.956,296.667,305.022,301.584,305.055,304.042L305.087,306.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M273.737,403.097L261.953,414.414C250.169,425.731,226.6,448.366,214.816,464.015C203.031,479.665,203.031,488.331,203.031,496.329C203.031,504.328,203.031,511.66,203.031,515.326L203.031,518.992"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_F_4" d="M336.544,403.097L348.162,414.414C359.779,425.731,383.015,448.366,394.674,462.808C406.333,477.25,406.417,483.5,406.491,489.083C406.566,494.667,406.631,499.584,406.664,502.042L406.697,504.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M376.555,586.289L359.723,599.405C342.892,612.521,309.229,638.753,292.398,655.952C275.566,673.151,275.566,681.318,275.566,688.818C275.566,696.318,275.566,703.151,275.566,706.568L275.566,709.984"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_6" d="M436.945,586.289L453.61,599.405C470.275,612.521,503.604,638.753,520.269,655.952C536.934,673.151,536.934,681.318,536.934,688.818C536.934,696.318,536.934,703.151,536.934,706.568L536.934,709.984"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_7" d="M529.745,791.984L528.609,798.151C527.472,804.318,525.199,816.651,524.566,826.649C523.932,836.646,524.938,844.308,525.858,851.309C526.777,858.309,527.61,864.649,528.026,867.819L528.442,870.989"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_8" d="M537.434,1022.531L537.35,1028.615C537.267,1034.698,537.1,1046.865,537.017,1056.031C536.934,1065.198,536.934,1071.365,536.934,1076.865C536.934,1082.365,536.934,1087.198,536.934,1089.615L536.934,1092.031"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_H_9" d="M545.904,874.955L546.744,867.293C547.583,859.631,549.262,844.308,549.534,833.563C549.805,822.818,548.668,816.651,547.652,811.14C546.637,805.629,545.742,800.774,545.294,798.346L544.847,795.918"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(100.3203125, 273)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>桌面应用</p></span></div></foreignObject></g></g><g transform="translate(304.640625, 273)" class="edgeLabel"><g transform="translate(-40.0625, -12)" class="label"><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>服务端应用</p></span></div></foreignObject></g></g><g transform="translate(203.03125, 471)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>高吞吐量</p></span></div></foreignObject></g></g><g transform="translate(406.25, 471)" class="edgeLabel"><g transform="translate(-24.0390625, -12)" class="label"><foreignObject height="24" width="48.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>低延迟</p></span></div></foreignObject></g></g><g transform="translate(275.56640625, 664.984375)" class="edgeLabel"><g transform="translate(-20.8046875, -12)" class="label"><foreignObject height="24" width="41.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>&lt; 6GB</p></span></div></foreignObject></g></g><g transform="translate(536.93359375, 664.984375)" class="edgeLabel"><g transform="translate(-100, -24)" class="label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Unsupported markdown: blockquote</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(536.93359375, 1059.03125)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(550.94140625, 828.984375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(202.48046875, 35)" id="flowchart-A-6090" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择垃圾收集器</p></span></div></foreignObject></g></g><g transform="translate(202.48046875, 174)" id="flowchart-B-6091" class="node default"><polygon transform="translate(-62,62)" class="label-container" points="62,0 124,-62 62,-124 0,-62"></polygon><g transform="translate(-35, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="70"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>应用类型?</p></span></div></foreignObject></g></g><g transform="translate(100.3203125, 372)" id="flowchart-C-6093" class="node default"><rect height="78" width="184.640625" y="-39" x="-92.3203125" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-62.3203125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="124.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Serial GC<br>-XX:+UseSerialGC</p></span></div></foreignObject></g></g><g transform="translate(304.640625, 372)" id="flowchart-D-6095" class="node default"><polygon transform="translate(-62,62)" class="label-container" points="62,0 124,-62 62,-124 0,-62"></polygon><g transform="translate(-35, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="70"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主要目标?</p></span></div></foreignObject></g></g><g transform="translate(203.03125, 561.9921875)" id="flowchart-E-6097" class="node default"><rect height="78" width="198.453125" y="-39" x="-99.2265625" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-69.2265625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="138.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Parallel GC<br>-XX:+UseParallelGC</p></span></div></foreignObject></g></g><g transform="translate(406.25, 561.9921875)" id="flowchart-F-6099" class="node default"><polygon transform="translate(-53.9921875,53.9921875)" class="label-container" points="53.9921875,0 107.984375,-53.9921875 53.9921875,-107.984375 0,-53.9921875"></polygon><g transform="translate(-26.9921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="53.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>堆大小?</p></span></div></foreignObject></g></g><g transform="translate(275.56640625, 752.984375)" id="flowchart-G-6101" class="node default"><rect height="78" width="259.3125" y="-39" x="-129.65625" data-et="node" data-id="abc" style="fill:#fff3e0 !important" class="basic label-container"></rect><g transform="translate(-99.65625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="199.3125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CMS GC<br>-XX:+UseConcMarkSweepGC</p></span></div></foreignObject></g></g><g transform="translate(536.93359375, 752.984375)" id="flowchart-H-6103" class="node default"><rect height="78" width="163.421875" y="-39" x="-81.7109375" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-51.7109375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="103.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>G1 GC<br>-XX:+UseG1GC</p></span></div></foreignObject></g></g><g transform="translate(536.93359375, 944.0078125)" id="flowchart-I-6105" class="node default"><polygon transform="translate(-78.0234375,78.0234375)" class="label-container" points="78.0234375,0 156.046875,-78.0234375 78.0234375,-156.046875 0,-78.0234375"></polygon><g transform="translate(-51.0234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="102.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>延迟要求极高?</p></span></div></foreignObject></g></g><g transform="translate(536.93359375, 1135.03125)" id="flowchart-J-6107" class="node default"><rect height="78" width="183.640625" y="-39" x="-91.8203125" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-61.8203125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="123.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ZGC/Shenandoah<br>-XX:+UseZGC</p></span></div></foreignObject></g></g></g></g></g></svg><p id="d99o10_51"><span class="control" id="d99o10_55">主要GC参数配置：</span></p><div class="code-block" data-lang="bash">
# Serial GC配置
-XX:+UseSerialGC

# Parallel GC配置
-XX:+UseParallelGC
-XX:ParallelGCThreads=8           # 并行GC线程数
-XX:MaxGCPauseMillis=200          # 最大停顿时间目标
-XX:GCTimeRatio=99                # 吞吐量目标

# CMS GC配置
-XX:+UseConcMarkSweepGC
-XX:+UseParNewGC                  # 新生代使用ParNew
-XX:CMSInitiatingOccupancyFraction=75  # 触发CMS的老年代使用率
-XX:+UseCMSInitiatingOccupancyOnly     # 只使用上述阈值
-XX:+CMSClassUnloadingEnabled          # 启用类卸载

# G1 GC配置
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200          # 停顿时间目标
-XX:G1HeapRegionSize=16m          # Region大小
-XX:G1NewSizePercent=30           # 新生代最小占比
-XX:G1MaxNewSizePercent=40        # 新生代最大占比
-XX:G1MixedGCCountTarget=8        # 混合GC目标次数

# ZGC配置
-XX:+UseZGC
-XX:+UnlockExperimentalVMOptions  # 解锁实验性功能
</div></section><section class="chapter"><h3 id="q3-gc" data-toc="q3-gc">Q3: 有哪些重要的诊断和监控参数？如何配置GC日志？</h3><p id="d99o10_56"><span class="control" id="d99o10_63">答案：</span></p><p id="d99o10_57"><span class="control" id="d99o10_64">诊断监控参数：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1875.578125 452"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1875.578125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 52)" class="root"><g class="clusters"><g data-look="classic" id="JIT编译监控" class="cluster"><rect height="332" width="534.4375" y="8" x="8" style=""></rect><g transform="translate(232.4453125, 8)" class="cluster-label"><foreignObject height="24" width="85.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JIT编译监控</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_P_7" d="M269.031,70L276.073,70C283.115,70,297.198,70,307.365,70C317.531,70,323.781,70,329.365,70C334.948,70,339.865,70,342.323,70L344.781,70"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_8" d="M273.781,174L280.031,174C286.281,174,298.781,174,308.824,174C318.867,174,326.453,174,333.372,174C340.292,174,346.544,174,349.671,174L352.797,174"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_9" d="M252.133,278L261.991,278C271.849,278,291.565,278,304.548,278C317.531,278,323.781,278,329.365,278C334.948,278,339.865,278,342.323,278L344.781,278"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(159.640625, 70)" id="flowchart-O-6129" class="node default"><rect height="54" width="218.78125" y="-27" x="-109.390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-79.390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="158.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintCompilation</p></span></div></foreignObject></g></g><g transform="translate(426.859375, 70)" id="flowchart-P-6130" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>打印编译信息</p></span></div></foreignObject></g></g><g transform="translate(159.640625, 174)" id="flowchart-Q-6131" class="node default"><rect height="54" width="228.28125" y="-27" x="-114.140625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-84.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="168.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+TraceClassLoading</p></span></div></foreignObject></g></g><g transform="translate(426.859375, 174)" id="flowchart-R-6132" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>跟踪类加载</p></span></div></foreignObject></g></g><g transform="translate(159.640625, 278)" id="flowchart-S-6133" class="node default"><rect height="54" width="184.984375" y="-27" x="-92.4921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-62.4921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintInlining</p></span></div></foreignObject></g></g><g transform="translate(426.859375, 278)" id="flowchart-T-6134" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>打印内联信息</p></span></div></foreignObject></g></g></g></g><g transform="translate(584.4375, 40)" class="root"><g class="clusters"><g data-look="classic" id="内存监控参数" class="cluster"><rect height="356" width="659.3125" y="8" x="8" style=""></rect><g transform="translate(289.578125, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存监控参数</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M314.422,70L331.305,70C348.188,70,381.953,70,401.961,70C421.969,70,428.219,70,433.802,70C439.385,70,444.302,70,446.76,70L449.219,70"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M326,174L340.953,174C355.906,174,385.813,174,405.41,174C425.008,174,434.297,174,442.919,174C451.542,174,459.497,174,463.475,174L467.453,174"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_6" d="M378.219,290L384.469,290C390.719,290,403.219,290,412.778,290C422.337,290,428.956,290,434.908,290C440.859,290,446.145,290,448.787,290L451.43,290"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(211.859375, 70)" id="flowchart-I-6123" class="node default"><rect height="54" width="205.125" y="-27" x="-102.5625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.5625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="145.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintHeapAtGC</p></span></div></foreignObject></g></g><g transform="translate(541.515625, 70)" id="flowchart-J-6124" class="node default"><rect height="54" width="176.59375" y="-27" x="-88.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC时打印堆信息</p></span></div></foreignObject></g></g><g transform="translate(211.859375, 174)" id="flowchart-K-6125" class="node default"><rect height="54" width="228.28125" y="-27" x="-114.140625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-84.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="168.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+TraceClassLoading</p></span></div></foreignObject></g></g><g transform="translate(541.515625, 174)" id="flowchart-L-6126" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>跟踪类加载</p></span></div></foreignObject></g></g><g transform="translate(211.859375, 290)" id="flowchart-M-6127" class="node default"><rect height="78" width="332.71875" y="-39" x="-166.359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-136.359375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="272.71875"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintStringDeduplicationStatistics</p></span></div></foreignObject></g></g><g transform="translate(541.515625, 290)" id="flowchart-N-6128" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>字符串去重统计</p></span></div></foreignObject></g></g></g></g><g transform="translate(1293.75, 0)" class="root"><g class="clusters"><g data-look="classic" id="GC日志参数" class="cluster"><rect height="436" width="565.828125" y="8" x="8" style=""></rect><g transform="translate(248.640625, 8)" class="cluster-label"><foreignObject height="24" width="84.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC日志参数</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M241.453,70L254.917,70C268.38,70,295.307,70,311.896,70C328.484,70,334.734,70,340.318,70C345.901,70,350.818,70,353.276,70L355.734,70"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M266.063,174L275.424,174C284.786,174,303.51,174,315.997,174C328.484,174,334.734,174,340.318,174C345.901,174,350.818,174,353.276,174L355.734,174"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M284.734,278L290.984,278C297.234,278,309.734,278,320.629,278C331.523,278,340.813,278,349.435,278C358.057,278,366.013,278,369.991,278L373.969,278"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M245.844,382L258.576,382C271.307,382,296.771,382,312.628,382C328.484,382,334.734,382,340.318,382C345.901,382,350.818,382,353.276,382L355.734,382"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(165.1171875, 70)" id="flowchart-A-6115" class="node default"><rect height="54" width="152.671875" y="-27" x="-76.3359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-46.3359375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="92.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintGC</p></span></div></foreignObject></g></g><g transform="translate(448.03125, 70)" id="flowchart-B-6116" class="node default"><rect height="54" width="176.59375" y="-27" x="-88.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>打印GC基本信息</p></span></div></foreignObject></g></g><g transform="translate(165.1171875, 174)" id="flowchart-C-6117" class="node default"><rect height="54" width="201.890625" y="-27" x="-100.9453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-70.9453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="141.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintGCDetails</p></span></div></foreignObject></g></g><g transform="translate(448.03125, 174)" id="flowchart-D-6118" class="node default"><rect height="54" width="176.59375" y="-27" x="-88.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>打印GC详细信息</p></span></div></foreignObject></g></g><g transform="translate(165.1171875, 278)" id="flowchart-E-6119" class="node default"><rect height="54" width="239.234375" y="-27" x="-119.6171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-89.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="179.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-XX:+PrintGCTimeStamps</p></span></div></foreignObject></g></g><g transform="translate(448.03125, 278)" id="flowchart-F-6120" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>打印时间戳</p></span></div></foreignObject></g></g><g transform="translate(165.1171875, 382)" id="flowchart-G-6121" class="node default"><rect height="54" width="161.453125" y="-27" x="-80.7265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-50.7265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="101.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>-Xloggc:gc.log</p></span></div></foreignObject></g></g><g transform="translate(448.03125, 382)" id="flowchart-H-6122" class="node default"><rect height="54" width="176.59375" y="-27" x="-88.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>指定GC日志文件</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="d99o10_59"><span class="control" id="d99o10_65">GC日志配置最佳实践：</span></p><div class="code-block" data-lang="bash">
# JDK8及之前版本
-XX:+PrintGC
-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-XX:+PrintGCDateStamps
-XX:+PrintGCApplicationStoppedTime
-Xloggc:/path/to/gc-%t.log
-XX:+UseGCLogFileRotation
-XX:NumberOfGCLogFiles=5
-XX:GCLogFileSize=100M

# JDK9及之后版本（统一日志）
-Xlog:gc:gc.log:time,level,tags
-Xlog:gc*:gc-details.log:time,level,tags
-Xlog:safepoint:safepoint.log:time,level,tags
</div><p id="d99o10_61"><span class="control" id="d99o10_66">其他重要诊断参数：</span></p><div class="code-block" data-lang="bash">
# 内存溢出处理
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/path/to/dumps/

# 性能监控
-XX:+PrintStringDeduplicationStatistics
-XX:+PrintGCApplicationConcurrentTime
-XX:+PrintGCApplicationStoppedTime

# JIT编译监控
-XX:+PrintCompilation
-XX:+UnlockDiagnosticVMOptions
-XX:+TraceClassLoading
-XX:+LogVMOutput
</div></section></section><section class="chapter"><h2 id="d99o10_6" data-toc="d99o10_6">🔍 监控工具详解</h2><section class="chapter"><h3 id="q4-jvm" data-toc="q4-jvm">Q4: 有哪些JVM自带的监控工具？如何使用这些工具进行性能分析？</h3><p id="d99o10_73"><span class="control" id="d99o10_77">答案：</span></p><p id="d99o10_74"><span class="control" id="d99o10_78">JVM自带监控工具：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 521.53125 804"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="521.53125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="JVM自带工具" class="cluster"><rect height="788" width="505.53125" y="8" x="8" style=""></rect><g transform="translate(214.4921875, 8)" class="cluster-label"><foreignObject height="24" width="92.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM自带工具</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M137.789,82L145.863,82C153.938,82,170.086,82,182.678,82C195.271,82,204.307,82,212.677,82C221.047,82,228.75,82,232.602,82L236.453,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M143.898,210L150.954,210C158.01,210,172.122,210,183.455,210C194.788,210,203.341,210,211.228,210C219.115,210,226.335,210,229.945,210L233.555,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M144.016,338L151.052,338C158.089,338,172.161,338,184.476,338C196.79,338,207.346,338,217.236,338C227.125,338,236.348,338,240.959,338L245.57,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M145.406,466L152.211,466C159.016,466,172.625,466,182.555,466C192.484,466,198.734,466,204.318,466C209.901,466,214.818,466,217.276,466L219.734,466"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M148.734,594L154.984,594C161.234,594,173.734,594,185.767,594C197.799,594,209.365,594,220.263,594C231.161,594,241.393,594,246.509,594L251.625,594"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M145.164,722L152.009,722C158.854,722,172.544,722,185.185,722C197.826,722,209.417,722,220.341,722C231.266,722,241.523,722,246.652,722L251.781,722"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(97.1171875, 82)" id="flowchart-A-6135" class="node default"><rect height="54" width="81.34375" y="-27" x="-40.671875" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-10.671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="21.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jps</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 82)" id="flowchart-B-6136" class="node default"><rect height="78" width="218.859375" y="-39" x="-109.4296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-79.4296875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="158.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java进程状态工具<br>显示Java进程ID和主类</p></span></div></foreignObject></g></g><g transform="translate(97.1171875, 210)" id="flowchart-C-6137" class="node default"><rect height="54" width="93.5625" y="-27" x="-46.78125" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-16.78125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="33.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jstat</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 210)" id="flowchart-D-6138" class="node default"><rect height="78" width="224.65625" y="-39" x="-112.328125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-82.328125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="164.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java统计监控工具<br>GC、类加载、编译统计</p></span></div></foreignObject></g></g><g transform="translate(97.1171875, 338)" id="flowchart-E-6139" class="node default"><rect height="54" width="93.796875" y="-27" x="-46.8984375" data-et="node" data-id="abc" style="fill:#fff3e0 !important" class="basic label-container"></rect><g transform="translate(-16.8984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="33.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jinfo</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 338)" id="flowchart-F-6140" class="node default"><rect height="78" width="200.625" y="-39" x="-100.3125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-70.3125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="140.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java配置信息工具<br>查看和修改JVM参数</p></span></div></foreignObject></g></g><g transform="translate(97.1171875, 466)" id="flowchart-G-6141" class="node default"><rect height="54" width="96.578125" y="-27" x="-48.2890625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-18.2890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="36.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jmap</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 466)" id="flowchart-H-6142" class="node default"><rect height="78" width="252.296875" y="-39" x="-126.1484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-96.1484375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="192.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java内存映射工具<br>生成堆转储，查看内存使用</p></span></div></foreignObject></g></g><g transform="translate(97.1171875, 594)" id="flowchart-I-6143" class="node default"><rect height="54" width="103.234375" y="-27" x="-51.6171875" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-21.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="43.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jstack</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 594)" id="flowchart-J-6144" class="node default"><rect height="78" width="188.515625" y="-39" x="-94.2578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.2578125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java堆栈跟踪工具<br>生成线程快照</p></span></div></foreignObject></g></g><g transform="translate(97.1171875, 722)" id="flowchart-K-6145" class="node default"><rect height="54" width="96.09375" y="-27" x="-48.046875" data-et="node" data-id="abc" style="fill:#e8f5e8 !important" class="basic label-container"></rect><g transform="translate(-18.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="36.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jcmd</p></span></div></foreignObject></g></g><g transform="translate(349.8828125, 722)" id="flowchart-L-6146" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>多功能命令行工具<br>整合多种诊断功能</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="d99o10_76"><span class="control" id="d99o10_79">常用工具命令详解：</span></p></section><section class="chapter"><h3 id="jps" data-toc="jps">jps - 进程查看</h3><div class="code-block" data-lang="bash">
# 查看Java进程
jps -l        # 显示完整主类名
jps -v        # 显示JVM参数
jps -m        # 显示传递给main方法的参数

# 示例输出
12345 com.example.Application -Xms2g -Xmx4g
12346 org.apache.catalina.startup.Bootstrap
</div></section><section class="chapter"><h3 id="jstat" data-toc="jstat">jstat - 统计监控</h3><div class="code-block" data-lang="bash">
# GC统计
jstat -gc 12345 1000    # 每秒显示GC统计信息
jstat -gcutil 12345     # 显示GC使用率

# 类加载统计
jstat -class 12345      # 显示类加载统计

# 编译统计
jstat -compiler 12345   # 显示JIT编译统计

# 示例输出
S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT
1024.0 1024.0  0.0   0.0   8192.0   4096.0   20480.0    10240.0  4864.0 3647.3 512.0  411.2    10    0.050     2    0.100    0.150
</div></section><section class="chapter"><h3 id="jmap" data-toc="jmap">jmap - 内存分析</h3><div class="code-block" data-lang="bash">
# 生成堆转储文件
jmap -dump:format=b,file=heap.hprof 12345

# 查看堆内存使用
jmap -heap 12345

# 查看存活对象统计
jmap -histo:live 12345

# 示例输出
Heap Configuration:
   MinHeapFreeRatio         = 0
   MaxHeapFreeRatio         = 100
   MaxHeapSize              = 4294967296 (4096.0MB)
   NewSize                  = 89128960 (85.0MB)
   MaxNewSize               = 1431306240 (1365.0MB)
</div></section><section class="chapter"><h3 id="jstack" data-toc="jstack">jstack - 线程分析</h3><div class="code-block" data-lang="bash">
# 生成线程转储
jstack 12345 &gt; threads.txt

# 检测死锁
jstack -l 12345

# 示例输出
&quot;main&quot; #1 prio=5 os_prio=31 tid=0x00007ffeeb808000 nid=0x1003 waiting on condition [0x000070000e8e4000]
   java.lang.Thread.State: WAITING (parking)
   at sun.misc.Unsafe.park(Native Method)
   at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
</div></section><section class="chapter"><h3 id="q5" data-toc="q5">Q5: 有哪些第三方性能监控和分析工具？如何选择合适的工具？</h3><p id="d99o10_84"><span class="control" id="d99o10_91">答案：</span></p><p id="d99o10_85"><span class="control" id="d99o10_92">第三方监控工具分类：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1615.1875 548"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1615.1875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="专业分析工具" class="cluster"><rect height="532" width="481.6875" y="8" x="8" style=""></rect><g transform="translate(200.765625, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>专业分析工具</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_8" d="M178.148,82L188.876,82C199.604,82,221.06,82,235.567,82C250.074,82,257.633,82,264.525,82C271.417,82,277.642,82,280.755,82L283.867,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_9" d="M205.016,210L211.266,210C217.516,210,230.016,210,240.726,210C251.436,210,260.357,210,268.611,210C276.865,210,284.452,210,288.245,210L292.039,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_U_V_10" d="M170.023,338L182.105,338C194.188,338,218.352,338,233.559,338C248.766,338,255.016,338,260.599,338C266.182,338,271.099,338,273.557,338L276.016,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_W_X_11" d="M181.203,466L191.422,466C201.641,466,222.078,466,236.573,466C251.068,466,259.62,466,267.505,466C275.391,466,282.609,466,286.219,466L289.828,466"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(125.2578125, 82)" id="flowchart-Q-6169" class="node default"><rect height="54" width="105.78125" y="-27" x="-52.890625" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-22.890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="45.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Arthas</p></span></div></foreignObject></g></g><g transform="translate(366.1015625, 82)" id="flowchart-R-6170" class="node default"><rect height="78" width="156.46875" y="-39" x="-78.234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>阿里开源<br>Java诊断神器</p></span></div></foreignObject></g></g><g transform="translate(125.2578125, 210)" id="flowchart-S-6171" class="node default"><rect height="54" width="159.515625" y="-27" x="-79.7578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-49.7578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="99.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>async-profiler</p></span></div></foreignObject></g></g><g transform="translate(366.1015625, 210)" id="flowchart-T-6172" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>采样分析器<br>低开销</p></span></div></foreignObject></g></g><g transform="translate(125.2578125, 338)" id="flowchart-U-6173" class="node default"><rect height="54" width="89.53125" y="-27" x="-44.765625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-14.765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="29.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JMH</p></span></div></foreignObject></g></g><g transform="translate(366.1015625, 338)" id="flowchart-V-6174" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>基准测试<br>微基准测试框架</p></span></div></foreignObject></g></g><g transform="translate(125.2578125, 466)" id="flowchart-W-6175" class="node default"><rect height="54" width="111.890625" y="-27" x="-55.9453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.9453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="51.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GCEasy</p></span></div></foreignObject></g></g><g transform="translate(366.1015625, 466)" id="flowchart-X-6176" class="node default"><rect height="78" width="144.546875" y="-39" x="-72.2734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.2734375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="84.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC日志分析<br>在线工具</p></span></div></foreignObject></g></g></g></g><g transform="translate(531.6875, 0)" class="root"><g class="clusters"><g data-look="classic" id="APM性能监控" class="cluster"><rect height="532" width="499.890625" y="8" x="8" style=""></rect><g transform="translate(211, 8)" class="cluster-label"><foreignObject height="24" width="93.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>APM性能监控</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M227.695,82L238.54,82C249.385,82,271.076,82,285.046,82C299.016,82,305.266,82,310.849,82C316.432,82,321.349,82,323.807,82L326.266,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M215.625,210L228.482,210C241.339,210,267.052,210,283.691,210C300.329,210,307.893,210,314.79,210C321.688,210,327.918,210,331.033,210L334.148,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_6" d="M219.969,338L232.102,338C244.234,338,268.5,338,283.758,338C299.016,338,305.266,338,310.849,338C316.432,338,321.349,338,323.807,338L326.266,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_P_7" d="M255.266,466L261.516,466C267.766,466,280.266,466,289.641,466C299.016,466,305.266,466,310.849,466C316.432,466,321.349,466,323.807,466L326.266,466"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(150.3828125, 82)" id="flowchart-I-6161" class="node default"><rect height="54" width="154.625" y="-27" x="-77.3125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-47.3125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>AppDynamics</p></span></div></foreignObject></g></g><g transform="translate(400.328125, 82)" id="flowchart-J-6162" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>企业级APM<br>全链路监控</p></span></div></foreignObject></g></g><g transform="translate(150.3828125, 210)" id="flowchart-K-6163" class="node default"><rect height="54" width="130.484375" y="-27" x="-65.2421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-35.2421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="70.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>New Relic</p></span></div></foreignObject></g></g><g transform="translate(400.328125, 210)" id="flowchart-L-6164" class="node default"><rect height="78" width="124.359375" y="-39" x="-62.1796875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.1796875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>云端APM<br>SaaS服务</p></span></div></foreignObject></g></g><g transform="translate(150.3828125, 338)" id="flowchart-M-6165" class="node default"><rect height="54" width="139.171875" y="-27" x="-69.5859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-39.5859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="79.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SkyWalking</p></span></div></foreignObject></g></g><g transform="translate(400.328125, 338)" id="flowchart-N-6166" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>开源APM<br>分布式追踪</p></span></div></foreignObject></g></g><g transform="translate(150.3828125, 466)" id="flowchart-O-6167" class="node default"><rect height="54" width="209.765625" y="-27" x="-104.8828125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-74.8828125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="149.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Prometheus+Grafana</p></span></div></foreignObject></g></g><g transform="translate(400.328125, 466)" id="flowchart-P-6168" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>开源监控<br>可定制化强</p></span></div></foreignObject></g></g></g></g><g transform="translate(1081.578125, 0)" class="root"><g class="clusters"><g data-look="classic" id="可视化监控工具" class="cluster"><rect height="532" width="517.609375" y="8" x="8" style=""></rect><g transform="translate(210.71875, 8)" class="cluster-label"><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>可视化监控工具</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M176.109,82L182.359,82C188.609,82,201.109,82,213.853,82C226.596,82,239.583,82,251.904,82C264.224,82,275.878,82,281.704,82L287.531,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M171.289,210L178.342,210C185.396,210,199.503,210,214.385,210C229.267,210,244.924,210,259.915,210C274.906,210,289.23,210,296.393,210L303.555,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M155.109,338L164.859,338C174.609,338,194.109,338,206.984,338C219.859,338,226.109,338,231.693,338C237.276,338,242.193,338,244.651,338L247.109,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M172.422,466L179.286,466C186.151,466,199.88,466,214.077,466C228.273,466,242.938,466,256.935,466C270.932,466,284.263,466,290.928,466L297.594,466"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(110.8046875, 82)" id="flowchart-A-6153" class="node default"><rect height="54" width="130.609375" y="-27" x="-65.3046875" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-35.3046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="70.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVisualVM</p></span></div></foreignObject></g></g><g transform="translate(369.609375, 82)" id="flowchart-B-6154" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Oracle官方<br>实时监控分析</p></span></div></foreignObject></g></g><g transform="translate(110.8046875, 210)" id="flowchart-C-6155" class="node default"><rect height="54" width="120.96875" y="-27" x="-60.484375" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-30.484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="60.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JProfiler</p></span></div></foreignObject></g></g><g transform="translate(369.609375, 210)" id="flowchart-D-6156" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>商业产品<br>功能全面</p></span></div></foreignObject></g></g><g transform="translate(110.8046875, 338)" id="flowchart-E-6157" class="node default"><rect height="54" width="88.609375" y="-27" x="-44.3046875" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-14.3046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="28.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MAT</p></span></div></foreignObject></g></g><g transform="translate(369.609375, 338)" id="flowchart-F-6158" class="node default"><rect height="78" width="237" y="-39" x="-118.5" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-88.5, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="177"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Eclipse Memory Analyzer<br>内存分析专家</p></span></div></foreignObject></g></g><g transform="translate(110.8046875, 466)" id="flowchart-G-6159" class="node default"><rect height="54" width="123.234375" y="-27" x="-61.6171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-31.6171875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="63.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JConsole</p></span></div></foreignObject></g></g><g transform="translate(369.609375, 466)" id="flowchart-H-6160" class="node default"><rect height="78" width="136.03125" y="-39" x="-68.015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-38.015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="76.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JMX控制台<br>基础监控</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="d99o10_87"><span class="control" id="d99o10_93">工具选择指南：</span></p><div class="table-wrapper"><table class="wide" id="d99o10_88"><thead><tr class="ijRowHead" id="d99o10_94"><th id="d99o10_100"><p>场景</p></th><th id="d99o10_101"><p>推荐工具</p></th><th id="d99o10_102"><p>优势</p></th><th id="d99o10_103"><p>适用环境</p></th></tr></thead><tbody><tr id="d99o10_95"><td id="d99o10_104"><p><span class="control" id="d99o10_108">开发调试</span></p></td><td id="d99o10_105"><p>JVisualVM, JProfiler</p></td><td id="d99o10_106"><p>实时监控，功能丰富</p></td><td id="d99o10_107"><p>开发环境</p></td></tr><tr id="d99o10_96"><td id="d99o10_109"><p><span class="control" id="d99o10_113">内存分析</span></p></td><td id="d99o10_110"><p>MAT, JProfiler</p></td><td id="d99o10_111"><p>专业内存分析</p></td><td id="d99o10_112"><p>问题诊断</p></td></tr><tr id="d99o10_97"><td id="d99o10_114"><p><span class="control" id="d99o10_118">生产监控</span></p></td><td id="d99o10_115"><p>Arthas, SkyWalking</p></td><td id="d99o10_116"><p>低侵入性，生产可用</p></td><td id="d99o10_117"><p>生产环境</p></td></tr><tr id="d99o10_98"><td id="d99o10_119"><p><span class="control" id="d99o10_123">性能测试</span></p></td><td id="d99o10_120"><p>JMH, async-profiler</p></td><td id="d99o10_121"><p>精确测量</p></td><td id="d99o10_122"><p>测试环境</p></td></tr><tr id="d99o10_99"><td id="d99o10_124"><p><span class="control" id="d99o10_128">日志分析</span></p></td><td id="d99o10_125"><p>GCEasy, GCViewer</p></td><td id="d99o10_126"><p>专业GC分析</p></td><td id="d99o10_127"><p>离线分析</p></td></tr></tbody></table></div><p id="d99o10_89"><span class="control" id="d99o10_129">Arthas使用示例：</span></p><div class="code-block" data-lang="bash">
# 启动Arthas
java -jar arthas-boot.jar

# 常用命令
dashboard          # 实时数据面板
thread             # 查看线程信息
jvm                # 查看JVM信息
memory             # 查看内存信息
gc                 # 查看GC信息

# 高级功能
monitor com.example.Service method    # 监控方法调用
trace com.example.Service method      # 追踪方法调用
watch com.example.Service method returnObj  # 观察方法返回值
</div></section></section><section class="chapter"><h2 id="d99o10_7" data-toc="d99o10_7">📊 性能分析实践</h2><section class="chapter"><h3 id="q6-jvm" data-toc="q6-jvm">Q6: 如何识别JVM性能瓶颈？有哪些关键性能指标？</h3><p id="d99o10_133"><span class="control" id="d99o10_140">答案：</span></p><p id="d99o10_134"><span class="control" id="d99o10_141">JVM性能指标体系：</span></p><p id="d99o10_136"><span class="control" id="d99o10_142">性能瓶颈识别方法：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 877.671875 598.109375" height="598.109375" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="877.671875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M467.902,62L467.902,66.167C467.902,70.333,467.902,78.667,467.944,84.958C467.986,91.25,468.069,95.5,468.139,99.083C468.21,102.667,468.267,105.584,468.295,107.042L468.324,108.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M421.929,184.136L370.458,197.965C318.987,211.794,216.044,239.452,164.573,256.364C113.102,273.276,113.102,279.443,113.102,284.943C113.102,290.443,113.102,295.276,113.102,297.693L113.102,300.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M437.239,199.446L424.462,210.723C411.685,222,386.132,244.555,373.355,258.915C360.578,273.276,360.578,279.443,360.578,284.943C360.578,290.443,360.578,295.276,360.578,297.693L360.578,300.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M499.566,199.446L512.176,210.723C524.786,222,550.006,244.555,562.616,258.915C575.227,273.276,575.227,279.443,575.227,284.943C575.227,290.443,575.227,295.276,575.227,297.693L575.227,300.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M513.68,185.332L558.664,198.961C603.649,212.591,693.617,239.85,738.602,256.563C783.586,273.276,783.586,279.443,783.586,284.943C783.586,290.443,783.586,295.276,783.586,297.693L783.586,300.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_G_5" d="M113.102,358.109L113.102,362.276C113.102,366.443,113.102,374.776,113.102,381.026C113.102,387.276,113.102,391.443,113.102,394.943C113.102,398.443,113.102,401.276,113.102,402.693L113.102,404.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_H_6" d="M360.578,358.109L360.578,362.276C360.578,366.443,360.578,374.776,360.578,381.026C360.578,387.276,360.578,391.443,360.578,394.943C360.578,398.443,360.578,401.276,360.578,402.693L360.578,404.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_7" d="M575.227,358.109L575.227,362.276C575.227,366.443,575.227,374.776,575.227,381.026C575.227,387.276,575.227,391.443,575.227,394.943C575.227,398.443,575.227,401.276,575.227,402.693L575.227,404.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_J_8" d="M783.586,358.109L783.586,362.276C783.586,366.443,783.586,374.776,783.586,381.026C783.586,387.276,783.586,391.443,783.586,394.943C783.586,398.443,783.586,401.276,783.586,402.693L783.586,404.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_K_9" d="M113.102,486.109L113.102,490.276C113.102,494.443,113.102,502.776,137.497,510.518C161.893,518.26,210.684,525.411,258.815,532.465C306.946,539.519,354.418,546.477,378.154,549.956L401.89,553.435"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_K_10" d="M360.578,486.109L360.578,490.276C360.578,494.443,360.578,502.776,364.878,509.026C369.178,515.276,377.778,519.443,385.777,523.319C393.777,527.195,401.177,530.78,404.877,532.573L408.577,534.365"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_K_11" d="M575.227,486.109L575.227,490.276C575.227,494.443,575.227,502.776,570.927,509.026C566.627,515.276,558.027,519.443,550.027,523.319C542.028,527.195,534.628,530.78,530.928,532.573L527.228,534.365"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_12" d="M783.586,486.109L783.586,490.276C783.586,494.443,783.586,502.776,762.45,510.424C741.314,518.072,699.043,525.035,657.429,531.89C615.816,538.745,574.86,545.491,554.382,548.864L533.904,552.237"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(113.1015625, 267.109375)" class="edgeLabel"><g transform="translate(-24.0390625, -12)" class="label"><foreignObject height="24" width="48.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>响应慢</p></span></div></foreignObject></g></g><g transform="translate(360.578125, 267.109375)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>内存不足</p></span></div></foreignObject></g></g><g transform="translate(575.2265625, 267.109375)" class="edgeLabel"><g transform="translate(-26.25, -12)" class="label"><foreignObject height="24" width="52.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>频繁GC</p></span></div></foreignObject></g></g><g transform="translate(783.5859375, 267.109375)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>线程阻塞</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(467.90234375, 35)" id="flowchart-A-6182" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>性能问题</p></span></div></foreignObject></g></g><g transform="translate(467.90234375, 171.0546875)" id="flowchart-B-6183" class="node default"><polygon transform="translate(-59.0546875,59.0546875)" class="label-container" points="59.0546875,0 118.109375,-59.0546875 59.0546875,-118.109375 0,-59.0546875"></polygon><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>症状分析</p></span></div></foreignObject></g></g><g transform="translate(113.1015625, 331.109375)" id="flowchart-C-6185" class="node default"><rect height="54" width="121" y="-27" x="-60.5" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="61"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CPU分析</p></span></div></foreignObject></g></g><g transform="translate(360.578125, 331.109375)" id="flowchart-D-6187" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存分析</p></span></div></foreignObject></g></g><g transform="translate(575.2265625, 331.109375)" id="flowchart-E-6189" class="node default"><rect height="54" width="112.5" y="-27" x="-56.25" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-26.25, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="52.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC分析</p></span></div></foreignObject></g></g><g transform="translate(783.5859375, 331.109375)" id="flowchart-F-6191" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>线程分析</p></span></div></foreignObject></g></g><g transform="translate(113.1015625, 447.109375)" id="flowchart-G-6193" class="node default"><rect height="78" width="210.203125" y="-39" x="-105.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-75.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="150.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jstack查看线程状态<br>profiler分析热点方法</p></span></div></foreignObject></g></g><g transform="translate(360.578125, 447.109375)" id="flowchart-H-6195" class="node default"><rect height="78" width="184.75" y="-39" x="-92.375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-62.375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="124.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>jmap生成堆转储<br>MAT分析内存泄漏</p></span></div></foreignObject></g></g><g transform="translate(575.2265625, 447.109375)" id="flowchart-I-6197" class="node default"><rect height="78" width="144.546875" y="-39" x="-72.2734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.2734375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="84.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC日志分析<br>调整GC参数</p></span></div></foreignObject></g></g><g transform="translate(783.5859375, 447.109375)" id="flowchart-J-6199" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>线程转储分析<br>检查死锁和竞争</p></span></div></foreignObject></g></g><g transform="translate(467.90234375, 563.109375)" id="flowchart-K-6201" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>性能调优</p></span></div></foreignObject></g></g></g></g></g></svg><p id="d99o10_138"><span class="control" id="d99o10_143">关键性能阈值参考：</span></p><div class="code-block" data-lang="bash">
# 性能目标参考值
GC停顿时间: &lt; 200ms (G1目标)
吞吐量: &gt; 95% (应用时间占比)
堆内存使用率: &lt; 80% (避免频繁GC)
CPU使用率: &lt; 80% (留有余量)
响应时间: &lt; 500ms (Web应用)

# 监控脚本示例
#!/bin/bash
PID=$1
echo &quot;=== JVM Performance Monitoring ===&quot;
echo &quot;Process ID: $PID&quot;
echo

echo &quot;=== GC Statistics ===&quot;
jstat -gc $PID

echo -e &quot;\n=== Memory Usage ===&quot;
jstat -gccapacity $PID

echo -e &quot;\n=== Thread Count ===&quot;
jstack $PID | grep &quot;java.lang.Thread.State&quot; | sort | uniq -c

echo -e &quot;\n=== Top Memory Objects ===&quot;
jmap -histo $PID | head -20
</div></section><section class="chapter"><h3 id="q7" data-toc="q7">Q7: 如何分析和解决内存泄漏问题？</h3><p id="d99o10_144"><span class="control" id="d99o10_153">答案：</span></p><p id="d99o10_145"><span class="control" id="d99o10_154">内存泄漏分析流程：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1046.203125 918.15625" height="918.15625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1046.203125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M516.168,62L516.168,66.167C516.168,70.333,516.168,78.667,516.168,84.917C516.168,91.167,516.168,95.333,516.168,98.833C516.168,102.333,516.168,105.167,516.168,106.583L516.168,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M516.168,166L516.168,170.167C516.168,174.333,516.168,182.667,516.168,188.917C516.168,195.167,516.168,199.333,516.168,202.833C516.168,206.333,516.168,209.167,516.168,210.583L516.168,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M516.168,270L516.168,274.167C516.168,278.333,516.168,286.667,516.168,292.917C516.168,299.167,516.168,303.333,516.168,306.833C516.168,310.333,516.168,313.167,516.168,314.583L516.168,316"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M516.168,374L516.168,378.167C516.168,382.333,516.168,390.667,516.21,396.958C516.251,403.25,516.335,407.5,516.405,411.083C516.475,414.667,516.532,417.584,516.561,419.042L516.59,420.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M458.063,516.052L401.294,531.902C344.524,547.753,230.985,579.455,174.215,598.389C117.445,617.323,117.445,623.49,117.445,628.99C117.445,634.49,117.445,639.323,117.445,641.74L117.445,644.156"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_G_5" d="M475.35,533.338L459.292,546.308C443.233,559.278,411.117,585.217,395.058,601.27C379,617.323,379,623.49,379,628.99C379,634.49,379,639.323,379,641.74L379,644.156"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_H_6" d="M557.986,533.338L573.878,546.308C589.769,559.278,621.553,585.217,637.444,601.27C653.336,617.323,653.336,623.49,653.336,628.99C653.336,634.49,653.336,639.323,653.336,641.74L653.336,644.156"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_7" d="M575.803,515.521L635.15,531.46C694.496,547.4,813.19,579.278,872.536,598.3C931.883,617.323,931.883,623.49,931.883,628.99C931.883,634.49,931.883,639.323,931.883,641.74L931.883,644.156"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_J_8" d="M117.445,702.156L117.445,706.323C117.445,710.49,117.445,718.823,144.166,726.474C170.886,734.126,224.327,741.095,277.107,747.979C329.886,754.862,382.005,761.659,408.064,765.058L434.123,768.456"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_J_9" d="M379,702.156L379,706.323C379,710.49,379,718.823,384.496,725.073C389.991,731.323,400.982,735.49,411.35,739.42C421.717,743.35,431.462,747.044,436.334,748.891L441.206,750.738"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_J_10" d="M653.336,702.156L653.336,706.323C653.336,710.49,653.336,718.823,647.84,725.073C642.345,731.323,631.354,735.49,620.986,739.42C610.619,743.35,600.874,747.044,596.002,748.891L591.13,750.738"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_11" d="M931.883,702.156L931.883,706.323C931.883,710.49,931.883,718.823,903.746,726.509C875.61,734.195,819.337,741.234,763.726,748.19C708.115,755.146,653.165,762.02,625.69,765.457L598.215,768.893"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_12" d="M516.168,806.156L516.168,810.323C516.168,814.49,516.168,822.823,516.168,829.073C516.168,835.323,516.168,839.49,516.168,842.99C516.168,846.49,516.168,849.323,516.168,850.74L516.168,852.156"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(117.4453125, 611.15625)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>集合泄漏</p></span></div></foreignObject></g></g><g transform="translate(379, 611.15625)" class="edgeLabel"><g transform="translate(-40.0625, -12)" class="label"><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>监听器泄漏</p></span></div></foreignObject></g></g><g transform="translate(653.3359375, 611.15625)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>线程泄漏</p></span></div></foreignObject></g></g><g transform="translate(931.8828125, 611.15625)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>连接泄漏</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(516.16796875, 35)" id="flowchart-A-6208" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>发现内存泄漏</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 139)" id="flowchart-B-6209" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>生成堆转储</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 243)" id="flowchart-C-6211" class="node default"><rect height="54" width="168.71875" y="-27" x="-84.359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-54.359375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="108.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MAT分析堆转储</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 347)" id="flowchart-D-6213" class="node default"><rect height="54" width="212.1875" y="-27" x="-106.09375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-76.09375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="152.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Leak Suspects Report</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 499.078125)" id="flowchart-E-6215" class="node default"><polygon transform="translate(-75.078125,75.078125)" class="label-container" points="75.078125,0 150.15625,-75.078125 75.078125,-150.15625 0,-75.078125"></polygon><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>泄漏类型分析</p></span></div></foreignObject></g></g><g transform="translate(117.4453125, 675.15625)" id="flowchart-F-6217" class="node default"><rect height="54" width="218.890625" y="-27" x="-109.4453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-79.4453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="158.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检查List/Map持续增长</p></span></div></foreignObject></g></g><g transform="translate(379, 675.15625)" id="flowchart-G-6219" class="node default"><rect height="54" width="204.21875" y="-27" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检查未移除的监听器</p></span></div></foreignObject></g></g><g transform="translate(653.3359375, 675.15625)" id="flowchart-H-6221" class="node default"><rect height="54" width="244.453125" y="-27" x="-122.2265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-92.2265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="184.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检查线程池和ThreadLocal</p></span></div></foreignObject></g></g><g transform="translate(931.8828125, 675.15625)" id="flowchart-I-6223" class="node default"><rect height="54" width="212.640625" y="-27" x="-106.3203125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-76.3203125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="152.640625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>检查数据库/网络连接</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 779.15625)" id="flowchart-J-6225" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>修复代码逻辑</p></span></div></foreignObject></g></g><g transform="translate(516.16796875, 883.15625)" id="flowchart-K-6233" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>验证修复效果</p></span></div></foreignObject></g></g></g></g></g></svg><p id="d99o10_147"><span class="control" id="d99o10_155">MAT内存分析关键功能：</span></p><div class="code-block" data-lang="bash">
# 生成堆转储
jmap -dump:live,format=b,file=heap.hprof &lt;pid&gt;

# 或者在OOM时自动生成
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/path/to/dumps/
</div><p id="d99o10_149"><span class="control" id="d99o10_156">MAT分析步骤：</span></p><ol class="list _decimal" id="d99o10_150" type="1"><li class="list__item" id="d99o10_157"><p id="d99o10_162"><span class="control" id="d99o10_163">Overview页面</span> ：查看堆使用情况总览</p></li><li class="list__item" id="d99o10_158"><p id="d99o10_164"><span class="control" id="d99o10_165">Leak Suspects</span> ：查看疑似泄漏报告</p></li><li class="list__item" id="d99o10_159"><p id="d99o10_166"><span class="control" id="d99o10_167">Dominator Tree</span> ：分析对象引用关系</p></li><li class="list__item" id="d99o10_160"><p id="d99o10_168"><span class="control" id="d99o10_169">Histogram</span> ：查看类实例统计</p></li><li class="list__item" id="d99o10_161"><p id="d99o10_170"><span class="control" id="d99o10_171">GC Roots</span> ：分析对象到GC根的路径</p></li></ol><p id="d99o10_151"><span class="control" id="d99o10_172">常见内存泄漏模式：</span></p><div class="code-block" data-lang="java">
// 1. 集合类泄漏
public class CollectionLeak {
    private static List&lt;String&gt; cache = new ArrayList&lt;&gt;();
    
    public void addToCache(String data) {
        cache.add(data);  // 只增不删，导致内存泄漏
    }
    
    // 修复：定期清理或使用LRU缓存
    private static Map&lt;String, String&gt; cache = new LRUMap&lt;&gt;(1000);
}

// 2. 监听器泄漏
public class ListenerLeak {
    public void addListener() {
        EventBus.register(this);  // 注册监听器
        // 忘记在适当时机调用EventBus.unregister(this)
    }
    
    // 修复：在对象销毁时取消注册
    @PreDestroy
    public void cleanup() {
        EventBus.unregister(this);
    }
}

// 3. ThreadLocal泄漏
public class ThreadLocalLeak {
    private static ThreadLocal&lt;Object&gt; threadLocal = new ThreadLocal&lt;&gt;();
    
    public void setData(Object data) {
        threadLocal.set(data);
        // 线程结束前忘记调用remove()
    }
    
    // 修复：使用完后及时清理
    public void process() {
        try {
            threadLocal.set(new Object());
            // 业务逻辑
        } finally {
            threadLocal.remove();  // 重要：及时清理
        }
    }
}
</div></section><section class="chapter"><h3 id="q8-jvm" data-toc="q8-jvm">Q8: 如何进行JVM性能调优？有哪些调优策略和最佳实践？</h3><p id="d99o10_173"><span class="control" id="d99o10_182">答案：</span></p><p id="d99o10_174"><span class="control" id="d99o10_183">JVM调优流程：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 679.76953125 1212.109375" height="1212.109375" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="679.76953125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M449.5,62L449.5,66.167C449.5,70.333,449.5,78.667,449.5,84.917C449.5,91.167,449.5,95.333,449.5,98.833C449.5,102.333,449.5,105.167,449.5,106.583L449.5,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M449.5,166L449.5,170.167C449.5,174.333,449.5,182.667,449.5,188.917C449.5,195.167,449.5,199.333,449.5,202.833C449.5,206.333,449.5,209.167,449.5,210.583L449.5,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M387.445,267.559L375.889,272.133C364.333,276.706,341.221,285.853,329.707,292.552C318.193,299.25,318.276,303.5,318.346,307.083C318.417,310.667,318.474,313.584,318.502,315.042L318.531,316.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M275.766,395.766L240.513,408.99C205.261,422.214,134.755,448.662,99.503,464.969C64.25,481.276,64.25,487.443,64.25,492.943C64.25,498.443,64.25,503.276,64.25,505.693L64.25,508.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_F_4" d="M290.789,410.789L281.083,421.509C271.378,432.229,251.966,453.669,242.26,467.473C232.555,481.276,232.555,487.443,232.555,492.943C232.555,498.443,232.555,503.276,232.555,505.693L232.555,508.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_G_5" d="M346.937,410.282L356.892,421.086C366.846,431.891,386.755,453.5,396.71,467.388C406.664,481.276,406.664,487.443,406.664,492.943C406.664,498.443,406.664,503.276,406.664,505.693L406.664,508.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_H_6" d="M361.473,395.746L396.626,408.973C431.779,422.201,502.085,448.655,537.238,464.966C572.391,481.276,572.391,487.443,572.391,492.943C572.391,498.443,572.391,503.276,572.391,505.693L572.391,508.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_7" d="M64.25,566.109L64.25,572.276C64.25,578.443,64.25,590.776,80.359,600.98C96.467,611.184,128.685,619.259,160.256,627.171C191.826,635.084,222.751,642.834,238.213,646.709L253.675,650.584"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_I_8" d="M232.555,566.109L232.555,572.276C232.555,578.443,232.555,590.776,236.749,600.026C240.943,609.276,249.331,615.443,257.182,621.214C265.033,626.986,272.347,632.363,276.003,635.052L279.66,637.74"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_I_9" d="M406.664,566.109L406.664,572.276C406.664,578.443,406.664,590.776,402.47,600.026C398.276,609.276,389.888,615.443,382.037,621.214C374.186,626.986,366.872,632.363,363.215,635.052L359.558,637.74"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_10" d="M572.391,566.109L572.391,572.276C572.391,578.443,572.391,590.776,556.497,600.967C540.603,611.158,508.815,619.206,477.674,627.09C446.532,634.975,416.037,642.696,400.789,646.556L385.542,650.416"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_11" d="M319.609,694.109L319.609,698.276C319.609,702.443,319.609,710.776,319.609,717.026C319.609,723.276,319.609,727.443,319.609,730.943C319.609,734.443,319.609,737.276,319.609,738.693L319.609,740.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_12" d="M319.609,798.109L319.609,802.276C319.609,806.443,319.609,814.776,327.381,824.162C335.153,833.548,350.696,843.986,365.686,854.053C380.676,864.12,395.113,873.815,402.331,878.662L409.549,883.51"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_C_13" d="M494.095,892.704L522.371,881.105C550.648,869.506,607.201,846.308,635.477,826.042C663.754,805.776,663.754,788.443,663.754,771.109C663.754,753.776,663.754,736.443,663.754,719.109C663.754,701.776,663.754,684.443,663.754,665.109C663.754,645.776,663.754,624.443,663.754,603.109C663.754,581.776,663.754,560.443,663.754,539.109C663.754,517.776,663.754,496.443,663.754,469.767C663.754,443.091,663.754,411.073,663.754,381.055C663.754,351.036,663.754,323.018,651.071,305.931C638.387,288.843,613.021,282.687,588.302,276.688C563.583,270.688,539.513,264.846,527.477,261.925L515.442,259.004"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_14" d="M450,972.609L449.917,978.693C449.833,984.776,449.667,996.943,449.583,1006.109C449.5,1015.276,449.5,1021.443,449.5,1026.943C449.5,1032.443,449.5,1037.276,449.5,1039.693L449.5,1042.109"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_M_15" d="M449.5,1100.109L449.5,1104.276C449.5,1108.443,449.5,1116.776,449.5,1123.026C449.5,1129.276,449.5,1133.443,449.5,1136.943C449.5,1140.443,449.5,1143.276,449.5,1144.693L449.5,1146.109"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(64.25, 475.109375)" class="edgeLabel"><g transform="translate(-26.25, -12)" class="label"><foreignObject height="24" width="52.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>GC问题</p></span></div></foreignObject></g></g><g transform="translate(232.5546875, 475.109375)" class="edgeLabel"><g transform="translate(-32.0546875, -12)" class="label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>内存问题</p></span></div></foreignObject></g></g><g transform="translate(406.6640625, 475.109375)" class="edgeLabel"><g transform="translate(-30.5, -12)" class="label"><foreignObject height="24" width="61"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>CPU问题</p></span></div></foreignObject></g></g><g transform="translate(572.390625, 475.109375)" class="edgeLabel"><g transform="translate(-23.671875, -12)" class="label"><foreignObject height="24" width="47.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>IO问题</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(663.75390625, 603.109375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g transform="translate(449.5, 1009.109375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(449.5, 35)" id="flowchart-A-6234" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>确定性能目标</p></span></div></foreignObject></g></g><g transform="translate(449.5, 139)" id="flowchart-B-6235" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>基线测试</p></span></div></foreignObject></g></g><g transform="translate(449.5, 243)" id="flowchart-C-6237" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>监控分析</p></span></div></foreignObject></g></g><g transform="translate(318.109375, 379.0546875)" id="flowchart-D-6239" class="node default"><polygon transform="translate(-59.0546875,59.0546875)" class="label-container" points="59.0546875,0 118.109375,-59.0546875 59.0546875,-118.109375 0,-59.0546875"></polygon><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>识别瓶颈</p></span></div></foreignObject></g></g><g transform="translate(64.25, 539.109375)" id="flowchart-E-6241" class="node default"><rect height="54" width="112.5" y="-27" x="-56.25" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-26.25, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="52.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC调优</p></span></div></foreignObject></g></g><g transform="translate(232.5546875, 539.109375)" id="flowchart-F-6243" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存调优</p></span></div></foreignObject></g></g><g transform="translate(406.6640625, 539.109375)" id="flowchart-G-6245" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>代码优化</p></span></div></foreignObject></g></g><g transform="translate(572.390625, 539.109375)" id="flowchart-H-6247" class="node default"><rect height="54" width="107.34375" y="-27" x="-53.671875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-23.671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="47.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>IO调优</p></span></div></foreignObject></g></g><g transform="translate(319.609375, 667.109375)" id="flowchart-I-6249" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>参数调整</p></span></div></foreignObject></g></g><g transform="translate(319.609375, 771.109375)" id="flowchart-J-6257" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>压力测试</p></span></div></foreignObject></g></g><g transform="translate(449.5, 910.109375)" id="flowchart-K-6259" class="node default"><polygon transform="translate(-62,62)" class="label-container" points="62,0 124,-62 62,-124 0,-62"></polygon><g transform="translate(-35, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="70"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>达到目标?</p></span></div></foreignObject></g></g><g transform="translate(449.5, 1073.109375)" id="flowchart-L-6263" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>部署上线</p></span></div></foreignObject></g></g><g transform="translate(449.5, 1177.109375)" id="flowchart-M-6265" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>持续监控</p></span></div></foreignObject></g></g></g></g></g></svg><p id="d99o10_176"><span class="control" id="d99o10_184">分层调优策略：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1963.3125 420"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1963.3125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 64)" class="root"><g class="clusters"><g data-look="classic" id="应用层优化" class="cluster"><rect height="276" width="430.265625" y="8" x="8" style=""></rect><g transform="translate(183.0703125, 8)" class="cluster-label"><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>应用层优化</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_8" d="M169.609,82L175.859,82C182.109,82,194.609,82,203.984,82C213.359,82,219.609,82,225.193,82C230.776,82,235.693,82,238.151,82L240.609,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_9" d="M169.609,210L175.859,210C182.109,210,194.609,210,205.32,210C216.03,210,224.951,210,233.204,210C241.458,210,249.046,210,252.839,210L256.633,210"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 82)" id="flowchart-Q-6282" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>代码优化</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 82)" id="flowchart-R-6283" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>算法优化<br>减少对象创建</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 210)" id="flowchart-S-6284" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>架构优化</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 210)" id="flowchart-T-6285" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>缓存策略<br>异步处理</p></span></div></foreignObject></g></g></g></g><g transform="translate(480.265625, 0)" class="root"><g class="clusters"><g data-look="classic" id="JVM层优化" class="cluster"><rect height="404" width="446.28125" y="8" x="8" style=""></rect><g transform="translate(192.875, 8)" class="cluster-label"><foreignObject height="24" width="76.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM层优化</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M169.609,82L175.859,82C182.109,82,194.609,82,203.984,82C213.359,82,219.609,82,225.193,82C230.776,82,235.693,82,238.151,82L240.609,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_N_6" d="M163.805,210L171.022,210C178.24,210,192.674,210,203.684,210C214.694,210,222.279,210,229.197,210C236.115,210,242.366,210,245.492,210L248.617,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_O_P_7" d="M164.305,338L171.439,338C178.573,338,192.841,338,203.768,338C214.694,338,222.279,338,229.197,338C236.115,338,242.366,338,245.492,338L248.617,338"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 82)" id="flowchart-K-6276" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存配置</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 82)" id="flowchart-L-6277" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>合理设置堆大小<br>选择合适GC</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 210)" id="flowchart-M-6278" class="node default"><rect height="54" width="112.5" y="-27" x="-56.25" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-26.25, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="52.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>GC调优</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 210)" id="flowchart-N-6279" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>调整GC参数<br>优化停顿时间</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 338)" id="flowchart-O-6280" class="node default"><rect height="54" width="113.5" y="-27" x="-56.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-26.75, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="53.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JIT优化</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 338)" id="flowchart-P-6281" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>预热JVM<br>优化编译选项</p></span></div></foreignObject></g></g></g></g><g transform="translate(976.546875, 76)" class="root"><g class="clusters"><g data-look="classic" id="操作系统层优化" class="cluster"><rect height="252" width="474.484375" y="8" x="8" style=""></rect><g transform="translate(189.15625, 8)" class="cluster-label"><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>操作系统层优化</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M169.609,82L175.859,82C182.109,82,194.609,82,205.827,82C217.044,82,226.979,82,236.247,82C245.516,82,254.117,82,258.418,82L262.719,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M169.609,198L175.859,198C182.109,198,194.609,198,203.984,198C213.359,198,219.609,198,225.193,198C230.776,198,235.693,198,238.151,198L240.609,198"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 82)" id="flowchart-G-6272" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内核参数</p></span></div></foreignObject></g></g><g transform="translate(344.796875, 82)" id="flowchart-H-6273" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>调整TCP参数<br>文件句柄限制</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 198)" id="flowchart-I-6274" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>系统监控</p></span></div></foreignObject></g></g><g transform="translate(344.796875, 198)" id="flowchart-J-6275" class="node default"><rect height="54" width="200.375" y="-27" x="-100.1875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-70.1875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="140.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CPU、内存、IO监控</p></span></div></foreignObject></g></g></g></g><g transform="translate(1501.03125, 0)" class="root"><g class="clusters"><g data-look="classic" id="硬件层优化" class="cluster"><rect height="404" width="446.28125" y="8" x="8" style=""></rect><g transform="translate(191.078125, 8)" class="cluster-label"><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>硬件层优化</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M168.055,82L174.564,82C181.073,82,194.091,82,204.522,82C214.953,82,222.797,82,229.974,82C237.151,82,243.661,82,246.917,82L250.172,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M169.609,210L175.859,210C182.109,210,194.609,210,203.984,210C213.359,210,219.609,210,225.193,210C230.776,210,235.693,210,238.151,210L240.609,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M169.609,338L175.859,338C182.109,338,194.609,338,205.012,338C215.415,338,223.721,338,231.361,338C239,338,245.973,338,249.459,338L252.945,338"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 82)" id="flowchart-A-6266" class="node default"><rect height="54" width="121" y="-27" x="-60.5" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="61"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CPU优化</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 82)" id="flowchart-B-6267" class="node default"><rect height="78" width="153.046875" y="-39" x="-76.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-46.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="93.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择高频CPU<br>增加CPU核数</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 210)" id="flowchart-C-6268" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存优化</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 210)" id="flowchart-D-6269" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>增加内存容量<br>使用更快的内存</p></span></div></foreignObject></g></g><g transform="translate(107.5546875, 338)" id="flowchart-E-6270" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>存储优化</p></span></div></foreignObject></g></g><g transform="translate(330.6953125, 338)" id="flowchart-F-6271" class="node default"><rect height="78" width="147.5" y="-39" x="-73.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-43.75, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="87.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>SSD替代HDD<br>优化IO性能</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="d99o10_178"><span class="control" id="d99o10_185">具体调优参数推荐：</span></p><div class="code-block" data-lang="bash">
# 通用服务端应用配置
#!/bin/bash
JAVA_OPTS=&quot;
# 堆内存配置
-Xms4g -Xmx4g
-Xmn1g

# GC配置 (G1)
-XX:+UseG1GC
-XX:MaxGCPauseMillis=200
-XX:G1HeapRegionSize=16m
-XX:G1NewSizePercent=30
-XX:G1MaxNewSizePercent=40
-XX:G1MixedGCCountTarget=8

# 内存优化
-XX:+UseTLAB
-XX:+ResizeTLAB

# JIT编译优化
-XX:+TieredCompilation
-XX:TieredStopAtLevel=4

# 诊断参数
-XX:+HeapDumpOnOutOfMemoryError
-XX:HeapDumpPath=/path/to/dumps/
-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-Xloggc:/path/to/gc.log

# 其他优化
-Djava.awt.headless=true
-Dfile.encoding=UTF-8
-Duser.timezone=Asia/Shanghai
&quot;

java $JAVA_OPTS -jar application.jar
</div><p id="d99o10_180"><span class="control" id="d99o10_186">不同场景的调优重点：</span></p><div class="table-wrapper"><table class="wide" id="d99o10_181"><thead><tr class="ijRowHead" id="d99o10_187"><th id="d99o10_192"><p>应用类型</p></th><th id="d99o10_193"><p>主要目标</p></th><th id="d99o10_194"><p>关键参数</p></th><th id="d99o10_195"><p>调优重点</p></th></tr></thead><tbody><tr id="d99o10_188"><td id="d99o10_196"><p><span class="control" id="d99o10_200">Web应用</span></p></td><td id="d99o10_197"><p>低延迟</p></td><td id="d99o10_198"><p><code class="code" id="d99o10_201">-XX:MaxGCPauseMillis</code></p></td><td id="d99o10_199"><p>GC停顿时间优化</p></td></tr><tr id="d99o10_189"><td id="d99o10_202"><p><span class="control" id="d99o10_206">批处理</span></p></td><td id="d99o10_203"><p>高吞吐量</p></td><td id="d99o10_204"><p><code class="code" id="d99o10_207">-XX:GCTimeRatio</code></p></td><td id="d99o10_205"><p>总体处理能力</p></td></tr><tr id="d99o10_190"><td id="d99o10_208"><p><span class="control" id="d99o10_212">缓存服务</span></p></td><td id="d99o10_209"><p>内存效率</p></td><td id="d99o10_210"><p>堆大小配置</p></td><td id="d99o10_211"><p>内存使用率优化</p></td></tr><tr id="d99o10_191"><td id="d99o10_213"><p><span class="control" id="d99o10_217">实时系统</span></p></td><td id="d99o10_214"><p>极低延迟</p></td><td id="d99o10_215"><p>ZGC/Shenandoah</p></td><td id="d99o10_216"><p>消除GC停顿</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="d99o10_8" data-toc="d99o10_8">💡 面试技巧</h2><section class="chapter"><h3 id="d99o10_218" data-toc="d99o10_218">高频考点</h3><ol class="list _decimal" id="d99o10_221" type="1"><li class="list__item" id="d99o10_222"><p id="d99o10_227"><span class="control" id="d99o10_228">JVM参数分类</span> ：标准参数、非标准参数、高级参数的区别</p></li><li class="list__item" id="d99o10_223"><p id="d99o10_229"><span class="control" id="d99o10_230">GC调优策略</span> ：如何选择垃圾收集器和配置参数</p></li><li class="list__item" id="d99o10_224"><p id="d99o10_231"><span class="control" id="d99o10_232">性能监控工具</span> ：jstat、jmap、jstack等工具的使用</p></li><li class="list__item" id="d99o10_225"><p id="d99o10_233"><span class="control" id="d99o10_234">内存泄漏分析</span> ：MAT工具的使用和泄漏模式识别</p></li><li class="list__item" id="d99o10_226"><p id="d99o10_235"><span class="control" id="d99o10_236">调优实践经验</span> ：具体的调优案例和效果评估</p></li></ol></section><section class="chapter"><h3 id="d99o10_219" data-toc="d99o10_219">回答策略</h3><ol class="list _decimal" id="d99o10_237" type="1"><li class="list__item" id="d99o10_238"><p id="d99o10_242"><span class="control" id="d99o10_243">参数配置</span> ：结合具体场景说明参数选择</p></li><li class="list__item" id="d99o10_239"><p id="d99o10_244"><span class="control" id="d99o10_245">工具使用</span> ：演示命令行工具的实际操作</p></li><li class="list__item" id="d99o10_240"><p id="d99o10_246"><span class="control" id="d99o10_247">问题诊断</span> ：描述完整的问题排查流程</p></li><li class="list__item" id="d99o10_241"><p id="d99o10_248"><span class="control" id="d99o10_249">实际案例</span> ：分享真实的调优经验和效果</p></li></ol></section><section class="chapter"><h3 id="d99o10_220" data-toc="d99o10_220">实战建议</h3><ol class="list _decimal" id="d99o10_250" type="1"><li class="list__item" id="d99o10_253"><p id="d99o10_257"><span class="control" id="d99o10_258">建立监控体系</span> ：在生产环境建立完善的JVM监控</p></li><li class="list__item" id="d99o10_254"><p id="d99o10_259"><span class="control" id="d99o10_260">定期分析优化</span> ：定期检查GC日志和性能指标</p></li><li class="list__item" id="d99o10_255"><p id="d99o10_261"><span class="control" id="d99o10_262">压力测试验证</span> ：调优后必须进行充分的压力测试</p></li><li class="list__item" id="d99o10_256"><p id="d99o10_263"><span class="control" id="d99o10_264">文档记录</span> ：记录调优过程和参数变更历史</p></li></ol><p id="d99o10_252"><span class="control" id="d99o10_265">学习建议</span> ：JVM性能调优需要理论与实践相结合，建议在实际项目中应用各种监控工具，积累不同场景下的调优经验，特别要重视GC日志分析和内存分析技能的培养。</p></section></section><div class="last-modified">09 六月 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="jvm类加载机制qa.html" class="navigation-links__prev">JVM类加载机制QA</a><a href="jvm故障排查qa.html" class="navigation-links__next">JVM故障排查QA</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>