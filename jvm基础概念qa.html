<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-10T01:18:26.0233526"><title>JVM基础概念QA | 技术知识库</title><script type="application/json" id="virtual-toc-data">[{"id":"-ebafsa_4","level":0,"title":"📋 知识结构","anchor":"#-ebafsa_4"},{"id":"jvm","level":0,"title":"🏗️ JVM整体架构","anchor":"#jvm"},{"id":"-ebafsa_6","level":0,"title":"💾 运行时数据区详解","anchor":"#-ebafsa_6"},{"id":"-ebafsa_7","level":0,"title":"🔧 执行引擎","anchor":"#-ebafsa_7"},{"id":"-ebafsa_8","level":0,"title":"🎯 字节码指令","anchor":"#-ebafsa_8"},{"id":"-ebafsa_9","level":0,"title":"💡 面试技巧","anchor":"#-ebafsa_9"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="JVM基础概念QA | 技术知识库"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="技术知识库 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/jvm基础概念qa.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="JVM基础概念QA | 技术知识库"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/jvm基础概念qa.html#webpage",
    "url": "writerside-documentation/jvm基础概念qa.html",
    "name": "JVM基础概念QA | 技术知识库",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "技术知识库 Help"
}</script><!-- End Schema.org --></head><body data-id="JVM基础概念QA" data-main-title="JVM基础概念QA" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="JVM面试大纲.md|JVM面试大纲"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>技术知识库  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="JVM基础概念QA" id="JVM基础概念QA.md">JVM基础概念QA</h1><p id="-ebafsa_3">本文档深入解析JVM的基础概念和架构原理，涵盖JVM整体架构、运行时数据区、执行引擎等核心知识点。</p><section class="chapter"><h2 id="-ebafsa_4" data-toc="-ebafsa_4">📋 知识结构</h2><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="5 5 757.1439819335938 446.69915771484375" style="max-width: 757.1439819335938px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 549.5634745377204,247.3220951827838 L 614.0779485083596,251.16842690457403 L678.5924224789987,255.01475862636426"></path><path class="edge section-edge-0 edge-depth-1" d="M 547.6354365288132,239.0254528379038 L 593.7952355773963,212.82735134567332 L639.9550346259794,186.6292498534428"></path><path class="edge section-edge-0 edge-depth-1" d="M 545.8640320005037,256.3237074373246 L 577.4039566933218,284.0039468448059 L608.9438813861399,311.6841862522873"></path><path class="edge section-edge-0 edge-depth-1" d="M 528.8276257500092,232.58040253407844 L 517.2930044704416,204.85900984749506 L505.758383190874,177.13761716091167"></path><path class="edge section-edge-0 edge-depth-0" d="M 380.2465787135807,231.03540038293679 L 449.95534867688764,237.98804733545197 L519.6641186401946,244.94069428796715"></path><path class="edge section-edge-1 edge-depth-1" d="M 345.56780381382845,329.14770201425875 L 409.8815374041801,331.69787931517453 L474.19527099453177,334.2480566160903"></path><path class="edge section-edge-1 edge-depth-1" d="M 316.50021160929634,333.7274883905274 L 254.84419135928493,356.3857815946924 L193.18817110927355,379.04407479885737"></path><path class="edge section-edge-1 edge-depth-1" d="M 327.0543331514192,343.1332572783762 L 319.18579740982364,375.6762725614301 L311.31726166822807,408.219287844484"></path><path class="edge section-edge-1 edge-depth-1" d="M 315.9553469971553,325.2169596233852 L 258.9004308048884,312.20023922008045 L201.84551461262149,299.1835188167757"></path><path class="edge section-edge-1 edge-depth-1" d="M 342.5306711830233,337.61823496942566 L 378.65254989282516,365.016519768026 L414.77442860262704,392.41480456662634"></path><path class="edge section-edge-1 edge-depth-0" d="M 360.3540814593891,243.70062570673645 L 347.9501085028079,279.0500481549635 L335.5461355462267,314.3994706031906"></path><path class="edge section-edge-2 edge-depth-1" d="M 185.89726498342634,195.67558283905 L 132.5301365712292,186.15241794500125 L79.16300815903207,176.62925305095249"></path><path class="edge section-edge-2 edge-depth-1" d="M 186.90915470083223,204.29431875735813 L 130.45379673500264,228.85367378352373 L73.99843876917306,253.41302880968937"></path><path class="edge section-edge-2 edge-depth-1" d="M 192.68947318415672,185.60604786224997 L 174.08440845837242,155.9654154234792 L155.47934373258812,126.3247829847084"></path><path class="edge section-edge-2 edge-depth-0" d="M 350.58346935402153,226.75100696260185 L 282.99231661655585,213.92868034423643 L215.4011638790902,201.106353725871"></path><path class="edge section-edge-3 edge-depth-1" d="M 382.5027881787563,123.39758426466028 L 442.77694593098795,104.63102708003166 L503.0511036832196,85.86446989540303"></path><path class="edge section-edge-3 edge-depth-1" d="M 355.74860394864345,119.4640396394438 L 317.0920488495752,93.36809350187613 L278.4354937505069,67.27214736430847"></path><path class="edge section-edge-3 edge-depth-1" d="M 371.90553483075223,113.32652628184442 L 380.2231559158064,80.87837239231587 L388.54077700086054,48.43021850278731"></path><path class="edge section-edge-3 edge-depth-0" d="M 365.7423807857659,214.55263955058626 L 366.750777804055,178.70172708810196 L367.75917482234416,142.85081462561772"></path></g><g class="mindmap-nodes"><g transform="translate(308.56113247550877, 210.64670939157224)" class="mindmap-node section--1 section-root"><g transform="translate(56.75950241088867, 18.9)"><circle r="56.75950241088867" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(56.75950241088867, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JVM基础概念</tspan></tspan></text></g></g></g><g transform="translate(494.34006246737783, 227.52938527933168)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h70.5 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-1"></path><line y2="37.8" x2="80.5" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(40.25, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JVM架构</tspan></tspan></text></g></g></g><g transform="translate(272.50145711921834, 309.65338691835484)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h106.15625 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-6"></path><line y2="37.8" x2="116.15625" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(58.078125, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">运行时数据区</tspan></tspan></text></g></g></g><g transform="translate(157.62799904861856, 179.4106512969006)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-12"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">执行引擎</tspan></tspan></text></g></g></g><g transform="translate(327.9309207217126, 108.95674478463172)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h70.5 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-16"></path><line y2="37.8" x2="80.5" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(40.25, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JVM规范</tspan></tspan></text></g></g></g><g transform="translate(634.9877095493413, 237.00746852981638)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h107.15625 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-2"></path><line y2="37.8" x2="117.15625" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(58.578125, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">类加载子系统</tspan></tspan></text></g></g></g><g transform="translate(594.9222836874147, 160.3253174120149)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h106.15625 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-3"></path><line y2="37.8" x2="116.15625" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(58.078125, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">运行时数据区</tspan></tspan></text></g></g></g><g transform="translate(577.18185162117, 302.6785084102802)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-4"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">执行引擎</tspan></tspan></text></g></g></g><g transform="translate(441.41782147350534, 144.38863441565843)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h107.15625 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-5"></path><line y2="37.8" x2="117.15625" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(58.578125, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">本地方法接口</tspan></tspan></text></g></g></g><g transform="translate(438.1354923534485, 315.94237171199427)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-7"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">程序计数器</tspan></tspan></text></g></g></g><g transform="translate(136.07280130125582, 365.31817627103)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-8"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">虚拟机栈</tspan></tspan></text></g></g></g><g transform="translate(256.74401236473557, 403.8991582045054)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-9"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">本地方法栈</tspan></tspan></text></g></g></g><g transform="translate(152.19727932271178, 276.9470915218061)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h60.04800033569336 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-10"></path><line y2="37.8" x2="70.04800033569336" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(35.02400016784668, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">堆内存</tspan></tspan></text></g></g></g><g transform="translate(392.186455166432, 382.5796526176972)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h59.078125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-11"></path><line y2="37.8" x2="69.078125" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(34.5390625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">方法区</tspan></tspan></text></g></g></g><g transform="translate(29.37227462789747, 155.0941845931019)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h60.04800033569336 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-13"></path><line y2="37.8" x2="70.04800033569336" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(35.02400016784668, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">解释器</tspan></tspan></text></g></g></g><g transform="translate(15, 240.49669627014688)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h80.48719024658203 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-14"></path><line y2="37.8" x2="90.48719024658203" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(45.243595123291016, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">JIT编译器</tspan></tspan></text></g></g></g><g transform="translate(96.45681823433722, 94.72017955005776)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-15"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">垃圾收集器</tspan></tspan></text></g></g></g><g transform="translate(466.82497080456994, 62.50530937543159)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h91.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-17"></path><line y2="37.8" x2="101.09600067138672" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(50.54800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">字节码指令</tspan></tspan></text></g></g></g><g transform="translate(214.9551766417444, 39.97944221912053)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h92.09600067138672 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-18"></path><line y2="37.8" x2="102.09600067138672" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(51.04800033569336, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">类文件格式</tspan></tspan></text></g></g></g><g transform="translate(350.2107036099002, 15)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h74.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-19"></path><line y2="37.8" x2="84.109375" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(42.0546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">内存模型</tspan></tspan></text></g></g></g></g></svg></section><section class="chapter"><h2 id="jvm" data-toc="jvm">🏗️ JVM整体架构</h2><section class="chapter"><h3 id="q1-jvm" data-toc="q1-jvm">Q1: JVM的整体架构是怎样的？各个组件的作用是什么？</h3><p id="-ebafsa_13"><span class="control" id="-ebafsa_18">答案：</span></p><p id="-ebafsa_14"><span class="control" id="-ebafsa_19">JVM整体架构图：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 2281.125 204"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="2281.125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="JVM架构" class="cluster"><rect height="188" width="2265.125" y="8" x="8" style=""></rect><g transform="translate(1110.3125, 8)" class="cluster-label"><foreignObject height="24" width="60.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM架构</p></span></div></foreignObject></g></g><g data-look="classic" id="JVM" class="cluster"><rect height="148" width="1706.84375" y="28" x="528.78125" style=""></rect><g transform="translate(1367.9765625, 28)" class="cluster-label"><foreignObject height="24" width="28.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M227.297,102L233.547,102C239.797,102,252.297,102,261.672,102C271.047,102,277.297,102,282.88,102C288.464,102,293.38,102,295.839,102L298.297,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M453.781,102L460.031,102C466.281,102,478.781,102,491.281,102C503.781,102,516.281,102,525.656,102C535.031,102,541.281,102,546.865,102C552.448,102,557.365,102,559.823,102L562.281,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M751.266,102L757.516,102C763.766,102,776.266,102,785.641,102C795.016,102,801.266,102,806.849,102C812.432,102,817.349,102,819.807,102L822.266,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M1055.594,102L1061.844,102C1068.094,102,1080.594,102,1089.969,102C1099.344,102,1105.594,102,1111.177,102C1116.76,102,1121.677,102,1124.135,102L1126.594,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M1324.781,102L1331.031,102C1337.281,102,1349.781,102,1359.156,102C1368.531,102,1374.781,102,1380.365,102C1385.948,102,1390.865,102,1393.323,102L1395.781,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M1582.578,102L1588.828,102C1595.078,102,1607.578,102,1616.953,102C1626.328,102,1632.578,102,1638.161,102C1643.745,102,1648.661,102,1651.12,102L1653.578,102"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_6" d="M1891.984,102L1898.234,102C1904.484,102,1916.984,102,1926.359,102C1935.734,102,1941.984,102,1947.568,102C1953.151,102,1958.068,102,1960.526,102L1962.984,102"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(658.7734375, 102)" id="flowchart-C-9588" class="node default"><rect height="54" width="184.984375" y="-27" x="-92.4921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-62.4921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="124.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>字节码文件 .class</p></span></div></foreignObject></g></g><g transform="translate(136.3984375, 102)" id="flowchart-A-9585" class="node default"><rect height="54" width="181.796875" y="-27" x="-90.8984375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-60.8984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="121.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java源代码 .java</p></span></div></foreignObject></g></g><g transform="translate(378.0390625, 102)" id="flowchart-B-9586" class="node default"><rect height="54" width="151.484375" y="-27" x="-75.7421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-45.7421875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="91.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>编译器 javac</p></span></div></foreignObject></g></g><g transform="translate(940.9296875, 102)" id="flowchart-D-9589" class="node default"><rect height="78" width="229.328125" y="-39" x="-114.6640625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-84.6640625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="169.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>类加载子系统<br>Class Loader Subsystem</p></span></div></foreignObject></g></g><g transform="translate(1227.6875, 102)" id="flowchart-E-9590" class="node default"><rect height="78" width="194.1875" y="-39" x="-97.09375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-67.09375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="134.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>运行时数据区<br>Runtime Data Area</p></span></div></foreignObject></g></g><g transform="translate(1491.1796875, 102)" id="flowchart-F-9591" class="node default"><rect height="78" width="182.796875" y="-39" x="-91.3984375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-61.3984375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="122.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>执行引擎<br>Execution Engine</p></span></div></foreignObject></g></g><g transform="translate(1774.78125, 102)" id="flowchart-G-9592" class="node default"><rect height="78" width="234.40625" y="-39" x="-117.203125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-87.203125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="174.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>本地方法接口<br>Native Method Interface</p></span></div></foreignObject></g></g><g transform="translate(2082.5546875, 102)" id="flowchart-H-9593" class="node default"><rect height="78" width="231.140625" y="-39" x="-115.5703125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-85.5703125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="171.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>本地方法库<br>Native Method Libraries</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_16"><span class="control" id="-ebafsa_20">各组件详细说明：</span></p><ol class="list _decimal" id="-ebafsa_17" type="1"><li class="list__item" id="-ebafsa_21"><p id="-ebafsa_25"><span class="control" id="-ebafsa_27">类加载子系统（Class Loader Subsystem）</span></p><ul class="list _bullet" id="-ebafsa_26"><li class="list__item" id="-ebafsa_28"><p id="-ebafsa_31">负责加载.class文件到内存</p></li><li class="list__item" id="-ebafsa_29"><p id="-ebafsa_32">进行字节码验证、准备、解析、初始化</p></li><li class="list__item" id="-ebafsa_30"><p id="-ebafsa_33">实现动态加载和热部署</p></li></ul></li><li class="list__item" id="-ebafsa_22"><p id="-ebafsa_34"><span class="control" id="-ebafsa_36">运行时数据区（Runtime Data Area）</span></p><ul class="list _bullet" id="-ebafsa_35"><li class="list__item" id="-ebafsa_37"><p id="-ebafsa_40">JVM内存的核心部分</p></li><li class="list__item" id="-ebafsa_38"><p id="-ebafsa_41">包括堆、栈、方法区等区域</p></li><li class="list__item" id="-ebafsa_39"><p id="-ebafsa_42">管理程序运行时的数据存储</p></li></ul></li><li class="list__item" id="-ebafsa_23"><p id="-ebafsa_43"><span class="control" id="-ebafsa_45">执行引擎（Execution Engine）</span></p><ul class="list _bullet" id="-ebafsa_44"><li class="list__item" id="-ebafsa_46"><p id="-ebafsa_49">执行字节码指令</p></li><li class="list__item" id="-ebafsa_47"><p id="-ebafsa_50">包含解释器和JIT编译器</p></li><li class="list__item" id="-ebafsa_48"><p id="-ebafsa_51">负责垃圾回收</p></li></ul></li><li class="list__item" id="-ebafsa_24"><p id="-ebafsa_52"><span class="control" id="-ebafsa_54">本地方法接口（JNI）</span></p><ul class="list _bullet" id="-ebafsa_53"><li class="list__item" id="-ebafsa_55"><p id="-ebafsa_57">支持调用本地C/C++代码</p></li><li class="list__item" id="-ebafsa_56"><p id="-ebafsa_58">提供Java与系统底层的交互能力</p></li></ul></li></ol></section><section class="chapter"><h3 id="q2-jvm-jre-jdk" data-toc="q2-jvm-jre-jdk">Q2: JVM、JRE、JDK三者之间的关系是什么？</h3><p id="-ebafsa_59"><span class="control" id="-ebafsa_63">答案：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1352.625 493"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1352.625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="477" width="925.84375" y="8" x="8" style=""></rect><g transform="translate(371.0234375, 8)" class="cluster-label"><foreignObject height="24" width="199.796875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JDK (Java Development Kit)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(37.5, 35)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="279" width="850.84375" y="8" x="8" style=""></rect><g transform="translate(333.421875, 8)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JRE (Java Runtime Environment)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(35, 50)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="179" width="574.375" y="8" x="8" style=""></rect><g transform="translate(198.1640625, 8)" class="cluster-label"><foreignObject height="24" width="194.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM (Java Virtual Machine)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(105.0546875, 97.5)" id="flowchart-C-9735" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>执行引擎</p></span></div></foreignObject></g></g><g transform="translate(295.1875, 97.5)" id="flowchart-D-9736" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>运行时数据区</p></span></div></foreignObject></g></g><g transform="translate(485.3203125, 97.5)" id="flowchart-E-9737" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>类加载器</p></span></div></foreignObject></g></g></g></g><g transform="translate(745.609375, 147.5)" id="flowchart-B-9734" class="node default"><rect height="78" width="156.46875" y="-39" x="-78.234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Java核心类库<br>rt.jar等</p></span></div></foreignObject></g></g></g></g><g transform="translate(470.921875, 411)" id="flowchart-A-9733" class="node default"><rect height="78" width="210.46875" y="-39" x="-105.234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-75.234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="150.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>开发工具<br>javac, jar, javadoc等</p></span></div></foreignObject></g></g></g></g><g transform="translate(1027.2109375, 246.5)" id="flowchart-JDK-9738" class="node default"><rect height="54" width="86.734375" y="-27" x="-43.3671875" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-13.3671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="26.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JDK</p></span></div></foreignObject></g></g><g transform="translate(1163.375, 246.5)" id="flowchart-JRE-9739" class="node default"><rect height="54" width="85.59375" y="-27" x="-42.796875" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-12.796875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="25.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JRE</p></span></div></foreignObject></g></g><g transform="translate(1300.3984375, 246.5)" id="flowchart-JVM-9740" class="node default"><rect height="54" width="88.453125" y="-27" x="-44.2265625" data-et="node" data-id="abc" style="fill:#e8f5e8 !important" class="basic label-container"></rect><g transform="translate(-14.2265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="28.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JVM</p></span></div></foreignObject></g></g></g></g></g></svg><p id="-ebafsa_61"><span class="control" id="-ebafsa_64">关系说明：</span></p><div class="table-wrapper"><table class="wide" id="-ebafsa_62"><thead><tr class="ijRowHead" id="-ebafsa_65"><th id="-ebafsa_69"><p>组件</p></th><th id="-ebafsa_70"><p>作用</p></th><th id="-ebafsa_71"><p>包含内容</p></th><th id="-ebafsa_72"><p>使用场景</p></th></tr></thead><tbody><tr id="-ebafsa_66"><td id="-ebafsa_73"><p><span class="control" id="-ebafsa_77">JVM</span></p></td><td id="-ebafsa_74"><p>运行Java字节码</p></td><td id="-ebafsa_75"><p>执行引擎、内存管理、垃圾回收</p></td><td id="-ebafsa_76"><p>程序运行时</p></td></tr><tr id="-ebafsa_67"><td id="-ebafsa_78"><p><span class="control" id="-ebafsa_82">JRE</span></p></td><td id="-ebafsa_79"><p>Java运行环境</p></td><td id="-ebafsa_80"><p>JVM + Java核心类库</p></td><td id="-ebafsa_81"><p>运行Java程序</p></td></tr><tr id="-ebafsa_68"><td id="-ebafsa_83"><p><span class="control" id="-ebafsa_87">JDK</span></p></td><td id="-ebafsa_84"><p>Java开发工具包</p></td><td id="-ebafsa_85"><p>JRE + 开发工具</p></td><td id="-ebafsa_86"><p>开发Java程序</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="-ebafsa_6" data-toc="-ebafsa_6">💾 运行时数据区详解</h2><section class="chapter"><h3 id="q3-jvm" data-toc="q3-jvm">Q3: JVM运行时数据区是如何划分的？各个区域的作用是什么？</h3><p id="-ebafsa_92"><span class="control" id="-ebafsa_96">答案：</span></p><p id="-ebafsa_93"><span class="control" id="-ebafsa_97">运行时数据区结构图：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 741.484375 620"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="741.484375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="运行时数据区" class="cluster"><rect height="604" width="725.484375" y="8" x="8" style=""></rect><g transform="translate(322.6640625, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>运行时数据区</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(173.875, 35)" class="root"><g class="clusters"><g data-look="classic" id="线程共享" class="cluster"><rect height="178" width="377.734375" y="8" x="8" style=""></rect><g transform="translate(164.8125, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>线程共享</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(97.0390625, 97)" id="flowchart-D-9843" class="node default"><rect height="78" width="108.078125" y="-39" x="-54.0390625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-24.0390625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="48.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>堆内存<br>Heap</p></span></div></foreignObject></g></g><g transform="translate(275.90625, 97)" id="flowchart-E-9844" class="node default"><rect height="78" width="149.65625" y="-39" x="-74.828125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-44.828125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="89.65625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>方法区<br>Method Area</p></span></div></foreignObject></g></g></g></g><g transform="translate(37.5, 263)" class="root"><g class="clusters"><g data-look="classic" id="线程私有" class="cluster"><rect height="178" width="650.484375" y="8" x="8" style=""></rect><g transform="translate(301.1875, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>线程私有</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(113.6640625, 97)" id="flowchart-A-9840" class="node default"><rect height="78" width="141.328125" y="-39" x="-70.6640625" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-40.6640625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="81.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>程序计数器<br>PC Register</p></span></div></foreignObject></g></g><g transform="translate(300.2578125, 97)" id="flowchart-B-9841" class="node default"><rect height="78" width="131.859375" y="-39" x="-65.9296875" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-35.9296875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="71.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>虚拟机栈<br>JVM Stack</p></span></div></foreignObject></g></g><g transform="translate(519.8359375, 97)" id="flowchart-C-9842" class="node default"><rect height="78" width="207.296875" y="-39" x="-103.6484375" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-73.6484375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="147.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>本地方法栈<br>Native Method Stack</p></span></div></foreignObject></g></g></g></g><g transform="translate(370.7421875, 538)" id="flowchart-F-9845" class="node default"><rect height="78" width="164.78125" y="-39" x="-82.390625" data-et="node" data-id="abc" style="fill:#fff3e0 !important" class="basic label-container"></rect><g transform="translate(-52.390625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="104.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>直接内存<br>Direct Memory</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_95"><span class="control" id="-ebafsa_98">各区域详细说明：</span></p></section><section class="chapter"><h3 id="q4-outofmemoryerror" data-toc="q4-outofmemoryerror">Q4: 程序计数器的作用是什么？为什么它不会出现OutOfMemoryError？</h3><p id="-ebafsa_99"><span class="control" id="-ebafsa_104">答案：</span></p><p id="-ebafsa_100"><span class="control" id="-ebafsa_105">程序计数器（PC Register）特点：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1071.4375 274"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1071.4375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="程序计数器特性" class="cluster"><rect height="258" width="1055.4375" y="8" x="8" style=""></rect><g transform="translate(479.6328125, 8)" class="cluster-label"><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>程序计数器特性</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M154.383,99.5L154.383,105.75C154.383,112,154.383,124.5,154.383,133.875C154.383,143.25,154.383,149.5,154.383,155.083C154.383,160.667,154.383,165.583,154.383,168.042L154.383,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M441.914,99.5L441.914,105.75C441.914,112,441.914,124.5,441.914,133.875C441.914,143.25,441.914,149.5,441.914,155.083C441.914,160.667,441.914,165.583,441.914,168.042L441.914,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M712.164,99.5L712.164,105.75C712.164,112,712.164,124.5,712.164,133.875C712.164,143.25,712.164,149.5,712.164,155.083C712.164,160.667,712.164,165.583,712.164,168.042L712.164,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M942.352,99.5L942.352,105.75C942.352,112,942.352,124.5,942.352,133.875C942.352,143.25,942.352,149.5,942.352,155.083C942.352,160.667,942.352,165.583,942.352,168.042L942.352,170.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(154.3828125, 72.5)" id="flowchart-A-9944" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>线程私有</p></span></div></foreignObject></g></g><g transform="translate(154.3828125, 201.5)" id="flowchart-B-9945" class="node default"><rect height="54" width="222.765625" y="-27" x="-111.3828125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-81.3828125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="162.765625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>每个线程都有独立的PC</p></span></div></foreignObject></g></g><g transform="translate(441.9140625, 72.5)" id="flowchart-C-9946" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>存储指令地址</p></span></div></foreignObject></g></g><g transform="translate(441.9140625, 201.5)" id="flowchart-D-9947" class="node default"><rect height="54" width="252.296875" y="-27" x="-126.1484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-96.1484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="192.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>当前执行字节码指令的行号</p></span></div></foreignObject></g></g><g transform="translate(712.1640625, 72.5)" id="flowchart-E-9948" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存很小</p></span></div></foreignObject></g></g><g transform="translate(712.1640625, 201.5)" id="flowchart-F-9949" class="node default"><rect height="54" width="188.203125" y="-27" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>只存储一个地址值</p></span></div></foreignObject></g></g><g transform="translate(942.3515625, 72.5)" id="flowchart-G-9950" class="node default"><rect height="54" width="125.046875" y="-27" x="-62.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.5234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>不会OOM</p></span></div></foreignObject></g></g><g transform="translate(942.3515625, 201.5)" id="flowchart-H-9951" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内存固定且极小</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_102"><span class="control" id="-ebafsa_106">作用和特点：</span></p><ol class="list _decimal" id="-ebafsa_103" type="1"><li class="list__item" id="-ebafsa_107"><p id="-ebafsa_112"><span class="control" id="-ebafsa_113">存储当前线程执行字节码的行号指示器</span></p></li><li class="list__item" id="-ebafsa_108"><p id="-ebafsa_114"><span class="control" id="-ebafsa_115">支持线程切换后恢复执行位置</span></p></li><li class="list__item" id="-ebafsa_109"><p id="-ebafsa_116"><span class="control" id="-ebafsa_117">执行Java方法时指向字节码指令地址</span></p></li><li class="list__item" id="-ebafsa_110"><p id="-ebafsa_118"><span class="control" id="-ebafsa_119">执行本地方法时为空（undefined）</span></p></li><li class="list__item" id="-ebafsa_111"><p id="-ebafsa_120"><span class="control" id="-ebafsa_121">是唯一不会出现OutOfMemoryError的区域</span></p></li></ol></section><section class="chapter"><h3 id="q5" data-toc="q5">Q5: 虚拟机栈的结构是怎样的？栈帧包含哪些信息？</h3><p id="-ebafsa_122"><span class="control" id="-ebafsa_127">答案：</span></p><p id="-ebafsa_123"><span class="control" id="-ebafsa_128">虚拟机栈结构：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1412.09765625 554"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1412.09765625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="栈帧结构" class="cluster"><rect height="128" width="1111.375" y="161" x="8" style=""></rect><g transform="translate(531.6328125, 161)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>栈帧结构</p></span></div></foreignObject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="538" width="264.72265625" y="8" x="1139.375" style=""></rect><g transform="translate(1195.439453125, 8)" class="cluster-label"><foreignObject height="24" width="152.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>虚拟机栈 (JVM Stack)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M1292.139,111L1295.097,115.167C1298.055,119.333,1303.971,127.667,1306.929,136C1309.887,144.333,1309.887,152.667,1309.887,158.917C1309.887,165.167,1309.887,169.333,1309.887,172.833C1309.887,176.333,1309.887,179.167,1309.887,180.583L1309.887,182"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M1309.887,264L1309.887,268.167C1309.887,272.333,1309.887,280.667,1309.887,289C1309.887,297.333,1309.887,305.667,1309.887,311.917C1309.887,318.167,1309.887,322.333,1309.887,325.833C1309.887,329.333,1309.887,332.167,1309.887,333.583L1309.887,335"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M1309.887,417L1309.887,421.167C1309.887,425.333,1309.887,433.667,1309.887,439.917C1309.887,446.167,1309.887,450.333,1309.887,453.833C1309.887,457.333,1309.887,460.167,1309.887,461.583L1309.887,463"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M1220.25,111L1215.527,115.167C1210.804,119.333,1201.359,127.667,1196.637,136C1191.914,144.333,1191.914,152.667,1110.13,161.747C1028.345,170.828,864.776,180.656,701.872,190.444C538.969,200.232,376.731,209.98,295.612,214.854L214.493,219.728"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_4" d="M1232.437,111L1229.017,115.167C1225.596,119.333,1218.755,127.667,1215.335,136C1211.914,144.333,1211.914,152.667,1146.32,161.663C1080.725,170.659,949.536,180.317,819.013,189.927C688.489,199.537,558.63,209.098,493.7,213.878L428.77,218.659"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_G_5" d="M1244.625,111L1242.506,115.167C1240.388,119.333,1236.151,127.667,1234.032,136C1231.914,144.333,1231.914,152.667,1183.538,161.462C1135.163,170.258,1038.411,179.516,942.324,188.711C846.236,197.906,750.812,207.037,703.1,211.603L655.388,216.168"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_H_6" d="M1267.764,111L1268.118,115.167C1268.472,119.333,1269.179,127.667,1269.533,136C1269.887,144.333,1269.887,152.667,1236.421,161.249C1202.955,169.832,1136.023,178.663,1069.753,187.408C1003.482,196.152,937.872,204.809,905.067,209.138L872.263,213.466"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_I_7" d="M1279.952,111L1281.608,115.167C1283.263,119.333,1286.575,127.667,1288.231,136C1289.887,144.333,1289.887,152.667,1272.761,160.632C1255.635,168.597,1221.383,176.194,1187.782,183.647C1154.181,191.099,1121.23,198.408,1104.755,202.062L1088.28,205.716"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(1264.453125, 72)" id="flowchart-A-10147" class="node default"><rect height="78" width="180.15625" y="-39" x="-90.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-60.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="120.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>栈帧3 - 当前方法<br>Frame 3</p></span></div></foreignObject></g></g><g transform="translate(1309.88671875, 225)" id="flowchart-B-10148" class="node default"><rect height="78" width="118.421875" y="-39" x="-59.2109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-29.2109375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="58.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>栈帧2<br>Frame 2</p></span></div></foreignObject></g></g><g transform="translate(1309.88671875, 378)" id="flowchart-C-10150" class="node default"><rect height="78" width="118.421875" y="-39" x="-59.2109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-29.2109375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="58.421875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>栈帧1<br>Frame 1</p></span></div></foreignObject></g></g><g transform="translate(1309.88671875, 494)" id="flowchart-D-10152" class="node default"><rect height="54" width="77.703125" y="-27" x="-38.8515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-8.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="17.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>...</p></span></div></foreignObject></g></g><g transform="translate(126.75, 225)" id="flowchart-E-10153" class="node default"><rect height="78" width="167.5" y="-39" x="-83.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.75, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="107.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>局部变量表<br>Local Variables</p></span></div></foreignObject></g></g><g transform="translate(342.640625, 225)" id="flowchart-F-10154" class="node default"><rect height="78" width="164.28125" y="-39" x="-82.140625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-52.140625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="104.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>操作数栈<br>Operand Stack</p></span></div></foreignObject></g></g><g transform="translate(563.09375, 225)" id="flowchart-G-10155" class="node default"><rect height="78" width="176.625" y="-39" x="-88.3125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.3125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="116.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>动态链接<br>Dynamic Linking</p></span></div></foreignObject></g></g><g transform="translate(784.8515625, 225)" id="flowchart-H-10156" class="node default"><rect height="78" width="166.890625" y="-39" x="-83.4453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.4453125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="106.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>方法返回地址<br>Return Address</p></span></div></foreignObject></g></g><g transform="translate(1001.3359375, 225)" id="flowchart-I-10157" class="node default"><rect height="78" width="166.078125" y="-39" x="-83.0390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.0390625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="106.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>附加信息<br>Additional Info</p></span></div></foreignObject></g></g></g></g></g></svg><p id="-ebafsa_125"><span class="control" id="-ebafsa_129">栈帧组成详解：</span></p><ol class="list _decimal" id="-ebafsa_126" type="1"><li class="list__item" id="-ebafsa_130"><p id="-ebafsa_134"><span class="control" id="-ebafsa_136">局部变量表（Local Variables）</span></p><ul class="list _bullet" id="-ebafsa_135"><li class="list__item" id="-ebafsa_137"><p id="-ebafsa_140">存储方法参数和局部变量</p></li><li class="list__item" id="-ebafsa_138"><p id="-ebafsa_141">以变量槽（Variable Slot）为单位</p></li><li class="list__item" id="-ebafsa_139"><p id="-ebafsa_142">基本类型占用1个槽，long/double占用2个槽</p></li></ul></li><li class="list__item" id="-ebafsa_131"><p id="-ebafsa_143"><span class="control" id="-ebafsa_145">操作数栈（Operand Stack）</span></p><ul class="list _bullet" id="-ebafsa_144"><li class="list__item" id="-ebafsa_146"><p id="-ebafsa_149">用于计算过程中操作数的临时存储</p></li><li class="list__item" id="-ebafsa_147"><p id="-ebafsa_150">支持各种字节码指令的操作</p></li><li class="list__item" id="-ebafsa_148"><p id="-ebafsa_151">栈深度在编译时确定</p></li></ul></li><li class="list__item" id="-ebafsa_132"><p id="-ebafsa_152"><span class="control" id="-ebafsa_154">动态链接（Dynamic Linking）</span></p><ul class="list _bullet" id="-ebafsa_153"><li class="list__item" id="-ebafsa_155"><p id="-ebafsa_157">指向运行时常量池中该栈帧所属方法的引用</p></li><li class="list__item" id="-ebafsa_156"><p id="-ebafsa_158">支持方法调用过程中的动态连接</p></li></ul></li><li class="list__item" id="-ebafsa_133"><p id="-ebafsa_159"><span class="control" id="-ebafsa_161">方法返回地址</span></p><ul class="list _bullet" id="-ebafsa_160"><li class="list__item" id="-ebafsa_162"><p id="-ebafsa_164">正常退出：调用者的PC计数器值</p></li><li class="list__item" id="-ebafsa_163"><p id="-ebafsa_165">异常退出：通过异常处理器表确定</p></li></ul></li></ol></section><section class="chapter"><h3 id="q6" data-toc="q6">Q6: 堆内存的结构是怎样的？新生代和老年代如何划分？</h3><p id="-ebafsa_166"><span class="control" id="-ebafsa_173">答案：</span></p><p id="-ebafsa_167"><span class="control" id="-ebafsa_174">堆内存结构图：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 634.390625 744"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="634.390625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph3" class="cluster"><rect height="728" width="618.390625" y="8" x="8" style=""></rect><g transform="translate(236.0078125, 8)" class="cluster-label"><foreignObject height="24" width="162.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>堆内存 (Heap Memory)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(178.5546875, 35)" class="root"><g class="clusters"><g data-look="classic" id="永久代/元空间" class="cluster"><rect height="202" width="261.28125" y="8" x="8" style=""></rect><g transform="translate(86.359375, 8)" class="cluster-label"><foreignObject height="24" width="104.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>永久代/元空间</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(138.640625, 109)" id="flowchart-E-10276" class="node default"><rect height="102" width="191.28125" y="-51" x="-95.640625" data-et="node" data-id="abc" style="fill:#e8f5e8 !important" class="basic label-container"></rect><g transform="translate(-65.640625, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="131.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Method Area<br>JDK8之前是永久代<br>JDK8+是元空间</p></span></div></foreignObject></g></g></g></g><g transform="translate(199.5234375, 287)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="178" width="219.34375" y="8" x="8" style=""></rect><g transform="translate(30.5859375, 8)" class="cluster-label"><foreignObject height="24" width="174.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>老年代 (Old Generation)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(117.671875, 97)" id="flowchart-D-10275" class="node default"><rect height="78" width="149.34375" y="-39" x="-74.671875" data-et="node" data-id="abc" style="fill:#fff3e0 !important" class="basic label-container"></rect><g transform="translate(-44.671875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="89.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Old Gen<br>约2/3堆空间</p></span></div></foreignObject></g></g></g></g><g transform="translate(37.5, 515)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="178" width="543.390625" y="8" x="8" style=""></rect><g transform="translate(184.1015625, 8)" class="cluster-label"><foreignObject height="24" width="191.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>新生代 (Young Generation)</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(98.5390625, 97)" id="flowchart-A-10272" class="node default"><rect height="78" width="111.078125" y="-39" x="-55.5390625" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-25.5390625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="51.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Eden区<br>80%</p></span></div></foreignObject></g></g><g transform="translate(269.65625, 97)" id="flowchart-B-10273" class="node default"><rect height="78" width="131.15625" y="-39" x="-65.578125" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-35.578125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="71.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Survivor 0<br>10%</p></span></div></foreignObject></g></g><g transform="translate(450.8125, 97)" id="flowchart-C-10274" class="node default"><rect height="78" width="131.15625" y="-39" x="-65.578125" data-et="node" data-id="abc" style="fill:#f3e5f5 !important" class="basic label-container"></rect><g transform="translate(-35.578125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="71.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Survivor 1<br>10%</p></span></div></foreignObject></g></g></g></g></g></g></g></g></g></svg><p id="-ebafsa_169"><span class="control" id="-ebafsa_175">内存分代原理：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1549.21875 209.8046875" height="209.8046875" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1549.21875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M148.125,139L152.292,139C156.458,139,164.792,139,171.042,139C177.292,139,181.458,139,184.958,139C188.458,139,191.292,139,192.708,139L194.125,139"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M309.203,139L313.37,139C317.536,139,325.87,139,332.12,139C338.37,139,342.536,139,346.036,139C349.536,139,352.37,139,353.786,139L355.203,139"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M484.078,139L488.245,139C492.411,139,500.745,139,506.995,139C513.245,139,517.411,139,520.911,139C524.411,139,527.245,139,528.661,139L530.078,139"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M748.125,139L752.292,139C756.458,139,764.792,139,771.042,139C777.292,139,781.458,139,784.958,139C788.458,139,791.292,139,792.708,139L794.125,139"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M907.016,139L911.182,139C915.349,139,923.682,139,929.974,139.042C936.266,139.083,940.516,139.167,944.099,139.237C947.683,139.307,950.599,139.364,952.058,139.393L953.516,139.422"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M1050.437,106.812L1061.304,94.843C1072.172,82.875,1093.906,58.937,1107.934,46.969C1121.961,35,1128.281,35,1133.935,35C1139.589,35,1144.576,35,1147.069,35L1149.563,35"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_6" d="M1083.125,139.5L1088.544,139.417C1093.964,139.333,1104.802,139.167,1112.973,139.083C1121.143,139,1126.646,139,1131.482,139C1136.318,139,1140.487,139,1142.572,139L1144.656,139"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_7" d="M1314.625,139L1318.792,139C1322.958,139,1331.292,139,1337.542,139.57C1343.792,140.14,1347.958,141.28,1351.482,142.244C1355.006,143.208,1357.886,143.997,1359.327,144.391L1360.767,144.785"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_F_8" d="M1364.625,194.16L1360.458,195.3C1356.292,196.44,1347.958,198.72,1325.794,199.86C1303.63,201,1267.635,201,1230.305,201C1192.974,201,1154.307,201,1130.208,197.931C1106.109,194.862,1096.578,188.724,1087.607,182.947C1078.636,177.171,1070.226,171.755,1066.02,169.047L1061.815,166.339"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1115.640625, 35)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(1115.640625, 139)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(78.0625, 139)" id="flowchart-A-10393" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>新创建对象</p></span></div></foreignObject></g></g><g transform="translate(253.6640625, 139)" id="flowchart-B-10394" class="node default"><rect height="54" width="111.078125" y="-27" x="-55.5390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.5390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="51.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Eden区</p></span></div></foreignObject></g></g><g transform="translate(421.640625, 139)" id="flowchart-C-10396" class="node default"><rect height="54" width="124.875" y="-27" x="-62.4375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.4375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Minor GC</p></span></div></foreignObject></g></g><g transform="translate(641.1015625, 139)" id="flowchart-D-10398" class="node default"><rect height="54" width="214.046875" y="-27" x="-107.0234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-77.0234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="154.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>存活对象移至Survivor</p></span></div></foreignObject></g></g><g transform="translate(852.5703125, 139)" id="flowchart-E-10400" class="node default"><rect height="54" width="108.890625" y="-27" x="-54.4453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-24.4453125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="48.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>年龄+1</p></span></div></foreignObject></g></g><g transform="translate(1019.8203125, 139)" id="flowchart-F-10402" class="node default"><polygon transform="translate(-62.8046875,62.8046875)" class="label-container" points="62.8046875,0 125.609375,-62.8046875 62.8046875,-125.609375 0,-62.8046875"></polygon><g transform="translate(-35.8046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="71.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>年龄&gt;=15?</p></span></div></foreignObject></g></g><g transform="translate(1231.640625, 35)" id="flowchart-G-10404" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>晋升到老年代</p></span></div></foreignObject></g></g><g transform="translate(1231.640625, 139)" id="flowchart-H-10406" class="node default"><rect height="54" width="165.96875" y="-27" x="-82.984375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-52.984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="105.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>继续在Survivor</p></span></div></foreignObject></g></g><g transform="translate(1452.921875, 170)" id="flowchart-I-10408" class="node default"><rect height="54" width="176.59375" y="-27" x="-88.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>下次GC继续判断</p></span></div></foreignObject></g></g></g></g></g></svg><p id="-ebafsa_171"><span class="control" id="-ebafsa_176">分代策略优势：</span></p><ol class="list _decimal" id="-ebafsa_172" type="1"><li class="list__item" id="-ebafsa_177"><p id="-ebafsa_180"><span class="control" id="-ebafsa_182">分代假设理论</span></p><ul class="list _bullet" id="-ebafsa_181"><li class="list__item" id="-ebafsa_183"><p id="-ebafsa_185">大部分对象朝生夕死</p></li><li class="list__item" id="-ebafsa_184"><p id="-ebafsa_186">熬过多次GC的对象难以死去</p></li></ul></li><li class="list__item" id="-ebafsa_178"><p id="-ebafsa_187"><span class="control" id="-ebafsa_189">垃圾回收效率</span></p><ul class="list _bullet" id="-ebafsa_188"><li class="list__item" id="-ebafsa_190"><p id="-ebafsa_192">新生代：频繁GC，速度快</p></li><li class="list__item" id="-ebafsa_191"><p id="-ebafsa_193">老年代：少量GC，影响大</p></li></ul></li><li class="list__item" id="-ebafsa_179"><p id="-ebafsa_194"><span class="control" id="-ebafsa_196">内存分配策略</span></p><ul class="list _bullet" id="-ebafsa_195"><li class="list__item" id="-ebafsa_197"><p id="-ebafsa_200">对象优先在Eden分配</p></li><li class="list__item" id="-ebafsa_198"><p id="-ebafsa_201">大对象直接进入老年代</p></li><li class="list__item" id="-ebafsa_199"><p id="-ebafsa_202">长期存活的对象进入老年代</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="-ebafsa_7" data-toc="-ebafsa_7">🔧 执行引擎</h2><section class="chapter"><h3 id="q7-jvm-jit" data-toc="q7-jvm-jit">Q7: JVM执行引擎包含哪些组件？解释器和JIT编译器的区别是什么？</h3><p id="-ebafsa_205"><span class="control" id="-ebafsa_212">答案：</span></p><p id="-ebafsa_206"><span class="control" id="-ebafsa_213">执行引擎组成：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 635.421875 716"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="635.421875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="700" width="619.421875" y="8" x="8" style=""></rect><g transform="translate(217.7109375, 8)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>执行引擎 (Execution Engine)</p></span></div></foreignObject></g></g><g data-look="classic" id="JIT编译器类型" class="cluster"><rect height="276" width="250.1875" y="284" x="339.734375" style=""></rect><g transform="translate(414.046875, 284)" class="cluster-label"><foreignObject height="24" width="101.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JIT编译器类型</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M225.07,82L237.931,82C250.792,82,276.513,82,295.624,82C314.734,82,327.234,82,336.735,82C346.236,82,352.737,82,358.572,82C364.406,82,369.574,82,372.158,82L374.742,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M193.885,319L211.943,300.833C230.001,282.667,266.118,246.333,290.426,228.167C314.734,210,327.234,210,336.735,210C346.236,210,352.737,210,358.572,210C364.406,210,369.574,210,372.158,210L374.742,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M250.195,634L258.868,634C267.542,634,284.888,634,299.811,634C314.734,634,327.234,634,337.402,634C347.57,634,355.406,634,362.576,634C369.745,634,376.247,634,379.499,634L382.75,634"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_G_3" d="M264.734,358L270.984,358C277.234,358,289.734,358,302.234,358C314.734,358,327.234,358,336.724,358C346.214,358,352.693,358,358.505,358C364.318,358,369.464,358,372.036,358L374.609,358"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_4" d="M199.942,397L216.991,411.833C234.039,426.667,268.137,456.333,291.436,471.167C314.734,486,327.234,486,336.609,486C345.984,486,352.234,486,357.818,486C363.401,486,368.318,486,370.776,486L373.234,486"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(464.828125, 358)" id="flowchart-G-10483" class="node default"><rect height="78" width="172.4375" y="-39" x="-86.21875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.21875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Client Compiler<br>C1编译器</p></span></div></foreignObject></g></g><g transform="translate(155.1171875, 82)" id="flowchart-A-10477" class="node default"><rect height="78" width="139.90625" y="-39" x="-69.953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-39.953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="79.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>解释器<br>Interpreter</p></span></div></foreignObject></g></g><g transform="translate(464.828125, 82)" id="flowchart-B-10478" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>逐行解释执行<br>启动快，执行慢</p></span></div></foreignObject></g></g><g transform="translate(155.1171875, 358)" id="flowchart-C-10479" class="node default"><rect height="78" width="219.234375" y="-39" x="-109.6171875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-79.6171875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="159.234375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>JIT编译器<br>Just-In-Time Compiler</p></span></div></foreignObject></g></g><g transform="translate(464.828125, 210)" id="flowchart-D-10480" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>热点代码编译<br>启动慢，执行快</p></span></div></foreignObject></g></g><g transform="translate(155.1171875, 634)" id="flowchart-E-10481" class="node default"><rect height="78" width="190.15625" y="-39" x="-95.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-65.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="130.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>垃圾收集器<br>Garbage Collector</p></span></div></foreignObject></g></g><g transform="translate(464.828125, 634)" id="flowchart-F-10482" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>自动内存管理<br>回收无用对象</p></span></div></foreignObject></g></g><g transform="translate(464.828125, 486)" id="flowchart-H-10484" class="node default"><rect height="78" width="175.1875" y="-39" x="-87.59375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-57.59375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="115.1875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Server Compiler<br>C2编译器</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_208"><span class="control" id="-ebafsa_214">解释器 vs JIT编译器：</span></p><div class="table-wrapper"><table class="wide" id="-ebafsa_209"><thead><tr class="ijRowHead" id="-ebafsa_215"><th id="-ebafsa_221"><p>特性</p></th><th id="-ebafsa_222"><p>解释器</p></th><th id="-ebafsa_223"><p>JIT编译器</p></th></tr></thead><tbody><tr id="-ebafsa_216"><td id="-ebafsa_224"><p><span class="control" id="-ebafsa_227">执行方式</span></p></td><td id="-ebafsa_225"><p>逐条解释执行字节码</p></td><td id="-ebafsa_226"><p>编译成本地机器码</p></td></tr><tr id="-ebafsa_217"><td id="-ebafsa_228"><p><span class="control" id="-ebafsa_231">启动速度</span></p></td><td id="-ebafsa_229"><p>快</p></td><td id="-ebafsa_230"><p>慢（需要编译时间）</p></td></tr><tr id="-ebafsa_218"><td id="-ebafsa_232"><p><span class="control" id="-ebafsa_235">执行效率</span></p></td><td id="-ebafsa_233"><p>慢</p></td><td id="-ebafsa_234"><p>快（优化后的机器码）</p></td></tr><tr id="-ebafsa_219"><td id="-ebafsa_236"><p><span class="control" id="-ebafsa_239">内存消耗</span></p></td><td id="-ebafsa_237"><p>低</p></td><td id="-ebafsa_238"><p>高（存储编译后代码）</p></td></tr><tr id="-ebafsa_220"><td id="-ebafsa_240"><p><span class="control" id="-ebafsa_243">适用场景</span></p></td><td id="-ebafsa_241"><p>程序启动阶段</p></td><td id="-ebafsa_242"><p>热点代码执行</p></td></tr></tbody></table></div><p id="-ebafsa_210"><span class="control" id="-ebafsa_244">热点代码检测：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 413.0625 748.09375" height="748.09375" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="413.0625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M229.294,62L235.897,66.167C242.501,70.333,255.707,78.667,262.311,84.917C268.914,91.167,268.914,95.333,268.914,98.833C268.914,102.333,268.914,105.167,268.914,106.583L268.914,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M268.914,166L268.914,170.167C268.914,174.333,268.914,182.667,268.956,188.958C268.997,195.25,269.081,199.5,269.151,203.083C269.221,206.667,269.278,209.584,269.307,211.042L269.336,212.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M228.611,363.791L218.591,376.675C208.57,389.559,188.529,415.326,174.538,431.293C160.548,447.26,152.607,453.427,145.193,459.185C137.779,464.943,130.892,470.291,127.448,472.966L124.004,475.64"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E_3" d="M280.781,393.227L281.805,401.205C282.83,409.183,284.88,425.138,285.905,436.199C286.93,447.26,286.93,453.427,286.93,458.927C286.93,464.427,286.93,469.26,286.93,471.677L286.93,474.094"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M286.93,532.094L286.93,536.26C286.93,540.427,286.93,548.76,286.93,555.01C286.93,561.26,286.93,565.427,286.93,568.927C286.93,572.427,286.93,575.26,286.93,576.677L286.93,578.094"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M286.93,636.094L286.93,640.26C286.93,644.427,286.93,652.76,286.93,659.01C286.93,665.26,286.93,669.427,286.93,672.927C286.93,676.427,286.93,679.26,286.93,680.677L286.93,682.094"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_A_6" d="M80.169,478.094L78.819,471.927C77.469,465.76,74.77,453.427,73.42,425.419C72.07,397.411,72.07,353.729,72.07,312.047C72.07,270.365,72.07,230.682,72.07,202.174C72.07,173.667,72.07,156.333,72.07,139C72.07,121.667,72.07,104.333,76.655,93.583C81.24,82.833,90.409,78.667,98.971,74.776C107.534,70.885,115.489,67.27,119.467,65.462L123.445,63.655"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(168.48828125, 441.09375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g transform="translate(286.9296875, 441.09375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(186.50390625, 35)" id="flowchart-A-10600" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>方法调用</p></span></div></foreignObject></g></g><g transform="translate(268.9140625, 139)" id="flowchart-B-10601" class="node default"><rect height="54" width="156.953125" y="-27" x="-78.4765625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.4765625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.953125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>调用计数器+1</p></span></div></foreignObject></g></g><g transform="translate(268.9140625, 310.046875)" id="flowchart-C-10603" class="node default"><polygon transform="translate(-94.046875,94.046875)" class="label-container" points="94.046875,0 188.09375,-94.046875 94.046875,-188.09375 0,-94.046875"></polygon><g transform="translate(-67.046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="134.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>调用次数达到阈值?</p></span></div></foreignObject></g></g><g transform="translate(86.078125, 505.09375)" id="flowchart-D-10605" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>继续解释执行</p></span></div></foreignObject></g></g><g transform="translate(286.9296875, 505.09375)" id="flowchart-E-10607" class="node default"><rect height="54" width="145.546875" y="-27" x="-72.7734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.7734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="85.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>触发JIT编译</p></span></div></foreignObject></g></g><g transform="translate(286.9296875, 609.09375)" id="flowchart-F-10609" class="node default"><rect height="54" width="188.203125" y="-27" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>生成优化的机器码</p></span></div></foreignObject></g></g><g transform="translate(286.9296875, 713.09375)" id="flowchart-G-10611" class="node default"><rect height="54" width="236.265625" y="-27" x="-118.1328125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-88.1328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="176.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>后续调用直接执行机器码</p></span></div></foreignObject></g></g></g></g></g></svg></section><section class="chapter"><h3 id="q8" data-toc="q8">Q8: 什么是即时编译？分层编译是如何工作的？</h3><p id="-ebafsa_245"><span class="control" id="-ebafsa_250">答案：</span></p><p id="-ebafsa_246"><span class="control" id="-ebafsa_251">分层编译策略：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1742.40625 348"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1742.40625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="编译触发条件" class="cluster"><rect height="332" width="462.3125" y="8" x="8" style=""></rect><g transform="translate(191.078125, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>编译触发条件</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_5" d="M201.656,70L207.906,70C214.156,70,226.656,70,236.632,70C246.608,70,254.06,70,260.845,70C267.63,70,273.749,70,276.808,70L279.867,70"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_6" d="M193.641,174L201.227,174C208.813,174,223.984,174,234.695,174C245.406,174,251.656,174,257.24,174C262.823,174,267.74,174,270.198,174L272.656,174"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_7" d="M185.633,278L194.553,278C203.474,278,221.315,278,234.696,278C248.077,278,256.997,278,265.251,278C273.505,278,281.092,278,284.886,278L288.68,278"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(123.578125, 70)" id="flowchart-G-10697" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>方法调用次数</p></span></div></foreignObject></g></g><g transform="translate(354.734375, 70)" id="flowchart-H-10698" class="node default"><rect height="54" width="141.734375" y="-27" x="-70.8671875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.8671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="81.734375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>默认1500次</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 174)" id="flowchart-I-10699" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回边计数器</p></span></div></foreignObject></g></g><g transform="translate(354.734375, 174)" id="flowchart-J-10700" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>循环回跳次数</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 278)" id="flowchart-K-10701" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>热点检测</p></span></div></foreignObject></g></g><g transform="translate(354.734375, 278)" id="flowchart-L-10702" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>综合判断</p></span></div></foreignObject></g></g></g></g><g transform="translate(512.3125, 80)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="172" width="1214.09375" y="8" x="8" style=""></rect><g transform="translate(515.046875, 8)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>分层编译 (Tiered Compilation)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M169.609,94L175.859,94C182.109,94,194.609,94,203.984,94C213.359,94,219.609,94,225.193,94C230.776,94,235.693,94,238.151,94L240.609,94"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M400.766,94L407.016,94C413.266,94,425.766,94,435.141,94C444.516,94,450.766,94,456.349,94C461.932,94,466.849,94,469.307,94L471.766,94"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M587.266,94L593.516,94C599.766,94,612.266,94,621.641,94C631.016,94,637.266,94,642.849,94C648.432,94,653.349,94,655.807,94L658.266,94"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M786.375,94L792.625,94C798.875,94,811.375,94,820.75,94C830.125,94,836.375,94,841.958,94C847.542,94,852.458,94,854.917,94L857.375,94"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M985.484,94L991.734,94C997.984,94,1010.484,94,1019.859,94C1029.234,94,1035.484,94,1041.068,94C1046.651,94,1051.568,94,1054.026,94L1056.484,94"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 94)" id="flowchart-A-10687" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level 0<br>解释执行</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 94)" id="flowchart-B-10688" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>收集性能数据</p></span></div></foreignObject></g></g><g transform="translate(531.515625, 94)" id="flowchart-C-10690" class="node default"><rect height="102" width="111.5" y="-51" x="-55.75" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.75, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="51.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level 1<br>C1编译<br>无优化</p></span></div></foreignObject></g></g><g transform="translate(724.3203125, 94)" id="flowchart-D-10692" class="node default"><rect height="102" width="124.109375" y="-51" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level 2<br>C1编译<br>有限优化</p></span></div></foreignObject></g></g><g transform="translate(923.4296875, 94)" id="flowchart-E-10694" class="node default"><rect height="102" width="124.109375" y="-51" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level 3<br>C1编译<br>完全优化</p></span></div></foreignObject></g></g><g transform="translate(1122.5390625, 94)" id="flowchart-F-10696" class="node default"><rect height="102" width="124.109375" y="-51" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Level 4<br>C2编译<br>激进优化</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_248"><span class="control" id="-ebafsa_252">JIT编译优化技术：</span></p><ol class="list _decimal" id="-ebafsa_249" type="1"><li class="list__item" id="-ebafsa_253"><p id="-ebafsa_257"><span class="control" id="-ebafsa_259">方法内联（Method Inlining）</span></p><div class="code-block" data-lang="java">
// 原代码
public int add(int a, int b) {
    return a + b;
}

public int calculate() {
    return add(1, 2); // 可能被内联为: return 1 + 2;
}
</div></li><li class="list__item" id="-ebafsa_254"><p id="-ebafsa_260"><span class="control" id="-ebafsa_262">逃逸分析（Escape Analysis）</span></p><ul class="list _bullet" id="-ebafsa_261"><li class="list__item" id="-ebafsa_263"><p id="-ebafsa_265">分析对象的作用域</p></li><li class="list__item" id="-ebafsa_264"><p id="-ebafsa_266">栈上分配、锁消除、标量替换</p></li></ul></li><li class="list__item" id="-ebafsa_255"><p id="-ebafsa_267"><span class="control" id="-ebafsa_269">循环优化</span></p><ul class="list _bullet" id="-ebafsa_268"><li class="list__item" id="-ebafsa_270"><p id="-ebafsa_272">循环展开</p></li><li class="list__item" id="-ebafsa_271"><p id="-ebafsa_273">循环不变代码外提</p></li></ul></li><li class="list__item" id="-ebafsa_256"><p id="-ebafsa_274"><span class="control" id="-ebafsa_276">去虚拟化（Devirtualization）</span></p><ul class="list _bullet" id="-ebafsa_275"><li class="list__item" id="-ebafsa_277"><p id="-ebafsa_278">将虚方法调用转为直接调用</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="-ebafsa_8" data-toc="-ebafsa_8">🎯 字节码指令</h2><section class="chapter"><h3 id="q9-java" data-toc="q9-java">Q9: 常见的字节码指令有哪些？如何查看Java字节码？</h3><p id="-ebafsa_281"><span class="control" id="-ebafsa_288">答案：</span></p><p id="-ebafsa_282"><span class="control" id="-ebafsa_289">字节码指令分类：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 495.328125 852"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="495.328125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="字节码指令分类" class="cluster"><rect height="836" width="479.328125" y="8" x="8" style=""></rect><g transform="translate(191.578125, 8)" class="cluster-label"><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>字节码指令分类</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M201.656,82L207.906,82C214.156,82,226.656,82,236.717,82C246.777,82,254.398,82,261.353,82C268.307,82,274.595,82,277.739,82L280.883,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_1" d="M191.773,210L199.671,210C207.568,210,223.362,210,236.165,210C248.967,210,258.779,210,267.923,210C277.068,210,285.546,210,289.785,210L294.023,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M201.656,338L207.906,338C214.156,338,226.656,338,238.589,338C250.522,338,261.888,338,272.587,338C283.286,338,293.319,338,298.335,338L303.352,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M201.656,466L207.906,466C214.156,466,226.656,466,236.031,466C245.406,466,251.656,466,257.24,466C262.823,466,267.74,466,270.198,466L272.656,466"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_4" d="M201.656,618L207.906,618C214.156,618,226.656,618,236.061,618C245.466,618,251.776,618,257.419,618C263.063,618,268.039,618,270.527,618L273.016,618"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_5" d="M201.656,770L207.906,770C214.156,770,226.656,770,237.1,770C247.543,770,255.93,770,263.65,770C271.37,770,278.423,770,281.95,770L285.477,770"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(123.578125, 82)" id="flowchart-A-10778" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>加载存储指令<br>Load/Store</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 82)" id="flowchart-B-10779" class="node default"><rect height="78" width="156.71875" y="-39" x="-78.359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.359375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.71875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>aload, iload<br>astore, istore</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 210)" id="flowchart-C-10780" class="node default"><rect height="78" width="136.390625" y="-39" x="-68.1953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-38.1953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="76.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>算术指令<br>Arithmetic</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 210)" id="flowchart-D-10781" class="node default"><rect height="78" width="130.4375" y="-39" x="-65.21875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-35.21875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="70.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>iadd, isub<br>imul, idiv</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 338)" id="flowchart-E-10782" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>类型转换指令<br>Conversion</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 338)" id="flowchart-F-10783" class="node default"><rect height="78" width="111.78125" y="-39" x="-55.890625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.890625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="51.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>i2l, f2d<br>d2i, l2f</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 466)" id="flowchart-G-10784" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>对象操作指令<br>Object</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 466)" id="flowchart-H-10785" class="node default"><rect height="78" width="173.171875" y="-39" x="-86.5859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.5859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="113.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>new, instanceof<br>checkcast</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 618)" id="flowchart-I-10786" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>方法调用指令<br>Method Call</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 618)" id="flowchart-J-10787" class="node default"><rect height="126" width="172.453125" y="-63" x="-86.2265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.2265625, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="112.453125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>invokevirtual<br>invokespecial<br>invokestatic<br>invokeinterface</p></span></div></foreignObject></g></g><g transform="translate(123.578125, 770)" id="flowchart-K-10788" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>控制转移指令<br>Control</p></span></div></foreignObject></g></g><g transform="translate(363.2421875, 770)" id="flowchart-L-10789" class="node default"><rect height="78" width="147.53125" y="-39" x="-73.765625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-43.765625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="87.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ifeq, ifne<br>goto, return</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-ebafsa_284"><span class="control" id="-ebafsa_290">查看字节码的方法：</span></p><div class="code-block" data-lang="bash">
# 1. 使用javap命令
javap -c ClassName.class

# 2. 详细信息
javap -verbose ClassName.class

# 3. 查看行号和局部变量表
javap -l ClassName.class
</div><p id="-ebafsa_286"><span class="control" id="-ebafsa_291">字节码示例分析：</span></p><div class="code-block" data-lang="java">
// Java源代码
public int add(int a, int b) {
    int result = a + b;
    return result;
}

// 对应字节码
public int add(int, int);
    Code:
       0: iload_1        // 加载参数a
       1: iload_2        // 加载参数b  
       2: iadd           // 执行加法
       3: istore_3       // 存储到局部变量result
       4: iload_3        // 加载result
       5: ireturn        // 返回
</div></section><section class="chapter"><h3 id="q10-jvm" data-toc="q10-jvm">Q10: JVM是如何处理异常的？异常表的结构是怎样的？</h3><p id="-ebafsa_292"><span class="control" id="-ebafsa_299">答案：</span></p><p id="-ebafsa_293"><span class="control" id="-ebafsa_300">异常处理机制：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 500.40625 1331.265625" height="1331.265625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="500.40625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M297.766,62L297.766,66.167C297.766,70.333,297.766,78.667,297.766,84.917C297.766,91.167,297.766,95.333,297.766,98.833C297.766,102.333,297.766,105.167,297.766,106.583L297.766,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M297.766,166L297.766,170.167C297.766,174.333,297.766,182.667,297.807,188.958C297.849,195.25,297.932,199.5,298.003,203.083C298.073,206.667,298.13,209.584,298.159,211.042L298.187,212.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M234.615,372.99L211.529,389.682C188.444,406.373,142.273,439.757,119.187,467.115C96.102,494.474,96.102,515.807,96.102,535.141C96.102,554.474,96.102,571.807,96.102,589.141C96.102,606.474,96.102,623.807,96.102,641.141C96.102,658.474,96.102,675.807,96.102,700.31C96.102,724.813,96.102,756.484,96.102,790.156C96.102,823.828,96.102,859.5,96.776,880.419C97.451,901.339,98.801,907.505,100.008,913.021C101.215,918.536,102.28,923.4,102.812,925.832L103.345,928.264"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E_3" d="M342.032,392.875L350.834,406.252C359.636,419.63,377.24,446.385,386.042,462.846C394.844,479.307,394.844,485.474,394.844,490.974C394.844,496.474,394.844,501.307,394.844,503.724L394.844,506.141"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M357.167,564.141L351.353,568.307C345.538,572.474,333.91,580.807,328.096,587.057C322.281,593.307,322.281,597.474,322.281,600.974C322.281,604.474,322.281,607.307,322.281,608.724L322.281,610.141"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M322.281,668.141L322.281,672.307C322.281,676.474,322.281,684.807,322.323,691.099C322.365,697.391,322.448,701.641,322.518,705.224C322.588,708.808,322.646,711.724,322.674,713.183L322.703,714.641"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_D_6" d="M286.5,822.391L273.281,834.521C260.063,846.651,233.625,870.912,215.729,886.125C197.834,901.339,188.48,907.505,179.682,913.305C170.885,919.105,162.644,924.537,158.524,927.254L154.404,929.97"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_7" d="M332.87,848.583L334.108,856.348C335.345,864.113,337.821,879.642,339.059,890.49C340.297,901.339,340.297,907.505,340.297,913.005C340.297,918.505,340.297,923.339,340.297,925.755L340.297,928.172"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_8" d="M340.297,986.172L340.297,990.339C340.297,994.505,340.297,1002.839,343.67,1011.846C347.042,1020.854,353.787,1030.535,360.152,1039.67C366.516,1048.805,372.499,1057.393,375.491,1061.687L378.482,1065.981"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_E_9" d="M441.279,1064.592L445.966,1055.688C450.652,1046.785,460.025,1028.979,464.712,1011.409C469.398,993.839,469.398,976.505,469.398,957.172C469.398,937.839,469.398,916.505,469.398,888.003C469.398,859.5,469.398,823.828,469.398,790.156C469.398,756.484,469.398,724.813,469.398,700.31C469.398,675.807,469.398,658.474,469.398,641.141C469.398,623.807,469.398,606.474,466.411,595.724C463.425,584.974,457.451,580.807,452.023,577.022C446.596,573.237,441.716,569.833,439.276,568.131L436.836,566.429"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_10" d="M413.359,1195.766L413.276,1201.849C413.193,1207.932,413.026,1220.099,412.943,1229.266C412.859,1238.432,412.859,1244.599,412.859,1250.099C412.859,1255.599,412.859,1260.432,412.859,1262.849L412.859,1265.266"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_K_11" d="M110.109,986.172L110.109,990.339C110.109,994.505,110.109,1002.839,110.109,1013.467C110.109,1024.096,110.109,1037.021,110.109,1049.279C110.109,1061.536,110.109,1073.128,110.109,1078.923L110.109,1084.719"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_12" d="M110.109,1142.719L110.109,1157.643C110.109,1172.568,110.109,1202.417,110.109,1220.424C110.109,1238.432,110.109,1244.599,110.109,1250.099C110.109,1255.599,110.109,1260.432,110.109,1262.849L110.109,1265.266"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(96.1015625, 641.140625)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(394.84375, 473.140625)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(207.1875, 895.171875)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(340.296875, 895.171875)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(469.3984375, 788.15625)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g transform="translate(412.859375, 1232.265625)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(297.765625, 35)" id="flowchart-A-10858" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>异常发生</p></span></div></foreignObject></g></g><g transform="translate(297.765625, 139)" id="flowchart-B-10859" class="node default"><rect height="54" width="204.21875" y="-27" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>查找当前方法异常表</p></span></div></foreignObject></g></g><g transform="translate(297.765625, 326.0703125)" id="flowchart-C-10861" class="node default"><polygon transform="translate(-110.0703125,110.0703125)" class="label-container" points="110.0703125,0 220.140625,-110.0703125 110.0703125,-220.140625 0,-110.0703125"></polygon><g transform="translate(-83.0703125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="166.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>找到匹配的异常处理器?</p></span></div></foreignObject></g></g><g transform="translate(110.109375, 959.171875)" id="flowchart-D-10863" class="node default"><rect height="54" width="204.21875" y="-27" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>跳转到异常处理代码</p></span></div></foreignObject></g></g><g transform="translate(394.84375, 537.140625)" id="flowchart-E-10865" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>弹出当前栈帧</p></span></div></foreignObject></g></g><g transform="translate(322.28125, 641.140625)" id="flowchart-F-10867" class="node default"><rect height="54" width="220.25" y="-27" x="-110.125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-80.125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="160.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>在调用者中查找异常表</p></span></div></foreignObject></g></g><g transform="translate(322.28125, 788.15625)" id="flowchart-G-10869" class="node default"><polygon transform="translate(-70.015625,70.015625)" class="label-container" points="70.015625,0 140.03125,-70.015625 70.015625,-140.03125 0,-70.015625"></polygon><g transform="translate(-43.015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="86.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>找到处理器?</p></span></div></foreignObject></g></g><g transform="translate(340.296875, 959.171875)" id="flowchart-H-10873" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>继续向上传播</p></span></div></foreignObject></g></g><g transform="translate(412.859375, 1115.71875)" id="flowchart-I-10875" class="node default"><polygon transform="translate(-79.546875,79.546875)" class="label-container" points="79.546875,0 159.09375,-79.546875 79.546875,-159.09375 0,-79.546875"></polygon><g transform="translate(-52.546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="105.09375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>到达main方法?</p></span></div></foreignObject></g></g><g transform="translate(412.859375, 1296.265625)" id="flowchart-J-10879" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>程序异常终止</p></span></div></foreignObject></g></g><g transform="translate(110.109375, 1115.71875)" id="flowchart-K-10881" class="node default"><rect height="54" width="188.203125" y="-27" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>执行异常处理逻辑</p></span></div></foreignObject></g></g><g transform="translate(110.109375, 1296.265625)" id="flowchart-L-10883" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>继续正常执行</p></span></div></foreignObject></g></g></g></g></g></svg><p id="-ebafsa_295"><span class="control" id="-ebafsa_301">异常表结构：</span></p><div class="code-block" data-lang="java">
// Java代码
public void testException() {
    try {
        int result = 10 / 0;
    } catch (ArithmeticException e) {
        System.out.println(&quot;算术异常&quot;);
    } catch (Exception e) {
        System.out.println(&quot;其他异常&quot;);
    } finally {
        System.out.println(&quot;finally块&quot;);
    }
}

// 异常表
Exception table:
   from    to  target type
     0     8    11   Class java/lang/ArithmeticException
     0     8    21   Class java/lang/Exception
     0     8    35   any      // finally对应的异常处理
    11    21    35   any      // catch块中的finally
    21    35    35   any      // 嵌套的finally
</div><p id="-ebafsa_297"><span class="control" id="-ebafsa_302">异常表字段说明：</span></p><div class="table-wrapper"><table class="wide" id="-ebafsa_298"><thead><tr class="ijRowHead" id="-ebafsa_303"><th id="-ebafsa_307"><p>字段</p></th><th id="-ebafsa_308"><p>说明</p></th></tr></thead><tbody><tr id="-ebafsa_304"><td id="-ebafsa_309"><p><span class="control" id="-ebafsa_311">from/to</span></p></td><td id="-ebafsa_310"><p>异常监控范围的起始和结束位置</p></td></tr><tr id="-ebafsa_305"><td id="-ebafsa_312"><p><span class="control" id="-ebafsa_314">target</span></p></td><td id="-ebafsa_313"><p>异常处理代码的起始位置</p></td></tr><tr id="-ebafsa_306"><td id="-ebafsa_315"><p><span class="control" id="-ebafsa_317">type</span></p></td><td id="-ebafsa_316"><p>异常类型，any表示任意异常</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="-ebafsa_9" data-toc="-ebafsa_9">💡 面试技巧</h2><section class="chapter"><h3 id="-ebafsa_318" data-toc="-ebafsa_318">高频考点</h3><ol class="list _decimal" id="-ebafsa_320" type="1"><li class="list__item" id="-ebafsa_321"><p id="-ebafsa_326"><span class="control" id="-ebafsa_327">JVM内存区域划分</span> ：必须能够清楚描述各个区域的作用</p></li><li class="list__item" id="-ebafsa_322"><p id="-ebafsa_328"><span class="control" id="-ebafsa_329">栈帧结构</span> ：理解方法调用时栈帧的组成</p></li><li class="list__item" id="-ebafsa_323"><p id="-ebafsa_330"><span class="control" id="-ebafsa_331">堆内存分代</span> ：新生代和老年代的划分原理</p></li><li class="list__item" id="-ebafsa_324"><p id="-ebafsa_332"><span class="control" id="-ebafsa_333">执行引擎工作原理</span> ：解释器和JIT编译器的配合</p></li><li class="list__item" id="-ebafsa_325"><p id="-ebafsa_334"><span class="control" id="-ebafsa_335">字节码执行过程</span> ：从源码到字节码到机器码的转换</p></li></ol></section><section class="chapter"><h3 id="-ebafsa_319" data-toc="-ebafsa_319">回答策略</h3><ol class="list _decimal" id="-ebafsa_336" type="1"><li class="list__item" id="-ebafsa_339"><p id="-ebafsa_343"><span class="control" id="-ebafsa_344">画图说明</span> ：用图表清楚展示JVM内部结构</p></li><li class="list__item" id="-ebafsa_340"><p id="-ebafsa_345"><span class="control" id="-ebafsa_346">结合实例</span> ：通过具体代码说明概念</p></li><li class="list__item" id="-ebafsa_341"><p id="-ebafsa_347"><span class="control" id="-ebafsa_348">对比分析</span> ：比较不同区域和机制的特点</p></li><li class="list__item" id="-ebafsa_342"><p id="-ebafsa_349"><span class="control" id="-ebafsa_350">实践经验</span> ：结合实际项目中遇到的问题</p></li></ol><p id="-ebafsa_338"><span class="control" id="-ebafsa_351">学习建议</span> ：JVM基础概念是深入理解JVM的基础，建议通过实际编写代码、查看字节码、使用JVM工具来加深理解，特别要重视内存模型和执行原理。</p></section></section><div class="last-modified">09 六月 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="jvm面试大纲.html" class="navigation-links__prev">JVM面试大纲</a><a href="jvm内存管理qa.html" class="navigation-links__next">JVM内存管理QA</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>