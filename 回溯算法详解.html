<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-10T01:18:25.7397848"><title>回溯算法详解 | 技术知识库</title><script type="application/json" id="virtual-toc-data">[{"id":"-dkp95u_3","level":0,"title":"🎯 核心思想","anchor":"#-dkp95u_3"},{"id":"-dkp95u_4","level":0,"title":"🧠 算法思维模式","anchor":"#-dkp95u_4"},{"id":"-dkp95u_5","level":0,"title":"📊 经典题目分析","anchor":"#-dkp95u_5"},{"id":"-dkp95u_6","level":0,"title":"🔧 回溯算法设计技巧","anchor":"#-dkp95u_6"},{"id":"-dkp95u_7","level":0,"title":"📈 复杂度分析","anchor":"#-dkp95u_7"},{"id":"-dkp95u_8","level":0,"title":"✅ 适用场景识别","anchor":"#-dkp95u_8"},{"id":"-dkp95u_9","level":0,"title":"💡 解题模板","anchor":"#-dkp95u_9"},{"id":"-dkp95u_10","level":0,"title":"🎯 练习建议","anchor":"#-dkp95u_10"},{"id":"-dkp95u_11","level":0,"title":"🔄 回溯优化技巧","anchor":"#-dkp95u_11"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="回溯算法详解 | 技术知识库"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="技术知识库 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/回溯算法详解.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="回溯算法详解 | 技术知识库"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/回溯算法详解.html#webpage",
    "url": "writerside-documentation/回溯算法详解.html",
    "name": "回溯算法详解 | 技术知识库",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "技术知识库 Help"
}</script><!-- End Schema.org --></head><body data-id="回溯算法详解" data-main-title="回溯算法详解" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="算法解题方法总览.md|算法解题方法总览"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>技术知识库  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="回溯算法详解" id="回溯算法详解.md">回溯算法详解</h1><section class="chapter"><h2 id="-dkp95u_3" data-toc="-dkp95u_3">🎯 核心思想</h2><p id="-dkp95u_12">回溯算法(Backtracking)是一种通过探索所有可能的候选解来找出所有解的算法。当探索过程中发现当前候选解不可能完成正确的解时，就会撤销上一步甚至是上几步的计算，再通过其他可能的分支重新寻找答案。</p><section class="chapter"><h3 id="-dkp95u_13" data-toc="-dkp95u_13">基本原理</h3><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 410.3125 1344.0625" height="1344.0625" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="410.3125" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M136.598,62L136.598,66.167C136.598,70.333,136.598,78.667,136.598,84.917C136.598,91.167,136.598,95.333,136.598,98.833C136.598,102.333,136.598,105.167,136.598,106.583L136.598,108"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M165.94,166L170.468,170.167C174.997,174.333,184.053,182.667,188.581,188.917C193.109,195.167,193.109,199.333,193.109,202.833C193.109,206.333,193.109,209.167,193.109,210.583L193.109,212"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M193.109,270L193.109,274.167C193.109,278.333,193.109,286.667,193.151,292.958C193.193,299.25,193.276,303.5,193.346,307.083C193.417,310.667,193.474,313.584,193.502,315.042L193.531,316.501"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M184.686,419.561L183.087,427.132C181.489,434.702,178.291,449.843,176.692,460.497C175.094,471.151,175.094,477.318,175.094,482.818C175.094,488.318,175.094,493.151,175.094,495.568L175.094,497.984"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_F_4" d="M220.004,402.09L230.025,412.573C240.047,423.055,260.09,444.02,270.111,465.169C280.133,486.318,280.133,507.651,280.133,528.984C280.133,550.318,280.133,571.651,280.133,592.984C280.133,614.318,280.133,635.651,280.133,654.984C280.133,674.318,280.133,691.651,275.9,705.42C271.667,719.189,263.201,729.393,255.16,739.085C247.12,748.776,239.505,757.955,235.698,762.544L231.891,767.133"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M165.014,861.936L158.606,872.785C152.198,883.635,139.382,905.333,130.252,919.265C121.121,933.198,115.676,939.365,110.672,945.032C105.668,950.698,101.106,955.866,98.824,958.449L96.543,961.033"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_6" d="M235.173,848.968L250.017,861.978C264.86,874.989,294.547,901.01,309.391,917.104C324.234,933.198,324.234,939.365,324.234,944.865C324.234,950.365,324.234,955.198,324.234,957.615L324.234,960.031"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_B_7" d="M70.055,964.031L70.055,957.865C70.055,951.698,70.055,939.365,70.055,914.027C70.055,888.69,70.055,850.349,70.055,814.008C70.055,777.667,70.055,743.326,70.055,717.488C70.055,691.651,70.055,674.318,70.055,654.984C70.055,635.651,70.055,614.318,70.055,592.984C70.055,571.651,70.055,550.318,70.055,528.984C70.055,507.651,70.055,486.318,70.055,460.486C70.055,434.654,70.055,404.323,70.055,375.992C70.055,347.661,70.055,321.331,70.055,299.499C70.055,277.667,70.055,260.333,70.055,243C70.055,225.667,70.055,208.333,72.721,197.583C75.387,186.833,80.719,182.667,85.525,178.91C90.332,175.154,94.613,171.809,96.754,170.136L98.895,168.463"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_8" d="M175.094,555.984L175.094,562.151C175.094,568.318,175.094,580.651,175.094,589.901C175.094,599.151,175.094,605.318,175.094,610.818C175.094,616.318,175.094,621.151,175.094,623.568L175.094,625.984"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_F_9" d="M175.094,683.984L175.094,688.151C175.094,692.318,175.094,700.651,175.669,707.91C176.244,715.17,177.395,721.355,178.423,726.886C179.452,732.416,180.358,737.29,180.812,739.728L181.265,742.165"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_J_10" d="M324.234,1018.031L324.234,1022.198C324.234,1026.365,324.234,1034.698,321.739,1043.167C319.244,1051.636,314.254,1060.241,309.598,1068.269C304.942,1076.297,300.621,1083.749,298.461,1087.474L296.3,1091.2"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_F_11" d="M239.847,1096.848L233.729,1087.879C227.612,1078.909,215.376,1060.97,209.258,1043.334C203.141,1025.698,203.141,1008.365,203.141,989.031C203.141,969.698,203.141,948.365,202.868,934.135C202.595,919.905,202.05,912.778,201.555,906.317C201.061,899.855,200.617,894.058,200.395,891.159L200.173,888.261"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_12" d="M268.164,1208.563L268.081,1214.646C267.997,1220.729,267.831,1232.896,267.747,1242.063C267.664,1251.229,267.664,1257.396,267.664,1262.896C267.664,1268.396,267.664,1273.229,267.664,1275.646L267.664,1278.063"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(175.09375, 464.984375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(280.1328125, 592.984375)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g transform="translate(126.56640625, 927.03125)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g><g transform="translate(324.234375, 927.03125)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(203.140625, 991.03125)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>否</p></span></div></foreignObject></g></g><g transform="translate(267.6640625, 1245.0625)" class="edgeLabel"><g transform="translate(-8.015625, -12)" class="label"><foreignObject height="24" width="16.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>是</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(136.59765625, 35)" id="flowchart-A-9167" class="node default"><rect height="54" width="92.0625" y="-27" x="-46.03125" data-et="node" data-id="abc" style="fill:#e1f5fe !important" class="basic label-container"></rect><g transform="translate(-16.03125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="32.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>开始</p></span></div></foreignObject></g></g><g transform="translate(136.59765625, 139)" id="flowchart-B-9168" class="node default"><rect height="54" width="108.078125" y="-27" x="-54.0390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-24.0390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="48.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>做选择</p></span></div></foreignObject></g></g><g transform="translate(193.109375, 243)" id="flowchart-C-9170" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>递归搜索</p></span></div></foreignObject></g></g><g transform="translate(193.109375, 373.9921875)" id="flowchart-D-9172" class="node default"><polygon transform="translate(-53.9921875,53.9921875)" class="label-container" points="53.9921875,0 107.984375,-53.9921875 53.9921875,-107.984375 0,-53.9921875"></polygon><g transform="translate(-26.9921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="53.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>找到解?</p></span></div></foreignObject></g></g><g transform="translate(175.09375, 528.984375)" id="flowchart-E-9174" class="node default"><rect height="54" width="108.078125" y="-27" x="-54.0390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-24.0390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="48.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>记录解</p></span></div></foreignObject></g></g><g transform="translate(193.109375, 812.0078125)" id="flowchart-F-9176" class="node default"><polygon transform="translate(-78.0234375,78.0234375)" class="label-container" points="78.0234375,0 156.046875,-78.0234375 78.0234375,-156.046875 0,-78.0234375"></polygon><g transform="translate(-51.0234375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="102.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>还有其他选择?</p></span></div></foreignObject></g></g><g transform="translate(70.0546875, 991.03125)" id="flowchart-G-9178" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>撤销选择</p></span></div></foreignObject></g></g><g transform="translate(324.234375, 991.03125)" id="flowchart-H-9180" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回溯到上一层</p></span></div></foreignObject></g></g><g transform="translate(175.09375, 656.984375)" id="flowchart-I-9184" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>撤销选择</p></span></div></foreignObject></g></g><g transform="translate(267.6640625, 1138.046875)" id="flowchart-J-9188" class="node default"><polygon transform="translate(-70.015625,70.015625)" class="label-container" points="70.015625,0 140.03125,-70.015625 70.015625,-140.03125 0,-70.015625"></polygon><g transform="translate(-43.015625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="86.03125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回到根节点?</p></span></div></foreignObject></g></g><g transform="translate(267.6640625, 1309.0625)" id="flowchart-K-9192" class="node default"><rect height="54" width="92.0625" y="-27" x="-46.03125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-16.03125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="32.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>结束</p></span></div></foreignObject></g></g></g></g></g></svg><p id="-dkp95u_15"><span class="control" id="-dkp95u_17">核心特征：</span></p><ul class="list _bullet" id="-dkp95u_16"><li class="list__item" id="-dkp95u_18"><p id="-dkp95u_22">🔹 <span class="control" id="-dkp95u_23">试探性搜索</span> ：逐步构建候选解</p></li><li class="list__item" id="-dkp95u_19"><p id="-dkp95u_24">🔹 <span class="control" id="-dkp95u_25">回溯机制</span> ：遇到死路时撤销之前的选择</p></li><li class="list__item" id="-dkp95u_20"><p id="-dkp95u_26">🔹 <span class="control" id="-dkp95u_27">状态恢复</span> ：确保搜索过程的独立性</p></li><li class="list__item" id="-dkp95u_21"><p id="-dkp95u_28">🔹 <span class="control" id="-dkp95u_29">剪枝优化</span> ：提前排除不可能的分支</p></li></ul></section></section><section class="chapter"><h2 id="-dkp95u_4" data-toc="-dkp95u_4">🧠 算法思维模式</h2><section class="chapter"><h3 id="-dkp95u_30" data-toc="-dkp95u_30">回溯算法框架</h3><section class="chapter"><h4 id="-dkp95u_32" data-toc="-dkp95u_32">核心框架结构</h4><div class="code-block" data-lang="none">
def backtrack(路径, 选择列表):
    if 满足结束条件:
        result.add(路径)
        return
    
    for 选择 in 选择列表:
        if 选择不符合条件:  # 剪枝
            continue
            
        # 做选择
        路径.add(选择)
        
        # 递归
        backtrack(路径, 新的选择列表)
        
        # 撤销选择
        路径.remove(选择)
</div></section></section><section class="chapter"><h3 id="-dkp95u_31" data-toc="-dkp95u_31">回溯问题分类</h3><section class="chapter"><h4 id="1" data-toc="1">1. 组合问题</h4><p id="-dkp95u_38"><span class="control" id="-dkp95u_40">特征：</span> 从n个元素中选出k个元素的组合</p><ul class="list _bullet" id="-dkp95u_39"><li class="list__item" id="-dkp95u_41"><p id="-dkp95u_44">不考虑顺序</p></li><li class="list__item" id="-dkp95u_42"><p id="-dkp95u_45">每个元素最多使用一次（通常）</p></li><li class="list__item" id="-dkp95u_43"><p id="-dkp95u_46">求所有可能的组合</p></li></ul></section><section class="chapter"><h4 id="2" data-toc="2">2. 排列问题</h4><p id="-dkp95u_47"><span class="control" id="-dkp95u_49">特征：</span> 元素的所有排列方式</p><ul class="list _bullet" id="-dkp95u_48"><li class="list__item" id="-dkp95u_50"><p id="-dkp95u_53">考虑顺序</p></li><li class="list__item" id="-dkp95u_51"><p id="-dkp95u_54">每个元素最多使用一次</p></li><li class="list__item" id="-dkp95u_52"><p id="-dkp95u_55">求所有可能的排列</p></li></ul></section><section class="chapter"><h4 id="3" data-toc="3">3. 子集问题</h4><p id="-dkp95u_56"><span class="control" id="-dkp95u_58">特征：</span> 求集合的所有子集</p><ul class="list _bullet" id="-dkp95u_57"><li class="list__item" id="-dkp95u_59"><p id="-dkp95u_62">包括空集</p></li><li class="list__item" id="-dkp95u_60"><p id="-dkp95u_63">不考虑顺序</p></li><li class="list__item" id="-dkp95u_61"><p id="-dkp95u_64">每个元素选或不选</p></li></ul></section><section class="chapter"><h4 id="4" data-toc="4">4. 约束满足问题</h4><p id="-dkp95u_65"><span class="control" id="-dkp95u_67">特征：</span> 在约束条件下寻找解</p><ul class="list _bullet" id="-dkp95u_66"><li class="list__item" id="-dkp95u_68"><p id="-dkp95u_71">N皇后问题</p></li><li class="list__item" id="-dkp95u_69"><p id="-dkp95u_72">数独问题</p></li><li class="list__item" id="-dkp95u_70"><p id="-dkp95u_73">图着色问题</p></li></ul></section></section></section><section class="chapter"><h2 id="-dkp95u_5" data-toc="-dkp95u_5">📊 经典题目分析</h2><section class="chapter"><h3 id="1" data-toc="1">题目1：全排列</h3><p id="-dkp95u_78"><span class="control" id="-dkp95u_81">问题描述：</span> 给定一个不含重复数字的数组nums，返回其所有可能的全排列。</p><p id="-dkp95u_79"><span class="control" id="-dkp95u_82">回溯策略：</span> 选择-递归-撤销的标准模式</p><section class="chapter"><h4 id="-dkp95u_80" data-toc="-dkp95u_80">图解演示</h4><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1402.09375 790"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1402.09375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="回溯过程示例" class="cluster"><rect height="774" width="261.875" y="8" x="8" style=""></rect><g transform="translate(90.859375, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回溯过程示例</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_Q_R_15" d="M138.938,99.5L138.938,105.75C138.938,112,138.938,124.5,138.938,133.875C138.938,143.25,138.938,149.5,138.938,155.083C138.938,160.667,138.938,165.583,138.938,168.042L138.938,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_R_S_16" d="M138.938,228.5L138.938,234.75C138.938,241,138.938,253.5,138.938,262.875C138.938,272.25,138.938,278.5,138.938,284.083C138.938,289.667,138.938,294.583,138.938,297.042L138.938,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_S_T_17" d="M138.938,357.5L138.938,363.75C138.938,370,138.938,382.5,138.938,391.875C138.938,401.25,138.938,407.5,138.938,413.083C138.938,418.667,138.938,423.583,138.938,426.042L138.938,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_T_U_18" d="M138.938,486.5L138.938,492.75C138.938,499,138.938,511.5,138.938,520.875C138.938,530.25,138.938,536.5,138.938,542.083C138.938,547.667,138.938,552.583,138.938,555.042L138.938,557.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_U_V_19" d="M138.938,615.5L138.938,621.75C138.938,628,138.938,640.5,138.938,649.875C138.938,659.25,138.938,665.5,138.938,671.083C138.938,676.667,138.938,681.583,138.938,684.042L138.938,686.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(138.9375, 72.5)" id="flowchart-Q-9282" class="node default"><rect height="54" width="146.390625" y="-27" x="-73.1953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-43.1953125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="86.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择1 → [1]</p></span></div></foreignObject></g></g><g transform="translate(138.9375, 201.5)" id="flowchart-R-9283" class="node default"><rect height="54" width="160.703125" y="-27" x="-80.3515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-50.3515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="100.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择2 → [1,2]</p></span></div></foreignObject></g></g><g transform="translate(138.9375, 330.5)" id="flowchart-S-9284" class="node default"><rect height="54" width="191.875" y="-27" x="-95.9375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-65.9375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="131.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择3 → [1,2,3] ✓</p></span></div></foreignObject></g></g><g transform="translate(138.9375, 459.5)" id="flowchart-T-9285" class="node default"><rect height="54" width="160.703125" y="-27" x="-80.3515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-50.3515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="100.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>撤销3 → [1,2]</p></span></div></foreignObject></g></g><g transform="translate(138.9375, 588.5)" id="flowchart-U-9286" class="node default"><rect height="54" width="146.390625" y="-27" x="-73.1953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-43.1953125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="86.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>撤销2 → [1]</p></span></div></foreignObject></g></g><g transform="translate(138.9375, 717.5)" id="flowchart-V-9287" class="node default"><rect height="54" width="160.703125" y="-27" x="-80.3515625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-50.3515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="100.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>选择3 → [1,3]</p></span></div></foreignObject></g></g></g></g><g transform="translate(311.875, 129)" class="root"><g class="clusters"><g data-look="classic" id="数组[1,2,3]的全排列搜索树" class="cluster"><rect height="516" width="1074.21875" y="8" x="8" style=""></rect><g transform="translate(448.578125, 8)" class="cluster-label"><foreignObject height="24" width="193.0625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>数组[1,2,3]的全排列搜索树</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M509.203,79.091L456.62,88.742C404.036,98.394,298.87,117.697,246.286,130.473C193.703,143.25,193.703,149.5,193.703,155.083C193.703,160.667,193.703,165.583,193.703,168.042L193.703,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M545.109,99.5L545.109,105.75C545.109,112,545.109,124.5,545.109,133.875C545.109,143.25,545.109,149.5,545.109,155.083C545.109,160.667,545.109,165.583,545.109,168.042L545.109,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M581.016,79.091L633.599,88.742C686.182,98.394,791.349,117.697,843.932,130.473C896.516,143.25,896.516,149.5,896.516,155.083C896.516,160.667,896.516,165.583,896.516,168.042L896.516,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M156.928,228.5L148.415,234.75C139.903,241,122.877,253.5,114.364,262.875C105.852,272.25,105.852,278.5,105.852,284.083C105.852,289.667,105.852,294.583,105.852,297.042L105.852,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M230.478,228.5L238.991,234.75C247.504,241,264.529,253.5,273.042,262.875C281.555,272.25,281.555,278.5,281.555,284.083C281.555,289.667,281.555,294.583,281.555,297.042L281.555,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_G_5" d="M508.334,228.5L499.822,234.75C491.309,241,474.283,253.5,465.771,262.875C457.258,272.25,457.258,278.5,457.258,284.083C457.258,289.667,457.258,294.583,457.258,297.042L457.258,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_6" d="M581.884,228.5L590.397,234.75C598.91,241,615.935,253.5,624.448,262.875C632.961,272.25,632.961,278.5,632.961,284.083C632.961,289.667,632.961,294.583,632.961,297.042L632.961,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_I_7" d="M859.741,228.5L851.228,234.75C842.715,241,825.69,253.5,817.177,262.875C808.664,272.25,808.664,278.5,808.664,284.083C808.664,289.667,808.664,294.583,808.664,297.042L808.664,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_J_8" d="M933.291,228.5L941.803,234.75C950.316,241,967.342,253.5,975.854,262.875C984.367,272.25,984.367,278.5,984.367,284.083C984.367,289.667,984.367,294.583,984.367,297.042L984.367,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_K_9" d="M105.852,357.5L105.852,363.75C105.852,370,105.852,382.5,105.852,391.875C105.852,401.25,105.852,407.5,105.852,413.083C105.852,418.667,105.852,423.583,105.852,426.042L105.852,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_L_10" d="M281.555,357.5L281.555,363.75C281.555,370,281.555,382.5,281.555,391.875C281.555,401.25,281.555,407.5,281.555,413.083C281.555,418.667,281.555,423.583,281.555,426.042L281.555,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_M_11" d="M457.258,357.5L457.258,363.75C457.258,370,457.258,382.5,457.258,391.875C457.258,401.25,457.258,407.5,457.258,413.083C457.258,418.667,457.258,423.583,457.258,426.042L457.258,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_N_12" d="M632.961,357.5L632.961,363.75C632.961,370,632.961,382.5,632.961,391.875C632.961,401.25,632.961,407.5,632.961,413.083C632.961,418.667,632.961,423.583,632.961,426.042L632.961,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_O_13" d="M808.664,357.5L808.664,363.75C808.664,370,808.664,382.5,808.664,391.875C808.664,401.25,808.664,407.5,808.664,413.083C808.664,418.667,808.664,423.583,808.664,426.042L808.664,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_P_14" d="M984.367,357.5L984.367,363.75C984.367,370,984.367,382.5,984.367,391.875C984.367,401.25,984.367,407.5,984.367,413.083C984.367,418.667,984.367,423.583,984.367,426.042L984.367,428.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(545.109375, 72.5)" id="flowchart-A-9252" class="node default"><rect height="54" width="71.8125" y="-27" x="-35.90625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-5.90625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="11.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[]</p></span></div></foreignObject></g></g><g transform="translate(193.703125, 201.5)" id="flowchart-B-9253" class="node default"><rect height="54" width="80.21875" y="-27" x="-40.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-10.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="20.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[1]</p></span></div></foreignObject></g></g><g transform="translate(545.109375, 201.5)" id="flowchart-C-9255" class="node default"><rect height="54" width="80.21875" y="-27" x="-40.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-10.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="20.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2]</p></span></div></foreignObject></g></g><g transform="translate(896.515625, 201.5)" id="flowchart-D-9257" class="node default"><rect height="54" width="80.21875" y="-27" x="-40.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-10.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="20.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3]</p></span></div></foreignObject></g></g><g transform="translate(105.8515625, 330.5)" id="flowchart-E-9259" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[1,2]</p></span></div></foreignObject></g></g><g transform="translate(281.5546875, 330.5)" id="flowchart-F-9261" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[1,3]</p></span></div></foreignObject></g></g><g transform="translate(457.2578125, 330.5)" id="flowchart-G-9263" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,1]</p></span></div></foreignObject></g></g><g transform="translate(632.9609375, 330.5)" id="flowchart-H-9265" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,3]</p></span></div></foreignObject></g></g><g transform="translate(808.6640625, 330.5)" id="flowchart-I-9267" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,1]</p></span></div></foreignObject></g></g><g transform="translate(984.3671875, 330.5)" id="flowchart-J-9269" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,2]</p></span></div></foreignObject></g></g><g transform="translate(105.8515625, 459.5)" id="flowchart-K-9271" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[1,2,3] ✓</p></span></div></foreignObject></g></g><g transform="translate(281.5546875, 459.5)" id="flowchart-L-9273" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[1,3,2] ✓</p></span></div></foreignObject></g></g><g transform="translate(457.2578125, 459.5)" id="flowchart-M-9275" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,1,3] ✓</p></span></div></foreignObject></g></g><g transform="translate(632.9609375, 459.5)" id="flowchart-N-9277" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,3,1] ✓</p></span></div></foreignObject></g></g><g transform="translate(808.6640625, 459.5)" id="flowchart-O-9279" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,1,2] ✓</p></span></div></foreignObject></g></g><g transform="translate(984.3671875, 459.5)" id="flowchart-P-9281" class="node default"><rect height="54" width="125.703125" y="-27" x="-62.8515625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-32.8515625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,2,1] ✓</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-dkp95u_84"><span class="control" id="-dkp95u_86">解题思路：</span></p><ol class="list _decimal" id="-dkp95u_85" type="1"><li class="list__item" id="-dkp95u_87"><p id="-dkp95u_91">路径：已经做出的选择序列</p></li><li class="list__item" id="-dkp95u_88"><p id="-dkp95u_92">选择列表：当前可以选择的元素</p></li><li class="list__item" id="-dkp95u_89"><p id="-dkp95u_93">结束条件：路径长度等于数组长度</p></li><li class="list__item" id="-dkp95u_90"><p id="-dkp95u_94">在每个节点都要做选择、递归、撤销选择</p></li></ol></section></section><section class="chapter"><h3 id="2-n" data-toc="2-n">题目2：N皇后问题</h3><p id="-dkp95u_95"><span class="control" id="-dkp95u_98">问题描述：</span> n皇后问题研究的是如何将n个皇后放置在n&times;n的棋盘上，并且使皇后彼此之间不能相互攻击。</p><p id="-dkp95u_96"><span class="control" id="-dkp95u_99">回溯策略：</span> 逐行放置，检查冲突，回溯处理</p><section class="chapter"><h4 id="-dkp95u_97" data-toc="-dkp95u_97">图解演示</h4><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1730.625 1048"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1730.625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 427.5)" class="root"><g class="clusters"><g data-look="classic" id="回溯剪枝" class="cluster"><rect height="177" width="274.21875" y="8" x="8" style=""></rect><g transform="translate(113.0546875, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回溯剪枝</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(145.109375, 96.5)" id="flowchart-M-9423" class="node default"><rect height="102" width="204.21875" y="-51" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>如果当前位置冲突<br>不继续往下搜索<br>直接尝试下一个位置</p></span></div></foreignObject></g></g></g></g><g transform="translate(324.21875, 415.5)" class="root"><g class="clusters"><g data-look="classic" id="一个解的棋盘" class="cluster"><rect height="201" width="173.078125" y="8" x="8" style=""></rect><g transform="translate(46.4609375, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>一个解的棋盘</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(94.5390625, 108.5)" id="flowchart-L-9422" class="node default"><rect height="126" width="103.078125" y="-63" x="-51.5390625" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-21.5390625, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="43.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>. Q . .<br>. . . Q<br>Q . . .<br>. . Q .</p></span></div></foreignObject></g></g></g></g><g transform="translate(547.296875, 439.5)" class="root"><g class="clusters"><g data-look="classic" id="冲突检查" class="cluster"><rect height="153" width="914.8125" y="8" x="8" style=""></rect><g transform="translate(433.3515625, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>冲突检查</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(156.671875, 84.5)" id="flowchart-I-9419" class="node default"><rect height="54" width="227.34375" y="-27" x="-113.671875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-83.671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="167.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>同列冲突：col[j] = true</p></span></div></foreignObject></g></g><g transform="translate(450.34375, 84.5)" id="flowchart-J-9420" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主对角线：diag1[i-j+n] = true</p></span></div></foreignObject></g></g><g transform="translate(759.078125, 84.5)" id="flowchart-K-9421" class="node default"><rect height="54" width="257.46875" y="-27" x="-128.734375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-98.734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="197.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>副对角线：diag2[i+j] = true</p></span></div></foreignObject></g></g></g></g><g transform="translate(1512.109375, 0)" class="root"><g class="clusters"><g data-look="classic" id="4皇后问题解法" class="cluster"><rect height="1032" width="202.515625" y="8" x="8" style=""></rect><g transform="translate(56.9765625, 8)" class="cluster-label"><foreignObject height="24" width="104.5625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>4皇后问题解法</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M109.258,99.5L109.258,105.75C109.258,112,109.258,124.5,109.258,133.875C109.258,143.25,109.258,149.5,109.258,155.083C109.258,160.667,109.258,165.583,109.258,168.042L109.258,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M109.258,228.5L109.258,234.75C109.258,241,109.258,253.5,109.258,262.875C109.258,272.25,109.258,278.5,109.258,284.083C109.258,289.667,109.258,294.583,109.258,297.042L109.258,299.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M109.258,357.5L109.258,363.75C109.258,370,109.258,382.5,109.258,391.875C109.258,401.25,109.258,407.5,109.258,413.083C109.258,418.667,109.258,423.583,109.258,426.042L109.258,428.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M109.258,486.5L109.258,492.75C109.258,499,109.258,511.5,109.258,520.875C109.258,530.25,109.258,536.5,109.258,542.083C109.258,547.667,109.258,552.583,109.258,555.042L109.258,557.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_4" d="M109.258,615.5L109.258,621.75C109.258,628,109.258,640.5,109.258,649.875C109.258,659.25,109.258,665.5,109.258,671.083C109.258,676.667,109.258,681.583,109.258,684.042L109.258,686.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M109.258,744.5L109.258,750.75C109.258,757,109.258,769.5,109.258,778.875C109.258,788.25,109.258,794.5,109.258,800.083C109.258,805.667,109.258,810.583,109.258,813.042L109.258,815.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_6" d="M109.258,873.5L109.258,879.75C109.258,886,109.258,898.5,109.258,907.875C109.258,917.25,109.258,923.5,109.258,929.083C109.258,934.667,109.258,939.583,109.258,942.042L109.258,944.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(109.2578125, 72.5)" id="flowchart-A-9408" class="node default"><rect height="54" width="132.515625" y="-27" x="-66.2578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-36.2578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="72.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>第0行选择</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 201.5)" id="flowchart-B-9409" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>(0,1)</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 330.5)" id="flowchart-C-9411" class="node default"><rect height="54" width="132.515625" y="-27" x="-66.2578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-36.2578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="72.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>第1行选择</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 459.5)" id="flowchart-D-9412" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>(1,3)</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 588.5)" id="flowchart-E-9414" class="node default"><rect height="54" width="132.515625" y="-27" x="-66.2578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-36.2578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="72.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>第2行选择</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 717.5)" id="flowchart-F-9415" class="node default"><rect height="54" width="94.53125" y="-27" x="-47.265625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-17.265625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="34.53125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>(2,0)</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 846.5)" id="flowchart-G-9417" class="node default"><rect height="54" width="132.515625" y="-27" x="-66.2578125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-36.2578125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="72.515625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>第3行选择</p></span></div></foreignObject></g></g><g transform="translate(109.2578125, 975.5)" id="flowchart-H-9418" class="node default"><rect height="54" width="111.390625" y="-27" x="-55.6953125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-25.6953125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="51.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>(3,2) ✓</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-dkp95u_101"><span class="control" id="-dkp95u_103">解题思路：</span></p><ol class="list _decimal" id="-dkp95u_102" type="1"><li class="list__item" id="-dkp95u_104"><p id="-dkp95u_108">逐行放置皇后，每行只能放一个</p></li><li class="list__item" id="-dkp95u_105"><p id="-dkp95u_109">检查列、主对角线、副对角线是否冲突</p></li><li class="list__item" id="-dkp95u_106"><p id="-dkp95u_110">如果冲突，回溯尝试下一个位置</p></li><li class="list__item" id="-dkp95u_107"><p id="-dkp95u_111">如果成功放置n个皇后，记录解</p></li></ol></section></section><section class="chapter"><h3 id="3" data-toc="3">题目3：组合总和</h3><p id="-dkp95u_112"><span class="control" id="-dkp95u_115">问题描述：</span> 给定一个无重复元素的数组candidates和一个目标数target，找出candidates中所有可以使数字和为target的组合。candidates中的数字可以无限制重复被选取。</p><p id="-dkp95u_113"><span class="control" id="-dkp95u_116">回溯策略：</span> 选择数字，递归搜索，回溯时撤销选择</p><section class="chapter"><h4 id="-dkp95u_114" data-toc="-dkp95u_114">图解演示</h4><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1770.35546875 628"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1770.35546875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 229.5)" class="root"><g class="clusters"><g data-look="classic" id="剪枝策略" class="cluster"><rect height="153" width="318.4375" y="8" x="8" style=""></rect><g transform="translate(135.1640625, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>剪枝策略</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(167.21875, 84.5)" id="flowchart-N-9628" class="node default"><rect height="78" width="248.4375" y="-39" x="-124.21875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-94.21875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="188.4375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>如果当前和已经超过target<br>直接返回，不继续搜索</p></span></div></foreignObject></g></g></g></g><g transform="translate(368.4375, 0)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="612" width="1385.91796875" y="8" x="8" style=""></rect><g transform="translate(600.958984375, 8)" class="cluster-label"><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>candidates=[2,3,6,7], target=7</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M964.441,92.857L882.186,104.214C799.93,115.571,635.418,138.286,553.162,152.768C470.906,167.25,470.906,173.5,470.906,179.083C470.906,184.667,470.906,189.583,470.906,192.042L470.906,194.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M981.365,123.5L974.377,129.75C967.39,136,953.416,148.5,946.429,157.875C939.441,167.25,939.441,173.5,939.441,179.083C939.441,184.667,939.441,189.583,939.441,192.042L939.441,194.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M1068.565,123.5L1075.552,129.75C1082.539,136,1096.514,148.5,1103.501,157.875C1110.488,167.25,1110.488,173.5,1110.488,179.083C1110.488,184.667,1110.488,189.583,1110.488,192.042L1110.488,194.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M1085.488,101.972L1119.568,111.81C1153.647,121.648,1221.806,141.324,1255.885,154.287C1289.965,167.25,1289.965,173.5,1289.965,179.083C1289.965,184.667,1289.965,189.583,1289.965,192.042L1289.965,194.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M410.383,254.176L374.196,264.147C338.009,274.117,265.635,294.059,229.449,307.154C193.262,320.25,193.262,326.5,193.262,332.083C193.262,337.667,193.262,342.583,193.262,345.042L193.262,347.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_G_5" d="M470.906,276.5L470.906,282.75C470.906,289,470.906,301.5,470.906,310.875C470.906,320.25,470.906,326.5,470.906,332.083C470.906,337.667,470.906,342.583,470.906,345.042L470.906,347.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_H_6" d="M531.43,262.205L552.578,270.837C573.727,279.47,616.023,296.735,637.172,308.492C658.32,320.25,658.32,326.5,658.32,332.083C658.32,337.667,658.32,342.583,658.32,345.042L658.32,347.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_I_7" d="M147.513,429.5L140.181,435.75C132.85,442,118.187,454.5,110.855,463.875C103.523,473.25,103.523,479.5,103.523,485.083C103.523,490.667,103.523,495.583,103.523,498.042L103.523,500.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_J_8" d="M239.011,429.5L246.342,435.75C253.674,442,268.337,454.5,275.668,463.875C283,473.25,283,479.5,283,485.083C283,490.667,283,495.583,283,498.042L283,500.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_K_9" d="M470.906,429.5L470.906,435.75C470.906,442,470.906,454.5,470.906,463.875C470.906,473.25,470.906,479.5,470.906,485.083C470.906,490.667,470.906,495.583,470.906,498.042L470.906,500.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_L_10" d="M891.669,276.5L884.013,282.75C876.358,289,861.046,301.5,853.39,310.875C845.734,320.25,845.734,326.5,845.734,332.083C845.734,337.667,845.734,342.583,845.734,345.042L845.734,347.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_M_11" d="M999.965,264.53L1018.426,272.775C1036.888,281.02,1073.811,297.51,1092.273,308.88C1110.734,320.25,1110.734,326.5,1110.734,332.083C1110.734,337.667,1110.734,342.583,1110.734,345.042L1110.734,347.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(1024.96484375, 84.5)" id="flowchart-A-9604" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[]<br>target=7</p></span></div></foreignObject></g></g><g transform="translate(470.90625, 237.5)" id="flowchart-B-9605" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2]<br>target=5</p></span></div></foreignObject></g></g><g transform="translate(939.44140625, 237.5)" id="flowchart-C-9607" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3]<br>target=4</p></span></div></foreignObject></g></g><g transform="translate(1110.48828125, 237.5)" id="flowchart-D-9609" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[6]<br>target=1</p></span></div></foreignObject></g></g><g transform="translate(1289.96484375, 237.5)" id="flowchart-E-9611" class="node default"><rect height="78" width="137.90625" y="-39" x="-68.953125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-38.953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="77.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[7]<br>target=0 ✓</p></span></div></foreignObject></g></g><g transform="translate(193.26171875, 390.5)" id="flowchart-F-9613" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,2]<br>target=3</p></span></div></foreignObject></g></g><g transform="translate(470.90625, 390.5)" id="flowchart-G-9615" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,3]<br>target=2</p></span></div></foreignObject></g></g><g transform="translate(658.3203125, 390.5)" id="flowchart-H-9617" class="node default"><rect height="78" width="153.78125" y="-39" x="-76.890625" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-46.890625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="93.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,6]<br>target=-1 ❌</p></span></div></foreignObject></g></g><g transform="translate(103.5234375, 543.5)" id="flowchart-I-9619" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,2,2]<br>target=1</p></span></div></foreignObject></g></g><g transform="translate(283, 543.5)" id="flowchart-J-9621" class="node default"><rect height="78" width="137.90625" y="-39" x="-68.953125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-38.953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="77.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,2,3]<br>target=0 ✓</p></span></div></foreignObject></g></g><g transform="translate(470.90625, 543.5)" id="flowchart-K-9623" class="node default"><rect height="78" width="137.90625" y="-39" x="-68.953125" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-38.953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="77.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[2,3,2]<br>target=0 ✓</p></span></div></foreignObject></g></g><g transform="translate(845.734375, 390.5)" id="flowchart-L-9625" class="node default"><rect height="78" width="121.046875" y="-39" x="-60.5234375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-30.5234375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="61.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,3]<br>target=1</p></span></div></foreignObject></g></g><g transform="translate(1110.734375, 390.5)" id="flowchart-M-9627" class="node default"><rect height="78" width="153.78125" y="-39" x="-76.890625" data-et="node" data-id="abc" style="fill:#ffcdd2 !important" class="basic label-container"></rect><g transform="translate(-46.890625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="93.78125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>[3,6]<br>target=-2 ❌</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-dkp95u_118"><span class="control" id="-dkp95u_120">解题思路：</span></p><ol class="list _decimal" id="-dkp95u_119" type="1"><li class="list__item" id="-dkp95u_121"><p id="-dkp95u_125">每次可以选择任意一个数字（可重复）</p></li><li class="list__item" id="-dkp95u_122"><p id="-dkp95u_126">目标值减少当前选择的数字</p></li><li class="list__item" id="-dkp95u_123"><p id="-dkp95u_127">如果目标值为0，找到一个解</p></li><li class="list__item" id="-dkp95u_124"><p id="-dkp95u_128">如果目标值小于0，说明超了，需要回溯</p></li></ol></section></section><section class="chapter"><h3 id="4" data-toc="4">题目4：单词搜索</h3><p id="-dkp95u_129"><span class="control" id="-dkp95u_132">问题描述：</span> 给定一个二维网格和一个单词，找出该单词是否存在于网格中。单词必须按照字母顺序，通过相邻的单元格内的字母构成，其中&quot;相邻&quot;单元格是那些水平相邻或垂直相邻的单元格。</p><p id="-dkp95u_130"><span class="control" id="-dkp95u_133">回溯策略：</span> DFS + 回溯，标记访问状态</p><section class="chapter"><h4 id="-dkp95u_131" data-toc="-dkp95u_131">图解演示</h4><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1336.390625 628"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1336.390625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 88.5)" class="root"><g class="clusters"><g data-look="classic" id="状态管理" class="cluster"><rect height="435" width="330" y="8" x="8" style=""></rect><g transform="translate(140.9453125, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>状态管理</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_3" d="M173,99.5L173,105.75C173,112,173,124.5,173,133.875C173,143.25,173,149.5,173,155.083C173,160.667,173,165.583,173,168.042L173,170.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_4" d="M173,252.5L173,258.75C173,265,173,277.5,173,286.875C173,296.25,173,302.5,173,308.083C173,313.667,173,318.583,173,321.042L173,323.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(173, 72.5)" id="flowchart-G-9751" class="node default"><rect height="54" width="256.96875" y="-27" x="-128.484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-98.484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="196.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>visited[i][j] = True  # 做选择</p></span></div></foreignObject></g></g><g transform="translate(173, 213.5)" id="flowchart-H-9752" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>dfs(下一个位置, 下一个字符)</p></span></div></foreignObject></g></g><g transform="translate(173, 366.5)" id="flowchart-I-9753" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>visited[i][j] = False # 撤销选择</p></span></div></foreignObject></g></g></g></g><g transform="translate(380, 0)" class="root"><g class="clusters"><g data-look="classic" id="回溯过程" class="cluster"><rect height="612" width="330" y="8" x="8" style=""></rect><g transform="translate(140.9453125, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>回溯过程</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M173,123.5L173,129.75C173,136,173,148.5,173,157.875C173,167.25,173,173.5,173,179.083C173,184.667,173,189.583,173,192.042L173,194.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_1" d="M173,276.5L173,282.75C173,289,173,301.5,173,310.875C173,320.25,173,326.5,173,332.083C173,337.667,173,342.583,173,345.042L173,347.5"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_2" d="M173,429.5L173,435.75C173,442,173,454.5,173,463.875C173,473.25,173,479.5,173,485.083C173,490.667,173,495.583,173,498.042L173,500.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(173, 84.5)" id="flowchart-C-9743" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Unsupported markdown: list</span></div></foreignObject></g></g><g transform="translate(173, 237.5)" id="flowchart-D-9744" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Unsupported markdown: list</span></div></foreignObject></g></g><g transform="translate(173, 390.5)" id="flowchart-E-9745" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Unsupported markdown: list</span></div></foreignObject></g></g><g transform="translate(173, 543.5)" id="flowchart-F-9746" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Unsupported markdown: list</span></div></foreignObject></g></g></g></g><g transform="translate(760, 217.5)" class="root"><g class="clusters"><g data-look="classic" id="搜索路径" class="cluster"><rect height="177" width="330" y="8" x="8" style=""></rect><g transform="translate(140.9453125, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>搜索路径</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(173, 96.5)" id="flowchart-B-9742" class="node default"><rect height="102" width="260" y="-51" x="-130" data-et="node" data-id="abc" style="fill:#c8e6c9 !important" class="basic label-container"></rect><g transform="translate(-100, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>(0,0)A → (0,1)B → (0,2)C → (1,2)C → (2,2)E → (2,1)D ✓</p></span></div></foreignObject></g></g></g></g><g transform="translate(1140, 217.5)" class="root"><g class="clusters"><g data-look="classic" id="网格搜索单词'ABCCED'" class="cluster"><rect height="177" width="180.390625" y="8" x="8" style=""></rect><g transform="translate(19.4609375, 8)" class="cluster-label"><foreignObject height="24" width="157.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>网格搜索单词'ABCCED'</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(98.1953125, 96.5)" id="flowchart-A-9741" class="node default"><rect height="102" width="110.390625" y="-51" x="-55.1953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-25.1953125, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="50.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>A B C E<br>S F C S<br>A D E E</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-dkp95u_135"><span class="control" id="-dkp95u_137">解题思路：</span></p><ol class="list _decimal" id="-dkp95u_136" type="1"><li class="list__item" id="-dkp95u_138"><p id="-dkp95u_143">遍历网格找到单词首字母</p></li><li class="list__item" id="-dkp95u_139"><p id="-dkp95u_144">从首字母位置开始DFS</p></li><li class="list__item" id="-dkp95u_140"><p id="-dkp95u_145">标记当前位置为已访问</p></li><li class="list__item" id="-dkp95u_141"><p id="-dkp95u_146">递归搜索四个方向</p></li><li class="list__item" id="-dkp95u_142"><p id="-dkp95u_147">回溯时恢复访问状态</p></li></ol></section></section></section><section class="chapter"><h2 id="-dkp95u_6" data-toc="-dkp95u_6">🔧 回溯算法设计技巧</h2><section class="chapter"><h3 id="-dkp95u_148" data-toc="-dkp95u_148">剪枝策略</h3><section class="chapter"><h4 id="1" data-toc="1">1. 可行性剪枝</h4><div class="code-block" data-lang="none">
if 当前路径不可能到达解:
    return  # 提前终止这个分支
</div></section><section class="chapter"><h4 id="2" data-toc="2">2. 最优性剪枝</h4><div class="code-block" data-lang="none">
if 当前路径已经不如已知最优解:
    return  # 提前终止
</div></section><section class="chapter"><h4 id="3" data-toc="3">3. 重复状态剪枝</h4><div class="code-block" data-lang="none">
if 当前状态已经搜索过:
    return  # 避免重复搜索
</div></section><section class="chapter"><h4 id="4" data-toc="4">4. 约束条件剪枝</h4><div class="code-block" data-lang="none">
if 违反问题约束条件:
    return  # 直接跳过
</div></section></section><section class="chapter"><h3 id="-dkp95u_149" data-toc="-dkp95u_149">状态管理技巧</h3><section class="chapter"><h4 id="1" data-toc="1">1. 全局状态</h4><div class="code-block" data-lang="none">
// 使用全局变量记录状态
visited = [False] * n
path = []

def backtrack():
    # 修改全局状态
    visited[i] = True
    path.append(choice)
    
    # 递归
    backtrack()
    
    # 恢复全局状态
    visited[i] = False
    path.pop()
</div></section><section class="chapter"><h4 id="2" data-toc="2">2. 传参状态</h4><div class="code-block" data-lang="none">
// 通过参数传递状态
def backtrack(path, visited):
    # 状态作为参数传递
    new_path = path + [choice]
    new_visited = visited | {choice}
    
    backtrack(new_path, new_visited)
</div></section><section class="chapter"><h4 id="3" data-toc="3">3. 原地修改</h4><div class="code-block" data-lang="none">
// 直接修改输入数据结构
board[i][j] = '#'  # 标记已访问
backtrack(...)
board[i][j] = original_value  # 恢复原值
</div></section></section></section><section class="chapter"><h2 id="-dkp95u_7" data-toc="-dkp95u_7">📈 复杂度分析</h2><section class="chapter"><h3 id="-dkp95u_164" data-toc="-dkp95u_164">时间复杂度</h3><ul class="list _bullet" id="-dkp95u_166"><li class="list__item" id="-dkp95u_167"><p id="-dkp95u_171"><span class="control" id="-dkp95u_172">排列问题</span> ：O(n!)，n个元素的全排列</p></li><li class="list__item" id="-dkp95u_168"><p id="-dkp95u_173"><span class="control" id="-dkp95u_174">组合问题</span> ：O(2^n)，每个元素选或不选</p></li><li class="list__item" id="-dkp95u_169"><p id="-dkp95u_175"><span class="control" id="-dkp95u_176">子集问题</span> ：O(2^n)，所有可能的子集</p></li><li class="list__item" id="-dkp95u_170"><p id="-dkp95u_177"><span class="control" id="-dkp95u_178">约束满足</span> ：O(b^d)，b为分支因子，d为深度</p></li></ul></section><section class="chapter"><h3 id="-dkp95u_165" data-toc="-dkp95u_165">空间复杂度</h3><ul class="list _bullet" id="-dkp95u_179"><li class="list__item" id="-dkp95u_180"><p id="-dkp95u_183"><span class="control" id="-dkp95u_184">递归栈空间</span> ：O(d)，d为递归深度</p></li><li class="list__item" id="-dkp95u_181"><p id="-dkp95u_185"><span class="control" id="-dkp95u_186">路径存储</span> ：O(d)，存储当前路径</p></li><li class="list__item" id="-dkp95u_182"><p id="-dkp95u_187"><span class="control" id="-dkp95u_188">访问标记</span> ：O(n)，标记已访问元素</p></li></ul></section></section><section class="chapter"><h2 id="-dkp95u_8" data-toc="-dkp95u_8">✅ 适用场景识别</h2><section class="chapter"><h3 id="-dkp95u_189" data-toc="-dkp95u_189">适合回溯的问题特征</h3><ol class="list _decimal" id="-dkp95u_192" type="1"><li class="list__item" id="-dkp95u_193"><p id="-dkp95u_197"><span class="control" id="-dkp95u_199">🔍 穷举所有可能</span></p><ul class="list _bullet" id="-dkp95u_198"><li class="list__item" id="-dkp95u_200"><p id="-dkp95u_202">需要找到所有解</p></li><li class="list__item" id="-dkp95u_201"><p id="-dkp95u_203">需要计算所有可能的情况</p></li></ul></li><li class="list__item" id="-dkp95u_194"><p id="-dkp95u_204"><span class="control" id="-dkp95u_206">🎯 约束满足问题</span></p><ul class="list _bullet" id="-dkp95u_205"><li class="list__item" id="-dkp95u_207"><p id="-dkp95u_209">有明确的约束条件</p></li><li class="list__item" id="-dkp95u_208"><p id="-dkp95u_210">需要在约束下寻找解</p></li></ul></li><li class="list__item" id="-dkp95u_195"><p id="-dkp95u_211"><span class="control" id="-dkp95u_213">🌳 树形搜索空间</span></p><ul class="list _bullet" id="-dkp95u_212"><li class="list__item" id="-dkp95u_214"><p id="-dkp95u_216">问题可以抽象为树形搜索</p></li><li class="list__item" id="-dkp95u_215"><p id="-dkp95u_217">每个节点代表一个选择</p></li></ul></li><li class="list__item" id="-dkp95u_196"><p id="-dkp95u_218"><span class="control" id="-dkp95u_220">⚡ 可以剪枝优化</span></p><ul class="list _bullet" id="-dkp95u_219"><li class="list__item" id="-dkp95u_221"><p id="-dkp95u_223">能够提前判断分支不可行</p></li><li class="list__item" id="-dkp95u_222"><p id="-dkp95u_224">有明确的终止条件</p></li></ul></li></ol></section><section class="chapter"><h3 id="-dkp95u_190" data-toc="-dkp95u_190">识别关键词</h3><p id="-dkp95u_225">✅ <span class="control" id="-dkp95u_226">&quot;所有可能的&quot;</span> ✅ <span class="control" id="-dkp95u_227">&quot;全排列/组合&quot;</span> ✅ <span class="control" id="-dkp95u_228">&quot;子集/分割&quot;</span> ✅ <span class="control" id="-dkp95u_229">&quot;路径/方案数&quot;</span> ✅ <span class="control" id="-dkp95u_230">&quot;约束条件&quot;</span> ✅ <span class="control" id="-dkp95u_231">&quot;搜索/寻找&quot;</span></p></section><section class="chapter"><h3 id="-dkp95u_191" data-toc="-dkp95u_191">不适合回溯的情况</h3><p id="-dkp95u_232">❌ <span class="control" id="-dkp95u_233">只需要一个解</span> （DFS或BFS更合适） ❌ <span class="control" id="-dkp95u_234">问题具有贪心性质</span> ❌ <span class="control" id="-dkp95u_235">状态空间过大且无法剪枝</span> ❌ <span class="control" id="-dkp95u_236">问题可以用动态规划解决</span></p></section></section><section class="chapter"><h2 id="-dkp95u_9" data-toc="-dkp95u_9">💡 解题模板</h2><section class="chapter"><h3 id="-dkp95u_237" data-toc="-dkp95u_237">基础回溯模板</h3><div class="code-block" data-lang="none">
def backtrack(路径, 选择列表):
    # 终止条件
    if 满足结束条件:
        result.append(路径[:])  # 注意拷贝
        return
    
    for 选择 in 选择列表:
        # 剪枝
        if 不满足条件:
            continue
        
        # 做选择
        路径.append(选择)
        
        # 递归
        backtrack(路径, 更新后的选择列表)
        
        # 撤销选择
        路径.pop()
</div></section><section class="chapter"><h3 id="-dkp95u_238" data-toc="-dkp95u_238">排列问题模板</h3><div class="code-block" data-lang="none">
def permute(nums):
    result = []
    
    def backtrack(path):
        if len(path) == len(nums):
            result.append(path[:])
            return
        
        for num in nums:
            if num in path:  # 已使用过
                continue
            
            path.append(num)
            backtrack(path)
            path.pop()
    
    backtrack([])
    return result
</div></section><section class="chapter"><h3 id="-dkp95u_239" data-toc="-dkp95u_239">组合问题模板</h3><div class="code-block" data-lang="none">
def combine(n, k):
    result = []
    
    def backtrack(start, path):
        if len(path) == k:
            result.append(path[:])
            return
        
        for i in range(start, n + 1):
            path.append(i)
            backtrack(i + 1, path)  # 从i+1开始，避免重复
            path.pop()
    
    backtrack(1, [])
    return result
</div></section><section class="chapter"><h3 id="-dkp95u_240" data-toc="-dkp95u_240">子集问题模板</h3><div class="code-block" data-lang="none">
def subsets(nums):
    result = []
    
    def backtrack(start, path):
        result.append(path[:])  # 每个节点都是一个子集
        
        for i in range(start, len(nums)):
            path.append(nums[i])
            backtrack(i + 1, path)
            path.pop()
    
    backtrack(0, [])
    return result
</div></section></section><section class="chapter"><h2 id="-dkp95u_10" data-toc="-dkp95u_10">🎯 练习建议</h2><section class="chapter"><h3 id="-dkp95u_245" data-toc="-dkp95u_245">入门题目</h3><ul class="list _bullet" id="-dkp95u_248"><li class="list__item" id="-dkp95u_249"><p id="-dkp95u_253">全排列</p></li><li class="list__item" id="-dkp95u_250"><p id="-dkp95u_254">组合</p></li><li class="list__item" id="-dkp95u_251"><p id="-dkp95u_255">子集</p></li><li class="list__item" id="-dkp95u_252"><p id="-dkp95u_256">电话号码的字母组合</p></li></ul></section><section class="chapter"><h3 id="-dkp95u_246" data-toc="-dkp95u_246">进阶题目</h3><ul class="list _bullet" id="-dkp95u_257"><li class="list__item" id="-dkp95u_258"><p id="-dkp95u_262">N皇后问题</p></li><li class="list__item" id="-dkp95u_259"><p id="-dkp95u_263">组合总和</p></li><li class="list__item" id="-dkp95u_260"><p id="-dkp95u_264">单词搜索</p></li><li class="list__item" id="-dkp95u_261"><p id="-dkp95u_265">分割回文串</p></li></ul></section><section class="chapter"><h3 id="-dkp95u_247" data-toc="-dkp95u_247">高级题目</h3><ul class="list _bullet" id="-dkp95u_266"><li class="list__item" id="-dkp95u_267"><p id="-dkp95u_271">解数独</p></li><li class="list__item" id="-dkp95u_268"><p id="-dkp95u_272">正则表达式匹配</p></li><li class="list__item" id="-dkp95u_269"><p id="-dkp95u_273">通配符匹配</p></li><li class="list__item" id="-dkp95u_270"><p id="-dkp95u_274">最大长度链</p></li></ul></section></section><section class="chapter"><h2 id="-dkp95u_11" data-toc="-dkp95u_11">🔄 回溯优化技巧</h2><section class="chapter"><h3 id="1" data-toc="1">1. 剪枝优化</h3><p id="-dkp95u_279">提前终止不可能的分支</p></section><section class="chapter"><h3 id="2" data-toc="2">2. 排序优化</h3><p id="-dkp95u_280">对候选解排序，优先选择更有希望的分支</p></section><section class="chapter"><h3 id="3" data-toc="3">3. 记忆化</h3><p id="-dkp95u_281">缓存中间结果，避免重复计算</p></section><section class="chapter"><h3 id="4" data-toc="4">4. 状态压缩</h3><p id="-dkp95u_282">使用位运算等技巧压缩状态表示</p><aside class="prompt" data-type="tip" data-title="" id="-dkp95u_284"><p id="-dkp95u_285">💡 <span class="control" id="-dkp95u_286">记忆要点</span> ：回溯算法的核心是&quot;选择-递归-撤销&quot;三步曲。关键在于正确识别选择列表、路径和终止条件。通过剪枝优化可以大大提高效率。回溯适合解决需要穷举所有可能的问题。</p></aside></section></section><div class="last-modified">09 六月 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="二分查找算法详解.html" class="navigation-links__prev">二分查找算法详解</a><a href="分治算法详解.html" class="navigation-links__next">分治算法详解</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>