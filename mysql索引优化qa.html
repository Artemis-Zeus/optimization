<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-06-10T01:07:31.2910586"><title>MySQL索引优化QA | 技术知识库</title><script type="application/json" id="virtual-toc-data">[{"id":"j362cd_4","level":0,"title":"📋 知识结构","anchor":"#j362cd_4"},{"id":"j362cd_5","level":0,"title":"🌳 索引基础原理","anchor":"#j362cd_5"},{"id":"j362cd_6","level":0,"title":"🔍 索引分类","anchor":"#j362cd_6"},{"id":"j362cd_7","level":0,"title":"🎯 复合索引详解","anchor":"#j362cd_7"},{"id":"j362cd_8","level":0,"title":"🚫 索引失效场景","anchor":"#j362cd_8"},{"id":"j362cd_9","level":0,"title":"📊 执行计划分析","anchor":"#j362cd_9"},{"id":"j362cd_10","level":0,"title":"💡 索引优化策略","anchor":"#j362cd_10"},{"id":"j362cd_11","level":0,"title":"💡 面试技巧","anchor":"#j362cd_11"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="MySQL索引优化QA | 技术知识库"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="技术知识库 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/mysql索引优化qa.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="MySQL索引优化QA | 技术知识库"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/mysql索引优化qa.html#webpage",
    "url": "writerside-documentation/mysql索引优化qa.html",
    "name": "MySQL索引优化QA | 技术知识库",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "技术知识库 Help"
}</script><!-- End Schema.org --></head><body data-id="MySQL索引优化QA" data-main-title="MySQL索引优化QA" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="MySQL面试大纲.md|MySQL面试大纲"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>技术知识库  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="MySQL索引优化QA" id="MySQL索引优化QA.md">MySQL索引优化QA</h1><p id="j362cd_3">本文档深入解析MySQL索引优化的核心概念，包括B+树原理、索引类型、设计原则和查询优化技巧。</p><section class="chapter"><h2 id="j362cd_4" data-toc="j362cd_4">📋 知识结构</h2><svg aria-roledescription="mindmap" role="graphics-document document" viewBox="5 5 751.0230712890625 451.20355224609375" style="max-width: 751.0230712890625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid"><g></g><g class="mindmap-edges"><path class="edge section-edge-0 edge-depth-1" d="M 360.37765599292356,131.11516449026738 L 308.2569464037526,140.8139793921391 L256.1362368145816,150.5127942940108"></path><path class="edge section-edge-0 edge-depth-1" d="M 387.7654917317507,120.29602129817422 L 429.35995721191193,93.72569417598586 L470.95442269207314,67.1553670537975"></path><path class="edge section-edge-0 edge-depth-1" d="M 361.49928535445525,122.09779427297141 L 306.9083304699294,96.96344251982768 L252.31737558540357,71.82909076668395"></path><path class="edge section-edge-0 edge-depth-1" d="M 373.00728372597945,113.52118860295835 L 368.3898728598822,81.13550778584167 L363.77246199378493,48.749826968724975"></path><path class="edge section-edge-0 edge-depth-0" d="M 380.14192888032517,214.95662555128806 L 378.06709698154873,179.15126000694934 L375.9922650827723,143.34589446261063"></path><path class="edge section-edge-1 edge-depth-1" d="M 574.1495844744979,224.84358004277334 L 631.3154649115677,227.2191130181279 L688.4813453486374,229.59464599348246"></path><path class="edge section-edge-1 edge-depth-1" d="M 552.7351016499042,210.6676253191834 L 539.3723598642498,182.49029536145494 L526.0096180785954,154.31296540372648"></path><path class="edge section-edge-1 edge-depth-1" d="M 570.1717876528157,234.40882355502464 L 600.5154040287163,262.4889577170618 L630.8590204046168,290.5690918790989"></path><path class="edge section-edge-1 edge-depth-1" d="M 571.1502260232394,215.20442402960288 L 607.3407118426913,187.98431364460905 L643.5311976621433,160.76420325961521"></path><path class="edge section-edge-1 edge-depth-0" d="M 396.00198532130685,229.45092425469332 L 470.0861023940472,227.07614785677808 L544.1702194667876,224.70137145886284"></path><path class="edge section-edge-2 edge-depth-1" d="M 368.02244754721477,339.9263524723622 L 321.16616487950597,365.8076684639003 L274.3098822117972,391.6889844554384"></path><path class="edge section-edge-2 edge-depth-1" d="M 395.85648156490447,329.70802742915055 L 448.02961512181685,319.1845617958098 L500.2027486787292,308.6610961624691"></path><path class="edge section-edge-2 edge-depth-1" d="M 394.53639459555353,339.44688963277395 L 444.50926017129234,364.73634354862725 L494.48212574703115,390.02579746448055"></path><path class="edge section-edge-2 edge-depth-1" d="M 381.6623314831893,347.665176710215 L 382.76137475713324,379.98870886959116 L383.8604180310772,412.3122410289673"></path><path class="edge section-edge-2 edge-depth-0" d="M 381.03055166385633,244.9314899295037 L 381.0811459397139,281.30267216145467 L381.1317402155715,317.67385439340563"></path><path class="edge section-edge-3 edge-depth-1" d="M 193.09294355876563,245.08650300192303 L 169.52724338255535,274.2351422700068 L145.96154320634508,303.3837815380906"></path><path class="edge section-edge-3 edge-depth-1" d="M 211.95863159763056,245.08274584711288 L 232.99505347607686,271.0817088860812 L254.03147535452317,297.0806719250495"></path><path class="edge section-edge-3 edge-depth-1" d="M 190.44029501718842,224.53377525913078 L 153.96856643230927,197.7062395794434 L117.49683784743011,170.87870389975603"></path><path class="edge section-edge-3 edge-depth-1" d="M 187.57748115587617,234.69363852459313 L 130.27973209613378,239.56942423509227 L72.9819830363914,244.44520994559142"></path><path class="edge section-edge-3 edge-depth-0" d="M 366.0125530359922,230.22477326902856 L 291.76657538465884,231.67665283793923 L217.52059773332547,233.12853240684984"></path></g><g class="mindmap-nodes"><g transform="translate(314.9879039537591, 211.03150444221535)" class="mindmap-node section--1 section-root"><g transform="translate(66.02178192138672, 18.9)"><circle r="66.02178192138672" class="node-bkg node-circle" id="node-0"></circle></g><g transform="translate(66.02178192138672, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">MySQL索引优化</tspan></tspan></text></g></g></g><g transform="translate(332.56982058795165, 109.47101557168332)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-1"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引基础</tspan></tspan></text></g></g></g><g transform="translate(516.6078314129486, 205.3207912713408)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-6"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引类型</tspan></tspan></text></g></g></g><g transform="translate(338.1166067061863, 313.773839880694)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-11"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引设计</tspan></tspan></text></g></g></g><g transform="translate(159.48746559607616, 214.52180123366304)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-16"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">查询优化</tspan></tspan></text></g></g></g><g transform="translate(198.3533854214578, 134.35694321259484)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-2"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引原理</tspan></tspan></text></g></g></g><g transform="translate(440.8063438358722, 40.180372780288394)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.578125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-3"></path><line y2="37.8" x2="85.578125" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(42.7890625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">B+树结构</tspan></tspan></text></g></g></g><g transform="translate(195.65615355381146, 46.65586946797203)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-4"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引分类</tspan></tspan></text></g></g></g><g transform="translate(319.1005501318127, 15)" class="mindmap-node section-0"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-5"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-0"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">存储机制</tspan></tspan></text></g></g></g><g transform="translate(660.9137234101868, 211.317434764915)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-7"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">聚集索引</tspan></tspan></text></g></g></g><g transform="translate(469.519700815551, 121.85979945156907)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h90.125 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-8"></path><line y2="37.8" x2="100.125" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(50.0625, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">非聚集索引</tspan></tspan></text></g></g></g><g transform="translate(599.3136016444839, 281.8571241627827)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-9"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">复合索引</tspan></tspan></text></g></g></g><g transform="translate(613.4642172724341, 132.84783601787728)" class="mindmap-node section-1"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h74.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-10"></path><line y2="37.8" x2="84.109375" y1="37.8" x1="0" class="node-line-1"></line></g><g transform="translate(42.0546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">覆盖索引</tspan></tspan></text></g></g></g><g transform="translate(219.12503625472993, 380.04149704710665)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h74.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-12"></path><line y2="37.8" x2="84.109375" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(42.0546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">设计原则</tspan></tspan></text></g></g></g><g transform="translate(471.870624941256, 286.7952837109257)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-13"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">选择策略</tspan></tspan></text></g></g></g><g transform="translate(465.3112268383027, 377.8988472165605)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-14"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">优化技巧</tspan></tspan></text></g></g></g><g transform="translate(341.8154560099845, 408.40357785848835)" class="mindmap-node section-2"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-15"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-2"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">失效场景</tspan></tspan></text></g></g></g><g transform="translate(93.97633437093884, 296.1484833063506)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h75.109375 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-17"></path><line y2="37.8" x2="85.109375" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(42.5546875, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">执行计划</tspan></tspan></text></g></g></g><g transform="translate(228.44264189013518, 289.84161653849935)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h60.04800033569336 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-18"></path><line y2="37.8" x2="70.04800033569336" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(35.02400016784668, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">优化器</tspan></tspan></text></g></g></g><g transform="translate(62.37766867235098, 143.09067792522376)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-19"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">索引提示</tspan></tspan></text></g></g></g><g transform="translate(15, 226.8170472365215)" class="mindmap-node section-3"><g><path d="M0 32.8 v-27.799999999999997 q0,-5 5,-5 h76.0719985961914 q5,0 5,5 v32.8 H0 Z" class="node-bkg node-no-border" id="node-20"></path><line y2="37.8" x2="86.0719985961914" y1="37.8" x1="0" class="node-line-3"></line></g><g transform="translate(43.0359992980957, 5)" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" dy="1em"><g><rect style="stroke: none" class="background"></rect><text style="" y="-10.1"><tspan dy="1.1em" y="-0.1em" x="0" class="text-outer-tspan"><tspan font-weight="normal" class="text-inner-tspan" font-style="normal">性能分析</tspan></tspan></text></g></g></g></g></svg></section><section class="chapter"><h2 id="j362cd_5" data-toc="j362cd_5">🌳 索引基础原理</h2><section class="chapter"><h3 id="q1-mysql-b" data-toc="q1-mysql-b">Q1: 什么是索引？为什么MySQL使用B+树作为索引结构？</h3><p id="j362cd_15"><span class="control" id="j362cd_20">答案：</span> 索引是数据库中用于提高查询效率的数据结构，类似于书籍的目录。</p><p id="j362cd_16"><span class="control" id="j362cd_21">MySQL选择B+树的原因：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 825.015625 548"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="825.015625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 28)" class="root"><g class="clusters"><g data-look="classic" id="与其他结构对比" class="cluster"><rect height="476" width="247.171875" y="8" x="8" style=""></rect><g transform="translate(75.5, 8)" class="cluster-label"><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>与其他结构对比</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(131.5859375, 94)" id="flowchart-F-5216" class="node default"><rect height="102" width="172.171875" y="-51" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Hash索引<br>等值查询快<br>不支持范围查询</p></span></div></foreignObject></g></g><g transform="translate(131.5859375, 246)" id="flowchart-G-5217" class="node default"><rect height="102" width="172.171875" y="-51" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>二叉树<br>可能退化为链表<br>性能不稳定</p></span></div></foreignObject></g></g><g transform="translate(131.5859375, 398)" id="flowchart-H-5218" class="node default"><rect height="102" width="172.171875" y="-51" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>B树<br>数据分散存储<br>范围查询效率差</p></span></div></foreignObject></g></g></g></g><g transform="translate(297.171875, 0)" class="root"><g class="clusters"><g data-look="classic" id="B+树优势" class="cluster"><rect height="532" width="511.84375" y="8" x="8" style=""></rect><g transform="translate(231.1328125, 8)" class="cluster-label"><foreignObject height="24" width="65.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>B+树优势</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M122.392,247L136.757,219.5C151.121,192,179.849,137,197.339,109.5C214.828,82,221.078,82,226.661,82C232.245,82,237.161,82,239.62,82L242.078,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M150.599,247L160.262,240.833C169.925,234.667,189.252,222.333,204.042,216.167C218.833,210,229.089,210,238.677,210C248.266,210,257.188,210,261.648,210L266.109,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M150.599,301L160.262,307.167C169.925,313.333,189.252,325.667,205.058,331.833C220.865,338,233.151,338,244.771,338C256.391,338,267.344,338,272.82,338L278.297,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M122.392,301L136.757,328.5C151.121,356,179.849,411,199.341,438.5C218.833,466,229.089,466,238.677,466C248.266,466,257.188,466,261.648,466L266.109,466"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(108.2890625, 274)" id="flowchart-A-5208" class="node default"><rect height="54" width="125.578125" y="-27" x="-62.7890625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.7890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="65.578125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>B+树特点</p></span></div></foreignObject></g></g><g transform="translate(364.2109375, 82)" id="flowchart-B-5209" class="node default"><rect height="78" width="236.265625" y="-39" x="-118.1328125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-88.1328125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="176.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>所有数据存储在叶子节点<br>非叶子节点只存储键值</p></span></div></foreignObject></g></g><g transform="translate(364.2109375, 210)" id="flowchart-C-5211" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点形成链表<br>范围查询效率高</p></span></div></foreignObject></g></g><g transform="translate(364.2109375, 338)" id="flowchart-D-5213" class="node default"><rect height="78" width="163.828125" y="-39" x="-81.9140625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-51.9140625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="103.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>树高度低<br>磁盘I/O次数少</p></span></div></foreignObject></g></g><g transform="translate(364.2109375, 466)" id="flowchart-E-5215" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>节点存储更多键值<br>扇出度大</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_18"><span class="control" id="j362cd_22">B+树特性：</span></p><ol class="list _decimal" id="j362cd_19" type="1"><li class="list__item" id="j362cd_23"><p id="j362cd_27"><span class="control" id="j362cd_28">高扇出度</span> ：每个节点可以存储更多索引项</p></li><li class="list__item" id="j362cd_24"><p id="j362cd_29"><span class="control" id="j362cd_30">稳定性能</span> ：所有查询都需要到达叶子节点</p></li><li class="list__item" id="j362cd_25"><p id="j362cd_31"><span class="control" id="j362cd_32">范围查询</span> ：叶子节点链表支持高效范围扫描</p></li><li class="list__item" id="j362cd_26"><p id="j362cd_33"><span class="control" id="j362cd_34">磁盘友好</span> ：减少随机I/O，提高缓存效率</p></li></ol></section><section class="chapter"><h3 id="q2-b" data-toc="q2-b">Q2: B+树的结构是怎样的？查找过程如何进行？</h3><p id="j362cd_35"><span class="control" id="j362cd_39">答案：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 2210.171875 531"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="2210.171875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="B+树结构示例" class="cluster"><rect height="515" width="2194.171875" y="8" x="8" style=""></rect><g transform="translate(1056.2734375, 8)" class="cluster-label"><foreignObject height="24" width="97.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>B+树结构示例</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M132.514,259L146.259,284.5C160.004,310,187.494,361,204.364,386.5C221.234,412,227.484,412,233.068,412C238.651,412,243.568,412,246.026,412L248.484,412"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M174.558,259L181.296,263.167C188.033,267.333,201.509,275.667,224.839,279.833C248.169,284,281.354,284,314.539,284C347.724,284,380.909,284,414.224,284C447.539,284,480.984,284,514.43,284C547.875,284,581.32,284,601.168,284C621.016,284,627.266,284,632.849,284C638.432,284,643.349,284,645.807,284L648.266,284"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M177.484,196.407L183.734,194.172C189.984,191.938,202.484,187.469,225.327,185.234C248.169,183,281.354,183,314.539,183C347.724,183,380.909,183,414.224,183C447.539,183,480.984,183,514.43,183C547.875,183,581.32,183,614.635,183C647.951,183,681.135,183,714.32,183C747.505,183,780.69,183,817.512,183C854.333,183,894.792,183,935.25,183C975.708,183,1016.167,183,1040.392,183C1064.617,183,1072.609,183,1079.935,183C1087.26,183,1093.919,183,1097.249,183L1100.578,183"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M140.74,181L153.114,164.5C165.488,148,190.236,115,219.203,98.5C248.169,82,281.354,82,314.539,82C347.724,82,380.909,82,414.224,82C447.539,82,480.984,82,514.43,82C547.875,82,581.32,82,614.635,82C647.951,82,681.135,82,714.32,82C747.505,82,780.69,82,817.512,82C854.333,82,894.792,82,935.25,82C975.708,82,1016.167,82,1054.73,82C1093.294,82,1129.964,82,1166.633,82C1203.302,82,1239.971,82,1278.535,82C1317.099,82,1357.557,82,1398.016,82C1438.474,82,1478.932,82,1503.158,82C1527.383,82,1535.375,82,1542.701,82C1550.026,82,1556.685,82,1560.014,82L1563.344,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M376.594,435.063L382.844,437.386C389.094,439.709,401.594,444.354,410.969,446.677C420.344,449,426.594,449,432.177,449C437.76,449,442.677,449,445.135,449L447.594,449"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_G_5" d="M376.594,378.341L382.844,374.95C389.094,371.56,401.594,364.78,424.566,361.39C447.539,358,480.984,358,514.43,358C547.875,358,581.32,358,601.168,359.695C621.016,361.39,627.266,364.78,632.93,367.852C638.594,370.925,643.672,373.679,646.211,375.056L648.75,376.433"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_6" d="M776.375,317.659L782.625,321.05C788.875,324.44,801.375,331.22,811.576,336.693C821.777,342.167,829.679,346.333,836.991,350.189C844.304,354.045,851.026,357.59,854.388,359.362L857.749,361.134"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_I_7" d="M776.375,267.17L782.625,265.475C788.875,263.78,801.375,260.39,827.854,258.695C854.333,257,894.792,257,935.25,257C975.708,257,1016.167,257,1041.634,261.333C1067.102,265.667,1077.579,274.333,1087.542,282.575C1097.505,290.817,1106.955,298.634,1111.68,302.542L1116.404,306.45"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_J_8" d="M1228.688,213.461L1236.68,217.384C1244.672,221.307,1260.656,229.154,1274.857,238.244C1289.059,247.333,1301.476,257.667,1313.382,267.574C1325.287,277.48,1336.68,286.961,1342.377,291.701L1348.073,296.441"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_K_9" d="M1228.688,167.769L1236.68,165.808C1244.672,163.846,1260.656,159.923,1288.878,157.962C1317.099,156,1357.557,156,1398.016,156C1438.474,156,1478.932,156,1505.536,163.417C1532.139,170.833,1544.887,185.667,1557.201,199.994C1569.515,214.322,1581.394,228.144,1587.334,235.055L1593.273,241.966"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_L_10" d="M1691.453,112.461L1699.445,116.384C1707.438,120.307,1723.422,128.154,1738.67,140.327C1753.918,152.5,1768.431,169,1782.503,184.999C1796.575,200.999,1810.206,216.498,1817.022,224.247L1823.838,231.996"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_M_11" d="M1691.453,66.769L1699.445,64.808C1707.438,62.846,1723.422,58.923,1751.643,56.962C1779.865,55,1820.323,55,1860.781,55C1901.24,55,1941.698,55,1968.928,65.5C1996.157,76,2010.158,97,2023.789,117.445C2037.421,137.891,2050.682,157.781,2057.313,167.727L2063.943,177.672"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_12" d="M577.266,449L583.516,449C589.766,449,602.266,449,611.641,447.839C621.016,446.677,627.266,444.354,632.891,442.264C638.516,440.173,643.516,438.315,646.016,437.386L648.516,436.456"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_13" d="M776.375,412L782.625,412C788.875,412,801.375,412,810.75,411.743C820.125,411.485,826.375,410.97,831.961,410.51C837.546,410.05,842.467,409.644,844.928,409.442L847.389,409.239"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_I_14" d="M1019.125,402L1025.375,402C1031.625,402,1044.125,402,1053.5,400.466C1062.875,398.932,1069.125,395.864,1074.777,393.09C1080.428,390.316,1085.481,387.835,1088.008,386.595L1090.534,385.355"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_15" d="M1239.141,348L1245.391,348C1251.641,348,1264.141,348,1273.516,347.743C1282.891,347.485,1289.141,346.97,1294.726,346.51C1300.312,346.05,1305.233,345.644,1307.694,345.442L1310.154,345.239"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_K_16" d="M1481.891,338L1488.141,338C1494.391,338,1506.891,338,1516.266,336.466C1525.641,334.932,1531.891,331.864,1537.542,329.09C1543.194,326.316,1548.247,323.835,1550.773,322.595L1553.3,321.355"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_L_17" d="M1701.906,284L1708.156,284C1714.406,284,1726.906,284,1736.281,283.743C1745.656,283.485,1751.906,282.97,1757.492,282.51C1763.077,282.05,1767.999,281.644,1770.459,281.442L1772.92,281.239"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_M_18" d="M1944.656,274L1950.906,274C1957.156,274,1969.656,274,1979.031,272.466C1988.406,270.932,1994.656,267.864,2000.308,265.09C2005.959,262.316,2011.012,259.835,2013.539,258.595L2016.066,257.355"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(111.4921875, 220)" id="flowchart-A-5269" class="node default"><rect height="78" width="131.984375" y="-39" x="-65.9921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-35.9921875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="71.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>根节点<br>10, 20, 30</p></span></div></foreignObject></g></g><g transform="translate(314.5390625, 412)" id="flowchart-B-5270" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内部节点<br>5, 8</p></span></div></foreignObject></g></g><g transform="translate(714.3203125, 284)" id="flowchart-C-5271" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内部节点<br>15, 18</p></span></div></foreignObject></g></g><g transform="translate(1166.6328125, 183)" id="flowchart-D-5272" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内部节点<br>25, 28</p></span></div></foreignObject></g></g><g transform="translate(1629.3984375, 82)" id="flowchart-E-5273" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>内部节点<br>35, 38</p></span></div></foreignObject></g></g><g transform="translate(514.4296875, 449)" id="flowchart-F-5274" class="node default"><rect height="78" width="125.671875" y="-39" x="-62.8359375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.8359375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="65.671875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>1,2,3,4,5</p></span></div></foreignObject></g></g><g transform="translate(714.3203125, 412)" id="flowchart-G-5275" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>6,7,8,9</p></span></div></foreignObject></g></g><g transform="translate(935.25, 402)" id="flowchart-H-5276" class="node default"><rect height="78" width="167.75" y="-39" x="-83.875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="107.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>11,12,13,14,15</p></span></div></foreignObject></g></g><g transform="translate(1166.6328125, 348)" id="flowchart-I-5277" class="node default"><rect height="78" width="145.015625" y="-39" x="-72.5078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.5078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="85.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>16,17,18,19</p></span></div></foreignObject></g></g><g transform="translate(1398.015625, 338)" id="flowchart-J-5278" class="node default"><rect height="78" width="167.75" y="-39" x="-83.875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="107.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>21,22,23,24,25</p></span></div></foreignObject></g></g><g transform="translate(1629.3984375, 284)" id="flowchart-K-5279" class="node default"><rect height="78" width="145.015625" y="-39" x="-72.5078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.5078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="85.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>26,27,28,29</p></span></div></foreignObject></g></g><g transform="translate(1860.78125, 274)" id="flowchart-L-5280" class="node default"><rect height="78" width="167.75" y="-39" x="-83.875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-53.875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="107.75"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>31,32,33,34,35</p></span></div></foreignObject></g></g><g transform="translate(2092.1640625, 220)" id="flowchart-M-5281" class="node default"><rect height="78" width="145.015625" y="-39" x="-72.5078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-42.5078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="85.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点<br>36,37,38,39</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_37"><span class="control" id="j362cd_40">查找过程（以查找值15为例）：</span></p><ol class="list _decimal" id="j362cd_38" type="1"><li class="list__item" id="j362cd_41"><p id="j362cd_44"><span class="control" id="j362cd_45">根节点</span> ：15 &lt; 20，选择第二个子节点</p></li><li class="list__item" id="j362cd_42"><p id="j362cd_46"><span class="control" id="j362cd_47">内部节点</span> ：15 = 15，找到对应位置</p></li><li class="list__item" id="j362cd_43"><p id="j362cd_48"><span class="control" id="j362cd_49">叶子节点</span> ：在叶子节点中找到具体数据</p></li></ol></section></section><section class="chapter"><h2 id="j362cd_6" data-toc="j362cd_6">🔍 索引分类</h2><section class="chapter"><h3 id="q3-mysql" data-toc="q3-mysql">Q3: MySQL中有哪些类型的索引？各有什么特点？</h3><p id="j362cd_52"><span class="control" id="j362cd_57">答案：</span></p><p id="j362cd_53"><span class="control" id="j362cd_58">按存储结构分类：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 808.46875 1036"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="808.46875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="索引分类" class="cluster"><rect height="1020" width="792.46875" y="8" x="8" style=""></rect><g transform="translate(372.1796875, 8)" class="cluster-label"><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引分类</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M144.099,299L162.262,262.833C180.425,226.667,216.752,154.333,238.234,118.167C259.716,82,266.354,82,272.326,82C278.297,82,283.602,82,286.254,82L288.906,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M159.061,299L174.731,284.167C190.4,269.333,221.739,239.667,240.534,224.833C259.328,210,265.578,210,271.161,210C276.745,210,281.661,210,284.12,210L286.578,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_2" d="M465.391,82L472.029,82C478.667,82,491.943,82,501.706,82C511.469,82,517.719,82,523.302,82C528.885,82,533.802,82,536.26,82L538.719,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E_3" d="M467.719,210L473.969,210C480.219,210,492.719,210,502.762,210C512.805,210,520.391,210,527.31,210C534.229,210,540.482,210,543.608,210L546.734,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_4" d="M187.583,353L198.499,358.167C209.415,363.333,231.246,373.667,245.494,378.833C259.742,384,266.406,384,272.404,384C278.401,384,283.732,384,286.397,384L289.063,384"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_5" d="M437.836,357L449.067,351.833C460.297,346.667,482.758,336.333,501.119,331.167C519.48,326,533.742,326,547.337,326C560.932,326,573.861,326,580.325,326L586.789,326"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_H_6" d="M437.836,411L449.067,416.167C460.297,421.333,482.758,431.667,501.119,436.833C519.48,442,533.742,442,547.337,442C560.932,442,573.861,442,580.325,442L586.789,442"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_I_7" d="M138.127,353L157.286,421.167C176.444,489.333,214.761,625.667,238.587,693.833C262.413,762,271.747,762,280.415,762C289.083,762,297.085,762,301.085,762L305.086,762"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_J_8" d="M396.877,735L414.934,707.5C432.991,680,469.105,625,494.293,597.5C519.48,570,533.742,570,547.337,570C560.932,570,573.861,570,580.325,570L586.789,570"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_K_9" d="M432.334,735L444.482,728.833C456.629,722.667,480.924,710.333,500.202,704.167C519.48,698,533.742,698,547.337,698C560.932,698,573.861,698,580.325,698L586.789,698"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_L_10" d="M432.334,789L444.482,795.167C456.629,801.333,480.924,813.667,499.015,819.833C517.107,826,528.995,826,540.216,826C551.438,826,561.992,826,567.27,826L572.547,826"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_M_11" d="M396.877,789L414.934,816.5C432.991,844,469.105,899,494.064,926.5C519.023,954,532.828,954,545.966,954C559.104,954,571.576,954,577.811,954L584.047,954"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(130.5390625, 326)" id="flowchart-A-5388" class="node default"><rect height="54" width="170.078125" y="-27" x="-85.0390625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-55.0390625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="110.078125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>MySQL索引类型</p></span></div></foreignObject></g></g><g transform="translate(379.1484375, 82)" id="flowchart-B-5389" class="node default"><rect height="78" width="172.484375" y="-39" x="-86.2421875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.2421875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>聚集索引<br>Clustered Index</p></span></div></foreignObject></g></g><g transform="translate(379.1484375, 210)" id="flowchart-C-5391" class="node default"><rect height="78" width="177.140625" y="-39" x="-88.5703125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-58.5703125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="117.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>非聚集索引<br>Secondary Index</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 82)" id="flowchart-D-5393" class="node default"><rect height="78" width="220.25" y="-39" x="-110.125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-80.125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="160.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>数据和索引存储在一起<br>InnoDB主键索引</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 210)" id="flowchart-E-5395" class="node default"><rect height="78" width="204.21875" y="-39" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引和数据分开存储<br>普通索引、唯一索引</p></span></div></foreignObject></g></g><g transform="translate(379.1484375, 384)" id="flowchart-F-5397" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>按字段数量分类</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 326)" id="flowchart-G-5399" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>单列索引</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 442)" id="flowchart-H-5401" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>复合索引<br>多列索引</p></span></div></foreignObject></g></g><g transform="translate(379.1484375, 762)" id="flowchart-I-5403" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>按功能分类</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 570)" id="flowchart-J-5405" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>普通索引<br>无约束</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 698)" id="flowchart-K-5407" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>唯一索引<br>UNIQUE</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 826)" id="flowchart-L-5409" class="node default"><rect height="78" width="152.59375" y="-39" x="-76.296875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-46.296875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="92.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主键索引<br>PRIMARY KEY</p></span></div></foreignObject></g></g><g transform="translate(652.84375, 954)" id="flowchart-M-5411" class="node default"><rect height="78" width="129.59375" y="-39" x="-64.796875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-34.796875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="69.59375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>全文索引<br>FULLTEXT</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_55"><span class="control" id="j362cd_59">详细对比：</span></p><div class="table-wrapper"><table class="wide" id="j362cd_56"><thead><tr class="ijRowHead" id="j362cd_60"><th id="j362cd_66"><p>索引类型</p></th><th id="j362cd_67"><p>特点</p></th><th id="j362cd_68"><p>约束</p></th><th id="j362cd_69"><p>使用场景</p></th></tr></thead><tbody><tr id="j362cd_61"><td id="j362cd_70"><p><span class="control" id="j362cd_74">主键索引</span></p></td><td id="j362cd_71"><p>聚集索引，数据按主键排序</p></td><td id="j362cd_72"><p>唯一且非空</p></td><td id="j362cd_73"><p>主键字段</p></td></tr><tr id="j362cd_62"><td id="j362cd_75"><p><span class="control" id="j362cd_79">唯一索引</span></p></td><td id="j362cd_76"><p>保证字段值唯一性</p></td><td id="j362cd_77"><p>唯一，可为空</p></td><td id="j362cd_78"><p>用户名、邮箱等</p></td></tr><tr id="j362cd_63"><td id="j362cd_80"><p><span class="control" id="j362cd_84">普通索引</span></p></td><td id="j362cd_81"><p>最基本的索引</p></td><td id="j362cd_82"><p>无约束</p></td><td id="j362cd_83"><p>一般查询字段</p></td></tr><tr id="j362cd_64"><td id="j362cd_85"><p><span class="control" id="j362cd_89">复合索引</span></p></td><td id="j362cd_86"><p>多个字段组成的索引</p></td><td id="j362cd_87"><p>按字段顺序生效</p></td><td id="j362cd_88"><p>多条件查询</p></td></tr><tr id="j362cd_65"><td id="j362cd_90"><p><span class="control" id="j362cd_94">全文索引</span></p></td><td id="j362cd_91"><p>支持文本搜索</p></td><td id="j362cd_92"><p>仅MyISAM和InnoDB支持</p></td><td id="j362cd_93"><p>文本搜索</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="q4" data-toc="q4">Q4: 聚集索引和非聚集索引的区别是什么？</h3><p id="j362cd_95"><span class="control" id="j362cd_101">答案：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1150.84375 420"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1150.84375" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="非聚集索引（辅助索引）" class="cluster"><rect height="404" width="542.421875" y="8" x="8" style=""></rect><g transform="translate(191.078125, 8)" class="cluster-label"><foreignObject height="24" width="176.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>非聚集索引（辅助索引）</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_3" d="M157.655,183L173.908,166.167C190.161,149.333,222.666,115.667,242.044,98.833C261.422,82,267.672,82,273.255,82C278.839,82,283.755,82,286.214,82L288.672,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_G_4" d="M217.672,210L223.922,210C230.172,210,242.672,210,252.715,210C262.758,210,270.344,210,277.263,210C284.182,210,290.435,210,293.561,210L296.688,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_H_5" d="M157.655,237L173.908,253.833C190.161,270.667,222.666,304.333,243.379,321.167C264.092,338,273.013,338,281.267,338C289.521,338,297.108,338,300.902,338L304.695,338"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(131.5859375, 210)" id="flowchart-E-5461" class="node default"><rect height="54" width="172.171875" y="-27" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>非聚集索引结构</p></span></div></foreignObject></g></g><g transform="translate(402.796875, 82)" id="flowchart-F-5462" class="node default"><rect height="78" width="220.25" y="-39" x="-110.125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-80.125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="160.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点存储主键值<br>需要回表查询完整数据</p></span></div></foreignObject></g></g><g transform="translate(402.796875, 210)" id="flowchart-G-5464" class="node default"><rect height="78" width="204.21875" y="-39" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>可以有多个<br>不影响数据存储顺序</p></span></div></foreignObject></g></g><g transform="translate(402.796875, 338)" id="flowchart-H-5466" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>可能需要两次查询<br>先查索引再查数据</p></span></div></foreignObject></g></g></g></g><g transform="translate(592.421875, 0)" class="root"><g class="clusters"><g data-look="classic" id="聚集索引（主键索引）" class="cluster"><rect height="404" width="542.421875" y="8" x="8" style=""></rect><g transform="translate(199.0859375, 8)" class="cluster-label"><foreignObject height="24" width="160.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>聚集索引（主键索引）</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M147.958,183L163.158,166.167C178.357,149.333,208.757,115.667,227.082,98.833C245.406,82,251.656,82,257.24,82C262.823,82,267.74,82,270.198,82L272.656,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M201.656,210L207.906,210C214.156,210,226.656,210,236.699,210C246.741,210,254.326,210,261.243,210C268.161,210,274.413,210,277.538,210L280.664,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M147.958,237L163.158,253.833C178.357,270.667,208.757,304.333,230.419,321.167C252.082,338,265.008,338,277.267,338C289.526,338,301.118,338,306.915,338L312.711,338"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(123.578125, 210)" id="flowchart-A-5455" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>聚集索引结构</p></span></div></foreignObject></g></g><g transform="translate(394.7890625, 82)" id="flowchart-B-5456" class="node default"><rect height="78" width="236.265625" y="-39" x="-118.1328125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-88.1328125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="176.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>叶子节点存储完整数据行<br>数据即索引，索引即数据</p></span></div></foreignObject></g></g><g transform="translate(394.7890625, 210)" id="flowchart-C-5458" class="node default"><rect height="78" width="220.25" y="-39" x="-110.125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-80.125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="160.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>每个表只能有一个<br>决定数据物理存储顺序</p></span></div></foreignObject></g></g><g transform="translate(394.7890625, 338)" id="flowchart-D-5460" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>查询速度快<br>直接返回数据</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_97"><span class="control" id="j362cd_102">回表查询过程：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1016.15625 94"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1016.15625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M208.406,47L212.573,47C216.74,47,225.073,47,231.323,47C237.573,47,241.74,47,245.24,47C248.74,47,251.573,47,252.99,47L254.406,47"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_1" d="M405.734,47L409.901,47C414.068,47,422.401,47,428.651,47C434.901,47,439.068,47,442.568,47C446.068,47,448.901,47,450.318,47L451.734,47"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_2" d="M595.859,47L600.026,47C604.193,47,612.526,47,618.776,47C625.026,47,629.193,47,632.693,47C636.193,47,639.026,47,640.443,47L641.859,47"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_3" d="M785.984,47L790.151,47C794.318,47,802.651,47,808.901,47C815.151,47,819.318,47,822.818,47C826.318,47,829.151,47,830.568,47L831.984,47"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(108.203125, 47)" id="flowchart-A-5510" class="node default"><rect height="78" width="200.40625" y="-39" x="-100.203125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-70.203125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="140.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>查询条件<br>WHERE name='张三'</p></span></div></foreignObject></g></g><g transform="translate(332.0703125, 47)" id="flowchart-B-5511" class="node default"><rect height="78" width="147.328125" y="-39" x="-73.6640625" data-et="node" data-id="abc" style="fill:#FFB6C1 !important" class="basic label-container"></rect><g transform="translate(-43.6640625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="87.328125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>非聚集索引<br>name索引树</p></span></div></foreignObject></g></g><g transform="translate(525.796875, 47)" id="flowchart-C-5513" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>找到主键值<br>id=100</p></span></div></foreignObject></g></g><g transform="translate(715.921875, 47)" id="flowchart-D-5515" class="node default"><rect height="78" width="140.125" y="-39" x="-70.0625" data-et="node" data-id="abc" style="fill:#90EE90 !important" class="basic label-container"></rect><g transform="translate(-40.0625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>聚集索引<br>主键索引树</p></span></div></foreignObject></g></g><g transform="translate(922.0703125, 47)" id="flowchart-E-5517" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>返回完整数据行<br>所有字段数据</p></span></div></foreignObject></g></g></g></g></g></svg><p id="j362cd_99"><span class="control" id="j362cd_103">性能差异：</span></p><ul class="list _bullet" id="j362cd_100"><li class="list__item" id="j362cd_104"><p id="j362cd_106"><span class="control" id="j362cd_107">聚集索引</span> ：一次查询即可获得所有数据</p></li><li class="list__item" id="j362cd_105"><p id="j362cd_108"><span class="control" id="j362cd_109">非聚集索引</span> ：可能需要回表查询，产生额外I/O</p></li></ul></section></section><section class="chapter"><h2 id="j362cd_7" data-toc="j362cd_7">🎯 复合索引详解</h2><section class="chapter"><h3 id="q5" data-toc="q5">Q5: 什么是复合索引？最左前缀原则是什么？</h3><p id="j362cd_112"><span class="control" id="j362cd_118">答案：</span></p><p id="j362cd_113">复合索引是在多个字段上建立的索引，遵循最左前缀原则。</p><p id="j362cd_114"><span class="control" id="j362cd_119">复合索引结构示例：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1127.640625 956"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="1127.640625" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="最左前缀原则" class="cluster"><rect height="940" width="614.21875" y="8" x="8" style=""></rect><g transform="translate(267.03125, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>最左前缀原则</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_5" d="M166.647,253L186.742,224.5C206.838,196,247.028,139,274.793,110.5C302.557,82,317.896,82,332.568,82C347.24,82,361.245,82,368.247,82L375.25,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_I_6" d="M201.459,253L215.752,245.833C230.045,238.667,258.632,224.333,278.347,217.167C298.061,210,308.904,210,319.079,210C329.255,210,338.764,210,343.519,210L348.273,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_J_7" d="M201.459,307L215.752,314.167C230.045,321.333,258.632,335.667,276.05,342.833C293.469,350,299.719,350,305.302,350C310.885,350,315.802,350,318.26,350L320.719,350"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_K_8" d="M165.559,307L185.836,337.5C206.112,368,246.666,429,272.404,459.5C298.143,490,309.068,490,319.326,490C329.583,490,339.174,490,343.97,490L348.766,490"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_M_9" d="M177.058,719L195.418,702.167C213.778,685.333,250.499,651.667,275.193,634.833C299.887,618,312.555,618,324.556,618C336.557,618,347.892,618,353.559,618L359.227,618"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_N_10" d="M249.719,746L255.969,746C262.219,746,274.719,746,287.303,746C299.887,746,312.555,746,324.556,746C336.557,746,347.892,746,353.559,746L359.227,746"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_O_11" d="M177.058,773L195.418,789.833C213.778,806.667,250.499,840.333,274.3,857.167C298.102,874,308.984,874,319.201,874C329.417,874,338.966,874,343.741,874L348.516,874"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(147.609375, 280)" id="flowchart-G-5548" class="node default"><rect height="54" width="204.21875" y="-27" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>可以使用索引的查询</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 82)" id="flowchart-H-5549" class="node default"><rect height="78" width="150.9375" y="-39" x="-75.46875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-45.46875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="90.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE a=1<br>✅ 使用索引</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 210)" id="flowchart-I-5551" class="node default"><rect height="78" width="204.890625" y="-39" x="-102.4453125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.4453125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="144.890625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE a=1 AND b=1<br>✅ 使用索引</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 350)" id="flowchart-J-5553" class="node default"><rect height="102" width="260" y="-51" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -36)" style="" class="label"><rect></rect><foreignObject height="72" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE a=1 AND b=1 AND c=1<br>✅ 使用索引</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 490)" id="flowchart-K-5555" class="node default"><rect height="78" width="203.90625" y="-39" x="-101.953125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-71.953125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="143.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE a=1 AND c=1<br>✅ 部分使用索引</p></span></div></foreignObject></g></g><g transform="translate(147.609375, 746)" id="flowchart-L-5556" class="node default"><rect height="54" width="204.21875" y="-27" x="-102.109375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.109375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="144.21875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>无法使用索引的查询</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 618)" id="flowchart-M-5557" class="node default"><rect height="78" width="182.984375" y="-39" x="-91.4921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-61.4921875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="122.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE b=1<br>❌ 跳过最左字段</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 746)" id="flowchart-N-5559" class="node default"><rect height="78" width="182.984375" y="-39" x="-91.4921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-61.4921875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="122.984375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE c=1<br>❌ 跳过最左字段</p></span></div></foreignObject></g></g><g transform="translate(454.71875, 874)" id="flowchart-O-5561" class="node default"><rect height="78" width="204.40625" y="-39" x="-102.203125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-72.203125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="144.40625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>WHERE b=1 AND c=1<br>❌ 跳过最左字段</p></span></div></foreignObject></g></g></g></g><g transform="translate(664.21875, 200)" class="root"><g class="clusters"><g data-look="classic" id="subGraph0" class="cluster"><rect height="540" width="447.421875" y="8" x="8" style=""></rect><g transform="translate(167.9375, 8)" class="cluster-label"><foreignObject height="24" width="127.546875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>复合索引 (a, b, c)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M129.525,251L145.125,220.833C160.725,190.667,191.925,130.333,210.65,100.167C229.375,70,235.625,70,241.208,70C246.792,70,251.708,70,254.167,70L256.625,70"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M143.487,251L156.76,238.167C170.033,225.333,196.579,199.667,212.977,186.833C229.375,174,235.625,174,241.208,174C246.792,174,251.708,174,254.167,174L256.625,174"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M185.625,278L191.875,278C198.125,278,210.625,278,220,278C229.375,278,235.625,278,241.208,278C246.792,278,251.708,278,254.167,278L256.625,278"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M143.487,305L156.76,317.833C170.033,330.667,196.579,356.333,212.977,369.167C229.375,382,235.625,382,241.208,382C246.792,382,251.708,382,254.167,382L256.625,382"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_4" d="M129.525,305L145.125,335.167C160.725,365.333,191.925,425.667,210.65,455.833C229.375,486,235.625,486,241.208,486C246.792,486,251.708,486,254.167,486L256.625,486"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(115.5625, 278)" id="flowchart-A-5538" class="node default"><rect height="54" width="140.125" y="-27" x="-70.0625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-40.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="80.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引键组合</p></span></div></foreignObject></g></g><g transform="translate(339.2734375, 70)" id="flowchart-B-5539" class="node default"><rect height="54" width="157.296875" y="-27" x="-78.6484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>a=1, b=1, c=1</p></span></div></foreignObject></g></g><g transform="translate(339.2734375, 174)" id="flowchart-C-5541" class="node default"><rect height="54" width="157.296875" y="-27" x="-78.6484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>a=1, b=1, c=2</p></span></div></foreignObject></g></g><g transform="translate(339.2734375, 278)" id="flowchart-D-5543" class="node default"><rect height="54" width="157.296875" y="-27" x="-78.6484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>a=1, b=2, c=1</p></span></div></foreignObject></g></g><g transform="translate(339.2734375, 382)" id="flowchart-E-5545" class="node default"><rect height="54" width="157.296875" y="-27" x="-78.6484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>a=2, b=1, c=1</p></span></div></foreignObject></g></g><g transform="translate(339.2734375, 486)" id="flowchart-F-5547" class="node default"><rect height="54" width="157.296875" y="-27" x="-78.6484375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.6484375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="97.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>a=2, b=2, c=1</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_116"><span class="control" id="j362cd_120">最左前缀原则解释：</span></p><ul class="list _bullet" id="j362cd_117"><li class="list__item" id="j362cd_121"><p id="j362cd_124">查询条件必须包含复合索引的最左字段</p></li><li class="list__item" id="j362cd_122"><p id="j362cd_125">可以只使用索引的前几个字段</p></li><li class="list__item" id="j362cd_123"><p id="j362cd_126">中间跳过字段会导致后续字段无法使用索引</p></li></ul></section><section class="chapter"><h3 id="q6" data-toc="q6">Q6: 如何设计高效的复合索引？</h3><p id="j362cd_127"><span class="control" id="j362cd_132">答案：</span></p><p id="j362cd_128"><span class="control" id="j362cd_133">设计原则：</span></p><p id="j362cd_130"><span class="control" id="j362cd_134">设计策略：</span></p><ol class="list _decimal" id="j362cd_131" type="1"><li class="list__item" id="j362cd_135"><p id="j362cd_137"><span class="control" id="j362cd_139">字段顺序优化</span></p><div class="code-block" data-lang="sql">
-- 不推荐：区分度低的字段在前
INDEX idx_bad (gender, age, user_id)

-- 推荐：区分度高的字段在前
INDEX idx_good (user_id, age, gender)
</div></li><li class="list__item" id="j362cd_136"><p id="j362cd_140"><span class="control" id="j362cd_142">考虑查询模式</span></p><div class="code-block" data-lang="sql">
-- 常见查询模式
WHERE category_id = 1 AND status = 1 ORDER BY create_time DESC

-- 对应索引设计
INDEX idx_category_status_time (category_id, status, create_time)
</div></li></ol></section></section><section class="chapter"><h2 id="j362cd_8" data-toc="j362cd_8">🚫 索引失效场景</h2><section class="chapter"><h3 id="q7" data-toc="q7">Q7: 哪些情况会导致索引失效？如何避免？</h3><p id="j362cd_144"><span class="control" id="j362cd_149">答案：</span></p><p id="j362cd_145"><span class="control" id="j362cd_150">索引失效的常见场景：</span></p><p id="j362cd_147"><span class="control" id="j362cd_151">具体示例：</span></p><div class="code-block" data-lang="sql">
-- ❌ 索引失效的写法
WHERE DATE_FORMAT(create_time, '%Y-%m') = '2023-01'
WHERE phone = 13800138000  -- 数字类型，但phone是varchar
WHERE name LIKE '%张%'
WHERE id + 1 = 100

-- ✅ 索引生效的写法  
WHERE create_time &gt;= '2023-01-01' AND create_time &lt; '2023-02-01'
WHERE phone = '13800138000'  -- 字符串加引号
WHERE name LIKE '张%'
WHERE id = 99
</div></section></section><section class="chapter"><h2 id="j362cd_9" data-toc="j362cd_9">📊 执行计划分析</h2><section class="chapter"><h3 id="q8-explain" data-toc="q8-explain">Q8: 如何使用EXPLAIN分析索引使用情况？</h3><p id="j362cd_154"><span class="control" id="j362cd_161">答案：</span></p><p id="j362cd_155"><span class="control" id="j362cd_162">EXPLAIN输出字段说明：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 874 676"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="874" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 204)" class="root"><g class="clusters"><g data-look="classic" id="type类型性能排序" class="cluster"><rect height="252" width="335" y="8" x="8" style=""></rect><g transform="translate(111.4375, 8)" class="cluster-label"><foreignObject height="24" width="128.125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>type类型性能排序</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(175.5, 82)" id="flowchart-G-5669" class="node default"><rect height="78" width="260" y="-39" x="-130" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALL</p></span></div></foreignObject></g></g><g transform="translate(175.5, 198)" id="flowchart-H-5670" class="node default"><rect height="54" width="165.84375" y="-27" x="-82.921875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-52.921875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="105.84375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>最优 ←→ 最差</p></span></div></foreignObject></g></g></g></g><g transform="translate(385, 0)" class="root"><g class="clusters"><g data-look="classic" id="EXPLAIN关键字段" class="cluster"><rect height="660" width="473" y="8" x="8" style=""></rect><g transform="translate(183.0625, 8)" class="cluster-label"><foreignObject height="24" width="122.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>EXPLAIN关键字段</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M132.823,311L149.657,272.833C166.491,234.667,200.16,158.333,222.122,120.167C244.083,82,254.339,82,263.927,82C273.516,82,282.438,82,286.898,82L291.359,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M144.732,311L159.581,294.167C174.431,277.333,204.129,243.667,222.104,226.833C240.078,210,246.328,210,251.911,210C257.495,210,262.411,210,264.87,210L267.328,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M196.328,338L202.578,338C208.828,338,221.328,338,232.706,338C244.083,338,254.339,338,263.927,338C273.516,338,282.438,338,286.898,338L291.359,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_3" d="M144.732,365L159.581,381.833C174.431,398.667,204.129,432.333,224.106,449.167C244.083,466,254.339,466,263.927,466C273.516,466,282.438,466,286.898,466L291.359,466"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_4" d="M132.823,365L149.657,403.167C166.491,441.333,200.16,517.667,222.122,555.833C244.083,594,254.339,594,263.927,594C273.516,594,282.438,594,286.898,594L291.359,594"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(120.9140625, 338)" id="flowchart-A-5659" class="node default"><rect height="54" width="150.828125" y="-27" x="-75.4140625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-45.4140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="90.828125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>EXPLAIN分析</p></span></div></foreignObject></g></g><g transform="translate(357.4140625, 82)" id="flowchart-B-5660" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>type<br>访问类型</p></span></div></foreignObject></g></g><g transform="translate(357.4140625, 210)" id="flowchart-C-5662" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>key<br>实际使用的索引</p></span></div></foreignObject></g></g><g transform="translate(357.4140625, 338)" id="flowchart-D-5664" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>key_len<br>索引长度</p></span></div></foreignObject></g></g><g transform="translate(357.4140625, 466)" id="flowchart-E-5666" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>rows<br>扫描行数</p></span></div></foreignObject></g></g><g transform="translate(357.4140625, 594)" id="flowchart-F-5668" class="node default"><rect height="78" width="124.109375" y="-39" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Extra<br>额外信息</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_157"><span class="control" id="j362cd_163">重要字段详解：</span></p><div class="table-wrapper"><table class="wide" id="j362cd_158"><thead><tr class="ijRowHead" id="j362cd_164"><th id="j362cd_170"><p>字段</p></th><th id="j362cd_171"><p>含义</p></th><th id="j362cd_172"><p>优化目标</p></th></tr></thead><tbody><tr id="j362cd_165"><td id="j362cd_173"><p><span class="control" id="j362cd_176">type</span></p></td><td id="j362cd_174"><p>连接类型</p></td><td id="j362cd_175"><p>避免ALL（全表扫描）</p></td></tr><tr id="j362cd_166"><td id="j362cd_177"><p><span class="control" id="j362cd_180">key</span></p></td><td id="j362cd_178"><p>使用的索引</p></td><td id="j362cd_179"><p>确保使用了合适的索引</p></td></tr><tr id="j362cd_167"><td id="j362cd_181"><p><span class="control" id="j362cd_184">key_len</span></p></td><td id="j362cd_182"><p>索引长度</p></td><td id="j362cd_183"><p>复合索引的使用长度</p></td></tr><tr id="j362cd_168"><td id="j362cd_185"><p><span class="control" id="j362cd_188">rows</span></p></td><td id="j362cd_186"><p>扫描行数</p></td><td id="j362cd_187"><p>越少越好</p></td></tr><tr id="j362cd_169"><td id="j362cd_189"><p><span class="control" id="j362cd_192">Extra</span></p></td><td id="j362cd_190"><p>额外信息</p></td><td id="j362cd_191"><p>关注Using filesort等</p></td></tr></tbody></table></div><p id="j362cd_159"><span class="control" id="j362cd_193">实际分析案例：</span></p><div class="code-block" data-lang="sql">
-- 查询语句
EXPLAIN SELECT * FROM users WHERE age = 25 AND name = '张三';

-- 分析结果
+------+-------+----------+------+----------+------+
| type | key   | key_len  | rows | Extra    |
+------+-------+----------+------+----------+------+
| ref  | idx_age_name | 68 | 100  | NULL     |
+------+-------+----------+------+----------+------+
</div></section><section class="chapter"><h3 id="q9" data-toc="q9">Q9: 什么是覆盖索引？有什么优势？</h3><p id="j362cd_194"><span class="control" id="j362cd_201">答案：</span></p><p id="j362cd_195">覆盖索引是指查询的所有字段都包含在索引中，无需回表查询。</p><p id="j362cd_197"><span class="control" id="j362cd_202">覆盖索引设计示例：</span></p><div class="code-block" data-lang="sql">
-- 频繁查询
SELECT id, name, email FROM users WHERE age BETWEEN 20 AND 30;

-- 设计覆盖索引
CREATE INDEX idx_age_name_email_id ON users(age, name, email, id);

-- EXPLAIN显示Extra: Using index（使用了覆盖索引）
</div><p id="j362cd_199"><span class="control" id="j362cd_203">优势：</span></p><ol class="list _decimal" id="j362cd_200" type="1"><li class="list__item" id="j362cd_204"><p id="j362cd_207"><span class="control" id="j362cd_208">减少I/O</span> ：避免回表查询</p></li><li class="list__item" id="j362cd_205"><p id="j362cd_209"><span class="control" id="j362cd_210">提高性能</span> ：减少磁盘访问次数</p></li><li class="list__item" id="j362cd_206"><p id="j362cd_211"><span class="control" id="j362cd_212">降低锁竞争</span> ：减少对聚集索引的访问</p></li></ol></section></section><section class="chapter"><h2 id="j362cd_10" data-toc="j362cd_10">💡 索引优化策略</h2><section class="chapter"><h3 id="q10" data-toc="q10">Q10: 如何进行索引优化？有哪些最佳实践？</h3><p id="j362cd_214"><span class="control" id="j362cd_221">答案：</span></p><p id="j362cd_215"><span class="control" id="j362cd_222">索引优化策略：</span></p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 717.875 1188"  class="flowchart" xmlns="http://www.w3.org/2000/svg" width="717.875" id="mermaid"><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="索引优化策略" class="cluster"><rect height="1172" width="701.875" y="8" x="8" style=""></rect><g transform="translate(310.859375, 8)" class="cluster-label"><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引优化策略</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M114.555,567L129.98,507.5C145.406,448,176.258,329,194.809,269.5C213.359,210,219.609,210,225.193,210C230.776,210,235.693,210,238.151,210L240.609,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_1" d="M169.609,594L175.859,594C182.109,594,194.609,594,203.984,594C213.359,594,219.609,594,225.193,594C230.776,594,235.693,594,238.151,594L240.609,594"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_2" d="M114.555,621L129.98,680.5C145.406,740,176.258,859,194.809,918.5C213.359,978,219.609,978,225.193,978C230.776,978,235.693,978,238.151,978L240.609,978"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_3" d="M347.067,183L362.267,166.167C377.467,149.333,407.866,115.667,426.191,98.833C444.516,82,450.766,82,456.349,82C461.932,82,466.849,82,469.307,82L471.766,82"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_4" d="M400.766,210L407.016,210C413.266,210,425.766,210,436.826,210C447.887,210,457.508,210,466.462,210C475.417,210,483.704,210,487.848,210L491.992,210"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_G_5" d="M347.067,237L362.267,253.833C377.467,270.667,407.866,304.333,427.876,321.167C447.887,338,457.508,338,466.462,338C475.417,338,483.704,338,487.848,338L491.992,338"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_H_6" d="M347.067,567L362.267,550.167C377.467,533.333,407.866,499.667,427.876,482.833C447.887,466,457.508,466,466.462,466C475.417,466,483.704,466,487.848,466L491.992,466"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_I_7" d="M400.766,594L407.016,594C413.266,594,425.766,594,436.826,594C447.887,594,457.508,594,466.462,594C475.417,594,483.704,594,487.848,594L491.992,594"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_J_8" d="M347.067,621L362.267,637.833C377.467,654.667,407.866,688.333,426.541,705.167C445.216,722,452.167,722,458.451,722C464.734,722,470.352,722,473.16,722L475.969,722"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_K_9" d="M347.067,951L362.267,934.167C377.467,917.333,407.866,883.667,427.209,866.833C446.552,850,454.839,850,462.458,850C470.078,850,477.031,850,480.508,850L483.984,850"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_L_10" d="M400.766,978L407.016,978C413.266,978,425.766,978,435.491,978C445.216,978,452.167,978,458.451,978C464.734,978,470.352,978,473.16,978L475.969,978"></path><path marker-end="url(#mermaid_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_M_11" d="M347.067,1005L362.267,1021.833C377.467,1038.667,407.866,1072.333,426.541,1089.167C445.216,1106,452.167,1106,458.451,1106C464.734,1106,470.352,1106,473.16,1106L475.969,1106"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(107.5546875, 594)" id="flowchart-A-5702" class="node default"><rect height="54" width="124.109375" y="-27" x="-62.0546875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-32.0546875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="64.109375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引优化</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 210)" id="flowchart-B-5703" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>索引设计优化</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 594)" id="flowchart-C-5705" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>查询语句优化</p></span></div></foreignObject></g></g><g transform="translate(322.6875, 978)" id="flowchart-D-5707" class="node default"><rect height="54" width="156.15625" y="-27" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>监控分析优化</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 82)" id="flowchart-E-5709" class="node default"><rect height="78" width="196.609375" y="-39" x="-98.3046875" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-68.3046875, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="136.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>合理选择索引字段<br>高频查询+高区分度</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 210)" id="flowchart-F-5711" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>设计复合索引<br>考虑查询模式</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 338)" id="flowchart-G-5713" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>使用前缀索引<br>节省存储空间</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 466)" id="flowchart-H-5715" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>避免索引失效<br>规范SQL写法</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 594)" id="flowchart-I-5717" class="node default"><rect height="78" width="156.15625" y="-39" x="-78.078125" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-48.078125, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="96.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>使用覆盖索引<br>减少回表查询</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 722)" id="flowchart-J-5719" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>合理使用索引提示<br>强制使用索引</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 850)" id="flowchart-K-5721" class="node default"><rect height="78" width="172.171875" y="-39" x="-86.0859375" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-56.0859375, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="112.171875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>分析慢查询日志<br>找出性能瓶颈</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 978)" id="flowchart-L-5723" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>监控索引使用情况<br>删除无用索引</p></span></div></foreignObject></g></g><g transform="translate(574.0703125, 1106)" id="flowchart-M-5725" class="node default"><rect height="78" width="188.203125" y="-39" x="-94.1015625" data-et="node" data-id="abc" style="" class="basic label-container"></rect><g transform="translate(-64.1015625, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="128.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>定期统计信息更新<br>保持优化器准确性</p></span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="j362cd_217"><span class="control" id="j362cd_223">最佳实践清单：</span></p><ol class="list _decimal" id="j362cd_218" type="1"><li class="list__item" id="j362cd_224"><p id="j362cd_227"><span class="control" id="j362cd_229">索引设计原则</span></p><ul class="list _bullet" id="j362cd_228"><li class="list__item" id="j362cd_230"><p id="j362cd_233">为频繁查询的字段建立索引</p></li><li class="list__item" id="j362cd_231"><p id="j362cd_234">复合索引遵循最左前缀原则</p></li><li class="list__item" id="j362cd_232"><p id="j362cd_235">考虑查询、排序、分组的需求</p></li></ul></li><li class="list__item" id="j362cd_225"><p id="j362cd_236"><span class="control" id="j362cd_238">性能优化技巧</span></p><ul class="list _bullet" id="j362cd_237"><li class="list__item" id="j362cd_239"><p id="j362cd_242">使用覆盖索引避免回表</p></li><li class="list__item" id="j362cd_240"><p id="j362cd_243">合理使用前缀索引节省空间</p></li><li class="list__item" id="j362cd_241"><p id="j362cd_244">定期清理无用索引</p></li></ul></li><li class="list__item" id="j362cd_226"><p id="j362cd_245"><span class="control" id="j362cd_247">监控和维护</span></p><ul class="list _bullet" id="j362cd_246"><li class="list__item" id="j362cd_248"><p id="j362cd_251">监控慢查询日志</p></li><li class="list__item" id="j362cd_249"><p id="j362cd_252">分析索引使用统计</p></li><li class="list__item" id="j362cd_250"><p id="j362cd_253">定期更新表统计信息</p></li></ul></li></ol><p id="j362cd_219"><span class="control" id="j362cd_254">索引维护命令：</span></p><div class="code-block" data-lang="sql">
-- 查看索引使用情况
SELECT * FROM sys.schema_unused_indexes;

-- 更新表统计信息
ANALYZE TABLE table_name;

-- 重建索引
ALTER TABLE table_name DROP INDEX idx_name, ADD INDEX idx_name (column);
</div></section></section><section class="chapter"><h2 id="j362cd_11" data-toc="j362cd_11">💡 面试技巧</h2><section class="chapter"><h3 id="j362cd_255" data-toc="j362cd_255">高频考点</h3><ol class="list _decimal" id="j362cd_257" type="1"><li class="list__item" id="j362cd_258"><p id="j362cd_263"><span class="control" id="j362cd_264">B+树原理</span> ：为什么选择B+树，结构特点</p></li><li class="list__item" id="j362cd_259"><p id="j362cd_265"><span class="control" id="j362cd_266">索引类型区别</span> ：聚集索引vs非聚集索引</p></li><li class="list__item" id="j362cd_260"><p id="j362cd_267"><span class="control" id="j362cd_268">复合索引使用</span> ：最左前缀原则</p></li><li class="list__item" id="j362cd_261"><p id="j362cd_269"><span class="control" id="j362cd_270">索引失效场景</span> ：常见的失效情况和解决方案</p></li><li class="list__item" id="j362cd_262"><p id="j362cd_271"><span class="control" id="j362cd_272">执行计划分析</span> ：EXPLAIN的使用和分析</p></li></ol></section><section class="chapter"><h3 id="j362cd_256" data-toc="j362cd_256">回答策略</h3><ol class="list _decimal" id="j362cd_273" type="1"><li class="list__item" id="j362cd_276"><p id="j362cd_280"><span class="control" id="j362cd_281">原理解释</span> ：从底层原理解释索引的工作机制</p></li><li class="list__item" id="j362cd_277"><p id="j362cd_282"><span class="control" id="j362cd_283">场景分析</span> ：结合具体业务场景说明索引设计</p></li><li class="list__item" id="j362cd_278"><p id="j362cd_284"><span class="control" id="j362cd_285">性能对比</span> ：通过数据对比说明优化效果</p></li><li class="list__item" id="j362cd_279"><p id="j362cd_286"><span class="control" id="j362cd_287">实际经验</span> ：分享索引优化的实际案例</p></li></ol><p id="j362cd_275"><span class="control" id="j362cd_288">学习建议</span> ：索引优化是MySQL性能调优的核心，建议通过实际案例练习索引设计和优化，特别要深入理解B+树原理和执行计划分析。</p></section></section><div class="last-modified">09 六月 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="mysql存储引擎qa.html" class="navigation-links__prev">MySQL存储引擎QA</a><a href="mysql事务与锁qa.html" class="navigation-links__next">MySQL事务与锁QA</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>